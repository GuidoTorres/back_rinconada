"use strict";(self.webpackChunkrinconada=self.webpackChunkrinconada||[]).push([[1699],{48658:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(4942),a=n(74165),i=n(15861),s=n(29439),o=n(72791),l=n(38411),c=n(53939),d=n(99763),u=n(83188),p=(n(4808),n(36459)),x=n(49389),g=(n(28938),n(80184)),h=x.Z.Search,f=function(e){(0,p.Z)(e);var t=(0,o.useContext)(l.s).setFilterText;return(0,g.jsx)("div",{className:"buscador-finanza",children:(0,g.jsx)(h,{placeholder:"Buscar",onChange:function(e){return t(e.target.value)},style:{width:300}})})},m=n(95579),j=(n(12469),n(34664)),v=n(43513),Z=function(e){var t=e.columns,n=e.table;e.set;return(0,g.jsx)("div",{className:"table-container",children:(0,g.jsx)(v.ZP,{columns:t,data:n,pagination:!0,fixedHeader:!0,striped:!0,highlightOnHover:!0,expandableRows:!0,expandableRowsComponent:function(e){var t=e.data;return(0,g.jsx)("div",{style:{padding:"10px 20px 10px 60px"},children:(0,g.jsxs)("div",{style:{marginTop:"5px"},children:[(0,g.jsxs)("label",{htmlFor:"",children:[(0,g.jsx)("strong",{children:"Solicitante:"})," ",t.solicitante]}),(0,g.jsx)("br",{}),(0,g.jsxs)("label",{htmlFor:"",children:[(0,g.jsx)("strong",{children:"Tel\xe9fono:"})," ",t.celular]}),(0,g.jsxs)("table",{style:{marginTop:"20px"},children:[(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{width:"140px",textAlign:"center"},children:(0,g.jsx)("strong",{children:"Fecha de pedido"})}),(0,g.jsx)("td",{style:{width:"240px",textAlign:"center"},children:(0,g.jsx)("strong",{children:"Producto"})}),(0,g.jsx)("td",{style:{width:"180px",textAlign:"center"},children:(0,g.jsx)("strong",{children:"Cantidad"})})]}),t.requerimiento_productos.map((function(e,n){return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{textAlign:"center"},children:t.fecha_pedido}),(0,g.jsx)("td",{style:{textAlign:"center"},children:e.producto.nombre}),(0,g.jsx)("td",{style:{textAlign:"center"},children:e.cantidad})]},n)}))]})]})})},paginationComponentOptions:{rowsPerPageText:"Filas por p\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!1,selectAllRowsItemText:"Todos"},responsive:!0,noHeader:!0,noDataComponent:(0,g.jsx)(j.Z,{image:j.Z.PRESENTED_IMAGE_SIMPLE,description:(0,g.jsx)("span",{children:"No hay registros para mostrar."})})})})},b=function(){var e=(0,o.useContext)(l.s),t=e.getData,n=e.updateData,p=(0,o.useState)([]),x=(0,s.Z)(p,2),h=x[0],j=x[1],v=(0,o.useState)(),b=(0,s.Z)(v,2),w=b[0],y=b[1],T=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("requerimiento");case 2:n=e.sent,j(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=(0,m.Z)(h).result;(0,o.useEffect)((function(){T()}),[]),(0,o.useEffect)((function(){if(void 0!==w){T();var e=h.filter((function(e){return e.id===w.id})).filter((function(e){return!0===e.aprobacion1&&!0===e.aprobacion2&&!0===e.aprobacion3}));if(e.length>0){P(w,{estado:!0})}if(0===e){P(w,{estado:!1})}}}),[w]);var P=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,r){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"requerimiento",e.next=3,n(r,t.id,"requerimiento");case 3:(i=e.sent)&&((0,d.q)(i.status,i.mensaje),T());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,i){var s,o,l,c,u,p,x,g,h,f,m;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"requerimiento",y(i),"aprobacion_jefe"===t.target.name&&(!0===t.target.checked?(s=JSON.parse(localStorage.getItem("firma")),u={},(0,r.Z)(u,t.target.name,t.target.checked),(0,r.Z)(u,"firma_jefe",s),c=u):(p={},(0,r.Z)(p,t.target.name,t.target.checked),(0,r.Z)(p,"firma_jefe",""),c=p)),"aprobacion_gerente"===t.target.name&&(!0===t.target.checked?(o=JSON.parse(localStorage.getItem("firma")),x={},(0,r.Z)(x,t.target.name,t.target.checked),(0,r.Z)(x,"firma_gerente",o),c=x):(g={},(0,r.Z)(g,t.target.name,t.target.checked),(0,r.Z)(g,"firma_gerente",""),c=g)),"aprobacion_superintendente"===t.target.name&&(!0===t.target.checked?(l=JSON.parse(localStorage.getItem("firma")),h={},(0,r.Z)(h,t.target.name,t.target.checked),(0,r.Z)(h,"firma_superintendente",l),c=h):(f={},(0,r.Z)(f,t.target.name,t.target.checked),(0,r.Z)(f,"firma_superintendente",""),c=f)),e.next=7,n(c,i.id,"requerimiento");case 7:(m=e.sent)&&((0,d.q)(m.status,m.msg),T());case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=(0,c.DQ)(S,(function(){}));return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{text:"Aprobaciones",user:"Usuario",ruta:"/logistica"}),(0,g.jsxs)("div",{className:"margenes",children:[(0,g.jsx)(f,{}),(0,g.jsx)(Z,{columns:C,table:A})]})]})}},4808:function(e,t,n){n(72791);var r=n(43513),a=n(34664),i=(n(51279),n(80184));t.Z=function(e){var t=e.columns,n=e.table,s=e.filas,o=s?[s,2*s,3*s,4*s,5*s]:[10,20,30,40,50];return(0,i.jsx)("div",{className:"table-container",children:(0,i.jsx)(r.ZP,{columns:t,data:n,pagination:!0,striped:!0,highlightOnHover:!0,responsive:!0,paginationComponentOptions:{rowsPerPageText:"Filas por p\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!1,selectAllRowsItemText:"Todos",preserveSelectedOnPageChange:!0},paginationPerPage:s||10,paginationRowsPerPageOptions:o,noDataComponent:(0,i.jsx)(a.Z,{image:a.Z.PRESENTED_IMAGE_SIMPLE,description:(0,i.jsx)("span",{children:"No hay registros para mostrar."})})})})}},12469:function(e,t,n){var r=n(34664),a=(n(72791),n(43513)),i=(n(51279),n(80184));t.Z=function(e){var t=e.columns,n=e.table,s=e.set;return(0,i.jsx)("div",{className:"table-container",children:(0,i.jsx)(a.ZP,{columns:t,data:n,pagination:!0,fixedHeader:!0,striped:!0,highlightOnHover:!0,selectableRows:!0,expandableRows:!0,expandableRowsComponent:function(e){var t,n=e.data;return(0,i.jsx)("div",{style:{padding:"10px 20px 10px 60px"},children:(0,i.jsxs)("div",{style:{marginTop:"5px"},children:[(0,i.jsxs)("label",{htmlFor:"",children:[(0,i.jsx)("strong",{children:"Solicitante:"})," ",null===n||void 0===n?void 0:n.solicitante]}),(0,i.jsx)("br",{}),(0,i.jsxs)("label",{htmlFor:"",children:[(0,i.jsx)("strong",{children:"Tel\xe9fono:"})," ",null===n||void 0===n?void 0:n.celular]}),(0,i.jsxs)("table",{style:{marginTop:"20px"},children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{style:{width:"140px",textAlign:"center"},children:(0,i.jsx)("strong",{children:"Fecha de pedido"})}),(0,i.jsx)("td",{style:{width:"240px",textAlign:"center"},children:(0,i.jsx)("strong",{children:"Producto"})}),(0,i.jsx)("td",{style:{width:"180px",textAlign:"center"},children:(0,i.jsx)("strong",{children:"Cantidad"})})]}),null===n||void 0===n||null===(t=n.requerimiento_productos)||void 0===t?void 0:t.map((function(e,t){var r;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{style:{textAlign:"center"},children:null===n||void 0===n?void 0:n.fecha_pedido}),(0,i.jsx)("td",{style:{textAlign:"center"},children:null===e||void 0===e||null===(r=e.producto)||void 0===r?void 0:r.nombre}),(0,i.jsx)("td",{style:{textAlign:"center"},children:null===e||void 0===e?void 0:e.cantidad})]},t)}))]})]})})},expandableRowDisabled:function(e){return 1===(null===e||void 0===e?void 0:e.completado)},paginationComponentOptions:{rowsPerPageText:"Filas por p\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!1,selectAllRowsItemText:"Todos"},responsive:!0,noHeader:!0,noDataComponent:(0,i.jsx)(r.Z,{image:r.Z.PRESENTED_IMAGE_SIMPLE,description:(0,i.jsx)("span",{children:"No hay registros para mostrar."})}),onSelectedRowsChange:function(e){var t=e.selectedRows;void 0!==s&&s(t)},selectableRowDisabled:function(e){return"Aprobado"!==e.estado}})})}},95579:function(e,t,n){var r=n(72791),a=n(38411);t.Z=function(e){var t=(0,r.useContext)(a.s),n=t.filterText,i=(t.filterTextModal,t.result),s=t.setResult;return(0,r.useEffect)((function(){if(""!==n){var t=e.filter((function(e){return Object.values(e).join("").toLowerCase().includes(n.toLowerCase())}));s(t)}else s(e)}),[n,e]),{result:i}}},28938:function(){},36459:function(e,t,n){function r(e){if(null==e)throw new TypeError("Cannot destructure "+e)}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=1699.cd442a4a.chunk.js.map