(self.webpackChunkrinconada=self.webpackChunkrinconada||[]).push([[9025],{97249:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return L}});var a=t(4942),r=t(74165),o=t(15861),s=t(29439),i=t(4333),c=(t(97892),t(72791)),u=t(38411),d=t(53939),l=t(8771),m=t(99775),f=t(99763),p=(t(76487),t(83188)),_=t(34664),h=t(43513),v=t(80184),M=function(e){var n=e.columns,t=e.table;e.set;return(0,v.jsx)("div",{className:"table-container",children:(0,v.jsx)(h.ZP,{columns:n,data:t,pagination:!0,fixedHeader:!0,striped:!0,highlightOnHover:!0,paginationComponentOptions:{rowsPerPageText:"Filas por p\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!1,selectAllRowsItemText:"Todos"},responsive:!0,noHeader:!0,noDataComponent:(0,v.jsx)(_.Z,{image:_.Z.PRESENTED_IMAGE_SIMPLE,description:(0,v.jsx)("span",{children:"No hay registros para mostrar."})})})})},b=(t(91906),t(49389).Z.Search),x=function(e){var n=e.setFilterText;return(0,v.jsx)("div",{className:"buscador-container",style:{display:"flex",alignItems:"center",width:"300px"},children:(0,v.jsx)(b,{placeholder:"Ingresa una nombre...",onChange:function(e){return n(e.target.value)},style:{width:300}})})},Y=(t(83060),t(28181)),L=function(){var e=(0,c.useState)([]),n=(0,s.Z)(e,2),t=n[0],_=n[1],h=(0,c.useContext)(u.s),b=h.getData,L=h.updateData,g=h.createData,Z=(0,c.useState)(!1),j=(0,s.Z)(Z,2),w=j[0],y=j[1],D=(0,c.useState)([]),k=(0,s.Z)(D,2),S=k[0],T=k[1],C=(0,c.useState)(""),A=(0,s.Z)(C,2),H=A[0],E=A[1],R=(0,c.useState)(),I=(0,s.Z)(R,2),N=I[0],P=I[1],U=(0,c.useState)(!1),F=(0,s.Z)(U,2),O=(F[0],F[1]),q=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("aprobacion");case 2:(n=e.sent)&&_(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){q()}),[]);var z=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n,t){var o,s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"planilla/asistencia",n.target.checked&&(o="aprobado"),s=(0,a.Z)({},n.target.name,o||null),e.next=5,L(s,t.id,"planilla/asistencia");case 5:(i=e.sent)&&((0,f.q)(i.status,i.msg),q());case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),B=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,a,o,s,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={asociacion_id:null!==n.asociacion_id?n.asociacion_id:null,fecha_inicio:n.fecha_inicio,fecha_fin:n.fecha_fin,dni:null!==n.dni?n.dni:null,quincena:n.subarray_id,contrato_id:n.contrato_id},O(!0),e.next=4,g(t,"aprobacion/asistencias");case 4:if(!(a=e.sent)){e.next=15;break}if(null===n.asociacion_id){e.next=10;break}return e.next=9,(0,i.eA)((0,l.Z)(a.data)).toBlob();case 9:o=e.sent;case 10:if(null===n.dni){e.next=14;break}return e.next=13,(0,i.eA)((0,m.Z)(a.data)).toBlob();case 13:o=e.sent;case 14:o&&(s=URL.createObjectURL(o),(c=document.createElement("a")).href=s,c.download="tareo.pdf",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(s));case 15:O(!1);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){var e=null===t||void 0===t?void 0:t.filter((function(e){var n,t;return null===e||void 0===e||null===(n=e.nombre)||void 0===n||null===(t=n.toLowerCase())||void 0===t?void 0:t.includes(H.toLowerCase())}));T(e)}),[H,t]);var G=(0,d.x6)(z,B,(function(e){y(!0),P(e)}));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(p.Z,{text:"Aprobaciones",ruta:"/planilla"}),(0,v.jsxs)("div",{className:"margenes",children:[(0,v.jsx)(x,{setFilterText:E}),(0,v.jsx)(M,{columns:G,table:S})]}),w&&(0,v.jsx)(Y.Z,{modal:w,setModal:y,observacion:"",boton:!0,data:N,actualizarTabla:q})]})}},52563:function(e,n,t){e.exports=function(e){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=n(e),a={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(e){return e+"\xba"}};return t.default.locale(a,null,!0),a}(t(97892))},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,t,a){var r=t.prototype,o=r.format;a.en.formats=e,r.format=function(n){void 0===n&&(n="YYYY-MM-DDTHH:mm:ssZ");var t=this.$locale().formats,a=function(n,t){return n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(n,a,r){var o=r&&r.toUpperCase();return a||t[r]||e[r]||t[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,n,t){return n||t.slice(1)}))}))}(n,void 0===t?{}:t);return o.call(this,a)}}}()}}]);
//# sourceMappingURL=9025.9a53cc9d.chunk.js.map