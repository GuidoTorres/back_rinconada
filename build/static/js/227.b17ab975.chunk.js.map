{"version":3,"file":"static/js/227.b17ab975.chunk.js","mappings":"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","sources":["components/tabla/TablaAprobacionPlanilla.jsx","components/planillas/aprobaciones/ObservacionAprobacion.jsx","components/planillas/aprobaciones/AprobacionPlanillaLayout.jsx","components/planillas/control/RegistroHuella.jsx","components/planillas/control/ModalValidacionPagos.jsx","components/planillas/control/ModalValidacionPagosAsociacion.jsx","components/planillas/control/ModalPlanillaControl.jsx","../node_modules/dayjs/locale/es.js","../node_modules/dayjs/plugin/localizedFormat.js"],"sourcesContent":["import { Empty } from 'antd'\nimport React from 'react'\nimport DataTable from 'react-data-table-component'\n\nconst TablaAprobacionPlanilla = ({ columns, table, set }) => {\n    \n    const expandedComponent = ({ data }) => (\n        <></>\n        // <div style={{ padding: \"10px 20px 10px 60px\" }}>\n        //   <div style={{ marginTop: \"5px\" }}>\n        //     <label htmlFor=\"\">\n        //       <strong>Solicitante:</strong> {data.solicitante}\n        //     </label>\n        //     <br />\n        //     <label htmlFor=\"\">\n        //       <strong>Teléfono:</strong> {data.celular}\n        //     </label>\n    \n        //     <table style={{ marginTop: \"20px\" }}>\n        //       <tr>\n        //         <td style={{ width: \"140px\", textAlign: \"center\" }}>\n        //           <strong>Fecha de pedido</strong>\n        //         </td>\n        //         <td style={{ width: \"240px\", textAlign: \"center\" }}>\n        //           <strong>Producto</strong>\n        //         </td>\n        //         <td style={{ width: \"180px\", textAlign: \"center\" }}>\n        //           <strong>Cantidad</strong>\n        //         </td>\n        //       </tr>\n        //       {data.requerimiento_productos.map((item, i) => (\n        //         <tr key={i}>\n        //           <td style={{ textAlign: \"center\" }}>{data.fecha_pedido}</td>\n        //           <td style={{ textAlign: \"center\" }}>{item.producto.nombre}</td>\n        //           <td style={{ textAlign: \"center\" }}>{item.cantidad}</td>\n        //         </tr>\n        //       ))}\n        //     </table>\n        //   </div>\n        // </div>\n      );\n    \n      const paginationComponentOptions = {\n        rowsPerPageText: \"Filas por página\",\n        rangeSeparatorText: \"de\",\n        selectAllRowsItem: false,\n        selectAllRowsItemText: \"Todos\",\n      };\n  return (\n    <div className=\"table-container\">\n      <DataTable\n        columns={columns}\n        data={table}\n        pagination\n        fixedHeader\n        striped\n        highlightOnHover\n\n\n        paginationComponentOptions={paginationComponentOptions}\n        responsive\n        noHeader={true}\n        noDataComponent={\n          <Empty\n            image={Empty.PRESENTED_IMAGE_SIMPLE}\n            description={<span>No hay registros para mostrar.</span>}\n          />\n        }\n      />\n    </div>\n  )\n}\n\nexport default TablaAprobacionPlanilla","import { Button, Input } from \"antd\";\nimport React, { useState } from \"react\";\nimport { useContext } from \"react\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport { notificacion } from \"../../../helpers/mensajes\";\nimport MainModal from \"../../modal/MainModal\";\n\nconst ObservacionAprobacion = ({ modal, setModal, getPlanilla }) => {\n  const { updateData } = useContext(CrudContext);\n  const [data ,setData] =  useState(\"\")\n\n  const closeModal = () => {\n    setModal(false);\n  };\n\n\n\n\n  const onChange = (e) => {\n    setData(e.target.value)\n  };\n  return (\n    <MainModal\n      className={\"modal-usuario\"}\n      title={\"Agregar observación\"}\n      open={modal}\n      width={400}\n      closeModal={closeModal}\n    >\n      <Input.TextArea\n        showCount\n        maxLength={255}\n        style={{ height: 120, marginBottom: 24, marginTop:15 }}\n        onChange={onChange}\n        placeholder=\"Observación\"\n      ></Input.TextArea>\n      <div\n        style={{ width: \"100%\", display: \"flex\", justifyContent: \"flex-end\", paddingTop: \"10px\" }}\n      >\n        <Button >Guardar</Button>\n      </div>\n    </MainModal>\n  );\n};\n\nexport default ObservacionAprobacion;\n","import { pdf } from \"@react-pdf/renderer\";\nimport dayjs from \"dayjs\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport { aprobacionPlanilla } from \"../../../data/dataTable\";\nimport HojaTareoAsociacion from \"../../../helpers/HojaTareoAsociacion\";\nimport { notificacion } from \"../../../helpers/mensajes\";\nimport Header from \"../../header/Header\";\nimport TablaAprobacionPlanilla from \"../../tabla/TablaAprobacionPlanilla\";\nimport Buscador from \"../Buscador\";\nimport ModalPlanillaControl from \"../control/ModalPlanillaControl\";\nimport ObservacionAprobacion from \"./ObservacionAprobacion\";\n\nconst AprobacionPlanillaLayout = () => {\n  const [planilla, setPlanilla] = useState([]);\n  const { getData, updateData, createData } = useContext(CrudContext);\n  const [observacion, setObservacion] = useState(false);\n\n  const getPlanilla = async () => {\n    // const response = await getData(\"planilla/aprobacion\");\n    const response = await getData(\"aprobacion\");\n\n    if (response) {\n      setPlanilla(response.data);\n    }\n  };\n\n  useEffect(() => {\n    getPlanilla();\n  }, []);\n\n  const updateAprobacion = async (e, data) => {\n    const route = \"planilla/asistencia\";\n    let firma;\n    let info;\n    if (e.target.checked) {\n      firma = JSON.parse(localStorage.getItem(\"firma\"));\n    }\n\n    info = {\n      [e.target.name]: firma || null,\n    };\n    let aprobacionId = data.id ? data.id : 0;\n\n    const response = await updateData(info, aprobacionId, route);\n    if (response) {\n      notificacion(response.status, response.msg);\n      getPlanilla();\n    }\n  };\n\n  const handleAsistencias = async (e) => {\n    const info = {\n      asociacion_id: e.asociacion_id !== null ? e.asociacion_id : null,\n      fecha_inicio: e.fecha_inicio,\n      fecha_fin: e.fecha_fin,\n      dni: e.dni !== null ? e.dni : null,\n    };\n\n    const response = await createData(info, \"aprobacion/asistencias\");\n\n    if (response) {\n      const pdfBlob = await pdf(HojaTareoAsociacion(response.data)).toBlob();\n\n      if (pdfBlob) {\n        // Crea una URL a partir del blob\n        const pdfUrl = URL.createObjectURL(pdfBlob);\n\n        // Crea un enlace para descargar el archivo\n        const link = document.createElement(\"a\");\n        link.href = pdfUrl;\n        link.download = \"tareo.pdf\";\n        document.body.appendChild(link);\n\n        // Simula un click en el enlace para descargar el archivo\n        link.click();\n\n        // Elimina el enlace del documento\n        document.body.removeChild(link);\n\n        // Libera la URL creada a partir del blob\n        URL.revokeObjectURL(pdfUrl);\n      }\n    }\n  };\n\n  const handleObservacion = () => {\n    setObservacion(true);\n  };\n\n  const columns = aprobacionPlanilla(\n    updateAprobacion,\n    handleAsistencias,\n    handleObservacion\n  );\n  return (\n    <>\n      <Header text={\"Aprobaciones\"} ruta={\"/planilla\"} />\n      <div className=\"margenes\">\n        {/* <Buscador /> */}\n\n        <TablaAprobacionPlanilla columns={columns} table={planilla} />\n      </div>\n      {observacion && (\n        <ObservacionAprobacion modal={observacion} setModal={setObservacion} />\n      )}\n    </>\n  );\n};\n\nexport default AprobacionPlanillaLayout;\n","import { Button, Form } from \"antd\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { notificacion } from \"../../../helpers/mensajes\";\nimport MainModal from \"../../modal/MainModal\";\nimport DragAndDrop from \"../../personal/DragAndDrop\";\nimport \"../style/modalValidarTrabajador.css\";\nconst RegistroHuella = ({ modal, setModal, data, actualizarTabla }) => {\n  const [avatar, setAvatar] = useState(null);\n\n  const closeModal = () => {\n    setModal(false);\n  };\n\n  const handleSubmit = async () => {\n    const formData = new FormData();\n    avatar?.file && formData.set(\"image\", avatar.file || \"\");\n\n    const query = await fetch(\n      `${process.env.REACT_APP_BASE}/planilla/huella/${data?.aprobacion_id}`,\n      {\n        method: \"PUT\",\n        body: formData,\n      }\n    );\n    const response = await query.json();\n    if (response) {\n      notificacion(response.status, response.msg);\n      closeModal();\n      actualizarTabla()\n    }\n  };\n  return (\n    <MainModal\n      title={\"Validación del trabajador\"}\n      className=\"modal-validacion\"\n      open={modal}\n      width={400}\n      closeModal={closeModal}\n    >\n      <Form onFinish={handleSubmit} layout=\"horizontal\">\n        <Form.Item>\n          <div className=\"drag-container\">\n            <DragAndDrop\n              avatar={avatar}\n              setAvatar={setAvatar}\n              selected={data}\n            />\n          </div>\n        </Form.Item>\n        <div className=\"button-container\">\n          <Button htmlType=\"submit\">Guardar</Button>\n        </div>\n      </Form>\n    </MainModal>\n  );\n};\n\nexport default RegistroHuella;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport { PlanillaContext } from \"../../../context/PlanillaContext\";\nimport Tabla from \"../../tabla/Tabla\";\nimport Buscador from \"../Buscador\";\nimport { tableValidacionPagos } from \"../../../data/dataTable\";\nimport useSearch from \"../../../hooks/useSearch\";\nimport MainModal from \"../../modal/MainModal\";\nimport \"../style/modalValidacionPagos.css\";\nimport RegistroHuella from \"./RegistroHuella\";\n\nconst ModalValidacionPagos = ({ data, modal, setModal, actualizarTabla }) => {\n  const { verificacion, setVerificacion } = useContext(PlanillaContext);\n  const { getDataById, data2 } = useContext(CrudContext);\n  const [text, setText] = useState();\n  const [validacion, setValidacion] = useState([]);\n  const [modal1, setModal1] = useState(false);\n  // const { result } = useSearch(validacion);\n  const getTareo = async () => {\n    const route = \"planilla/tareo\";\n    // const response = await getDataById(route, data.dni);\n    // setValidacion(response.data);\n  };\n  useEffect(() => {\n    getTareo();\n  }, []);\n  const modalVerificacion = (data) => {\n    setVerificacion(true);\n    setText(data);\n  };\n\n  const closeModal = () => {\n    setModal(false);\n  };\n\n  const columns = tableValidacionPagos();\n\n  return (\n    <MainModal\n      className={\"modal-validacion\"}\n      title={\"Hoja de tareo\"}\n      open={modal}\n      width={900}\n      closeModal={closeModal}\n    >\n      <div className=\"tareo-container\">\n        <section className=\"tareo-datos\">\n          <div>\n            <label htmlFor=\"\">\n              <strong>Nombre: </strong>\n              {data?.nombre}\n            </label>\n          </div>\n          <div>\n            <label htmlFor=\"\">\n              <strong>Dni: </strong>\n              {data?.dni}\n            </label>\n          </div>\n          <div>\n            <label htmlFor=\"\">\n              <strong>Teléfono: </strong>\n              {data?.celular}\n            </label>\n          </div>\n          <div>\n            <label htmlFor=\"\">\n              <strong>Cargo:</strong> {data?.cargo}\n            </label>\n          </div>\n          <div>\n            <label htmlFor=\"\">\n              <strong>Total de días asistidos: </strong>\n              {data?.asistencia}\n            </label>\n          </div>\n        </section>\n        <section className=\"tareo-boton\">\n          <Buscador\n            registrar={false}\n            crear={false}\n            exportar={true}\n            validacion={true}\n            cargar={false}\n            data1={data}\n            data2={validacion}\n            modal={setModal1}\n          />\n        </section>\n      </div>\n      <Tabla columns={columns} table={data?.asistencia_completa?.reverse()} />\n\n      {modal1 && (\n        <RegistroHuella\n          modal={modal1}\n          setModal={setModal1}\n          data={data}\n          actualizarTabla={actualizarTabla}\n        />\n      )}\n    </MainModal>\n  );\n};\n\nexport default ModalValidacionPagos;\n","import React, { useContext, useEffect } from \"react\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport Buscador from \"../Buscador\";\nimport Tabla from \"../../tabla/Tabla\";\nimport { PlanillaContext } from \"../../../context/PlanillaContext\";\nimport { useState } from \"react\";\nimport MainModal from \"../../modal/MainModal\";\nimport \"../style/modalValidacionPagosAsociacion.css\";\nconst ModalValidacionPagosAsociacion = ({ data, modal, setModal }) => {\n  const {\n    setValidacionPagosAsociacion,\n    setFechas,\n    fechas,\n    verificacion,\n    setVerificacion,\n  } = useContext(PlanillaContext);\n  const { getData, data3, setData3, data2, dataToEdit } =\n    useContext(CrudContext);\n  const [text, setText] = useState();\n\n  const modalVerificacion = (data) => {\n    setVerificacion(true);\n    setText(data);\n  };\n\n  const closeModal = () => {\n    setModal(false);\n  };\n\n  return (\n    <MainModal\n      className={\"modal-validacion\"}\n      title={\"Hoja de tareo asociacion\"}\n      open={modal}\n      width={950}\n      closeModal={closeModal}\n    >\n      <section style={{display:\"flex\", justifyContent: \"space-between\", alignItems:\"center\"}}>\n      <section>\n        <div>\n          <label htmlFor=\"\">\n            <strong> Nombre: </strong>{\" \"}\n            {data && data?.nombre ? data.nombre : \"---\"}\n          </label>\n        </div>\n        <div>\n          <div>\n            <label htmlFor=\"\">\n              <strong>Teléfono:</strong>{\" \"}\n              {data && data?.telefono ? data.telefono : \"---\"}\n            </label>\n          </div>\n        </div>\n      </section>\n      <section className=\"tareo-boton\">\n        <Buscador\n          registrar={false}\n          crear={false}\n          exportar={false}\n          validacion={false}\n          cargar={false}\n          data1={data}\n          data2={null}\n          modal={null}\n          descargar={true}\n        />\n      </section>\n      </section>\n      <section className=\"table-container\">\n        <table>\n          <thead>\n            <tr>\n              <th>Nro</th>\n              <th>Apellidos y nombres</th>\n              {data.trabajadores.length > 0 &&\n                Object.keys(data.trabajadores[0])\n                  .filter((key) => /^\\d{4}-\\d{2}-\\d{2}$/.test(key))\n                  .map((key, i) => (\n                    <th\n                      key={i}\n                      style={{\n                        writingMode: \"vertical-lr\",\n                        transform: \"scale(-1)\",\n                      }}\n                    >\n                      <span>{key}</span>\n                    </th>\n                  ))}\n            </tr>\n          </thead>\n          <tbody>\n            {data.trabajadores.map((item, index) => (\n              <tr key={index}>\n                <td>{index + 1}</td>\n                <td>{item.nombres}</td>\n                {Object.entries(item)\n                  .filter(([key]) => /^\\d{4}-\\d{2}-\\d{2}$/.test(key))\n                  .map(([fecha, value], i) => (\n                    <td key={i}>{value}</td>\n                  ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </section>\n    </MainModal>\n  );\n};\n\nexport default ModalValidacionPagosAsociacion;\n","import React, { useContext } from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { AiOutlineClose, AiFillEye } from \"react-icons/ai\";\nimport { PlanillaContext } from \"../../../context/PlanillaContext\";\nimport Tabla from \"../../tabla/Tabla\";\nimport Buscador from \"../Buscador\";\nimport \"../style/modalPlanillaControl.css\";\nimport ModalValidacionPagos from \"./ModalValidacionPagos\";\nimport ModalValidacionPagosAsociacion from \"./ModalValidacionPagosAsociacion\";\nimport { tablePlanillaControl } from \"../../../data/dataTable\";\nimport MainModal from \"../../modal/MainModal\";\nimport { CrudContext } from \"../../../context/CrudContext\";\n\nconst ModalPlanillaControl = ({\n  selected,\n  actualizarTabla,\n  planillaControl,\n  setPlanillaControl,\n}) => {\n  const [contrato, setContrato] = useState([]);\n  const [dataSelected, setDataSelected] = useState([]);\n  const { setPago } = useContext(PlanillaContext);\n  const { getData } = useContext(CrudContext);\n  const [historial, setHistorial] = useState([]);\n  const [modalValidacion, setModalValidacion] = useState(false);\n  const [modalValidacionAsociacion, setModalValidacionAsociacion] =\n    useState(false);\n\n  const closeModal = () => {\n    setPlanillaControl(false);\n  };\n\n  const getHistorial = async () => {\n    if (selected?.dni) {\n      const route = `planilla/tareo/${selected.dni}`;\n      const response = await getData(route);\n      setHistorial(response.data);\n    } else {\n      const route = `planilla/tareo/asociacion/${selected.asociacion_id}`;\n      const response = await getData(route);\n      setHistorial(response.data);\n    }\n  };\n\n  useEffect(() => {\n    getHistorial();\n  }, [selected]);\n\n  useEffect(() => {\n    setContrato([selected]);\n  }, [selected]);\n\n  const handleValidacion = (e) => {\n    if (selected.codigo === \"\") {\n      setModalValidacionAsociacion(true);\n      setDataSelected(e);\n    } else {\n      setModalValidacion(true);\n      setDataSelected(e);\n    }\n  };\n\n  const handlePagos = (e) => {\n    setPago(true);\n    setDataSelected(e);\n  };\n\n  const columns = tablePlanillaControl(handleValidacion, handlePagos);\n\n  return (\n    <MainModal\n      className={\"modal-planilla\"}\n      title={\"Control de planilla\"}\n      open={planillaControl}\n      width={900}\n      closeModal={closeModal}\n    >\n      <Tabla columns={columns} table={historial} />\n\n      {modalValidacion && (\n        <ModalValidacionPagos\n          data={dataSelected}\n          modal={modalValidacion}\n          setModal={setModalValidacion}\n          actualizarTabla={getHistorial}\n        />\n      )}\n      {modalValidacionAsociacion && (\n        <ModalValidacionPagosAsociacion\n          data={dataSelected}\n          modal={modalValidacionAsociacion}\n          setModal={setModalValidacionAsociacion}\n          actualizarTabla={getHistorial}\n        />\n      )}\n    </MainModal>\n  );\n};\n\nexport default ModalPlanillaControl;\n","!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=o(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],o):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_locale_es=o(e.dayjs)}(this,(function(e){\"use strict\";function o(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var s=o(e),d={name:\"es\",monthsShort:\"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic\".split(\"_\"),weekdays:\"domingo_lunes_martes_miércoles_jueves_viernes_sábado\".split(\"_\"),weekdaysShort:\"dom._lun._mar._mié._jue._vie._sáb.\".split(\"_\"),weekdaysMin:\"do_lu_ma_mi_ju_vi_sá\".split(\"_\"),months:\"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre\".split(\"_\"),weekStart:1,formats:{LT:\"H:mm\",LTS:\"H:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D [de] MMMM [de] YYYY\",LLL:\"D [de] MMMM [de] YYYY H:mm\",LLLL:\"dddd, D [de] MMMM [de] YYYY H:mm\"},relativeTime:{future:\"en %s\",past:\"hace %s\",s:\"unos segundos\",m:\"un minuto\",mm:\"%d minutos\",h:\"una hora\",hh:\"%d horas\",d:\"un día\",dd:\"%d días\",M:\"un mes\",MM:\"%d meses\",y:\"un año\",yy:\"%d años\"},ordinal:function(e){return e+\"º\"}};return s.default.locale(d,null,!0),d}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_localizedFormat=t()}(this,(function(){\"use strict\";var e={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};return function(t,o,n){var r=o.prototype,i=r.format;n.en.formats=e,r.format=function(t){void 0===t&&(t=\"YYYY-MM-DDTHH:mm:ssZ\");var o=this.$locale().formats,n=function(t,o){return t.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,o){return t||o.slice(1)}))}))}(t,void 0===o?{}:o);return i.call(this,n)}}}));"],"names":["columns","table","set","className","data","pagination","fixedHeader","striped","highlightOnHover","paginationComponentOptions","rowsPerPageText","rangeSeparatorText","selectAllRowsItem","selectAllRowsItemText","responsive","noHeader","noDataComponent","image","Empty","description","modal","setModal","getPlanilla","useContext","CrudContext","updateData","useState","setData","MainModal","title","open","width","closeModal","showCount","maxLength","style","height","marginBottom","marginTop","onChange","e","target","value","placeholder","display","justifyContent","paddingTop","planilla","setPlanilla","getData","createData","observacion","setObservacion","response","useEffect","updateAprobacion","checked","firma","JSON","parse","localStorage","getItem","info","name","aprobacionId","id","notificacion","status","msg","handleAsistencias","asociacion_id","fecha_inicio","fecha_fin","dni","pdf","HojaTareoAsociacion","toBlob","pdfBlob","pdfUrl","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","aprobacionPlanilla","Header","text","ruta","actualizarTabla","avatar","setAvatar","handleSubmit","formData","FormData","file","fetch","process","aprobacion_id","method","query","json","onFinish","layout","DragAndDrop","selected","htmlType","PlanillaContext","verificacion","setVerificacion","getDataById","data2","validacion","modal1","setModal1","getTareo","tableValidacionPagos","htmlFor","nombre","celular","cargo","asistencia","Buscador","registrar","crear","exportar","cargar","data1","Tabla","asistencia_completa","reverse","setValidacionPagosAsociacion","setFechas","fechas","data3","setData3","dataToEdit","alignItems","telefono","descargar","trabajadores","length","Object","keys","filter","key","test","map","i","writingMode","transform","item","index","nombres","entries","planillaControl","setPlanillaControl","setContrato","dataSelected","setDataSelected","setPago","historial","setHistorial","modalValidacion","setModalValidacion","modalValidacionAsociacion","setModalValidacionAsociacion","getHistorial","route","tablePlanillaControl","codigo","module","exports","o","default","s","d","monthsShort","split","weekdays","weekdaysShort","weekdaysMin","months","weekStart","formats","LT","LTS","L","LL","LLL","LLLL","relativeTime","future","past","m","mm","h","hh","dd","M","MM","y","yy","ordinal","locale","require","t","n","r","prototype","format","en","this","$locale","replace","toUpperCase","slice","call"],"sourceRoot":""}