{"version":3,"file":"static/js/233.739ba067.chunk.js","mappings":"mSAyGA,EA5Fc,WACZ,IAAMA,GAAWC,EAAAA,EAAAA,MACjB,GAQIC,EAAAA,EAAAA,YAAWC,EAAAA,GAPbC,EAAU,EAAVA,WAEAC,GADO,EAAPC,QACW,EAAXD,aAGAE,GAFI,EAAJC,KACQ,EAARC,SACQ,EAARF,UAGF,GAFa,EAAXG,aAE8BC,EAAAA,EAAAA,UAAS,KAAG,eAArCC,EAAQ,KAAEC,EAAW,KAE5B,GAAsCF,EAAAA,EAAAA,UAAS,IAAG,eAA3CG,EAAW,KAAEC,EAAc,KAE5BC,EAAY,yCAAG,6GAIlB,OAHGC,EAAO,CACTT,KAAMI,EACNE,YAAaA,GACb,EAAD,OAEsBV,EAAWa,EAAM,QAAQ,KAAD,EAAzCC,EAAQ,OACdC,QAAQC,IAAI,wCACZD,QAAQC,IAAIF,EAASG,MACrBF,QAAQC,IAAI,wCACY,MAApBF,EAASI,QACXC,aAAaC,QAAQ,OAAQC,KAAKC,UAAuB,QAAd,EAACR,EAASG,YAAI,aAAb,EAAeM,SAC3DJ,aAAaC,QAAQ,QAASC,KAAKC,UAAuB,QAAd,EAACR,EAASG,YAAI,aAAb,EAAeO,WAC5DL,aAAaC,QACX,WACAC,KAAKC,UAAkB,OAARR,QAAQ,IAARA,GAAc,QAAN,EAARA,EAAUG,YAAI,OAAK,QAAL,EAAd,EAAgBQ,WAAG,WAAX,EAAR,EAAqBpB,SAAS,KAE/Cc,aAAaC,QAAQ,QAASC,KAAKC,UAAuB,QAAd,EAACR,EAASG,YAAI,aAAb,EAAeS,OAC5DzB,EAAoB,OAARa,QAAQ,IAARA,GAAc,QAAN,EAARA,EAAUG,YAAI,OAAK,QAAL,EAAd,EAAgBQ,WAAG,WAAX,EAAR,EAAqBpB,WACjCsB,EAAAA,EAAAA,GAAab,EAASI,OAAQJ,EAASc,KACvCC,EAAiB,OAARf,QAAQ,IAARA,GAAc,QAAN,EAARA,EAAUG,YAAI,OAAK,QAAL,EAAd,EAAgBQ,WAAG,WAAX,EAAR,EAAqBpB,YAE9BsB,EAAAA,EAAAA,GAAab,EAASI,OAAQJ,EAASc,KACxC,2CACF,kBAxBiB,mCA0BZC,EAAW,SAACxB,GAAc,IAAD,UAC7B,OAAoC,KAArB,QAAX,EAAAA,EAAS,UAAE,aAAX,EAAayB,gBACRlC,EAAS,oBACmB,KAAf,QAAX,EAAAS,EAAS,UAAE,aAAX,EAAa0B,UACfnC,EAAS,cACoB,KAAhB,QAAX,EAAAS,EAAS,UAAE,aAAX,EAAa2B,WACfpC,EAAS,cACoB,KAAhB,QAAX,EAAAS,EAAS,UAAE,aAAX,EAAa4B,WACfrC,EAAS,eACmB,KAAf,QAAX,EAAAS,EAAS,UAAE,aAAX,EAAa6B,UACftC,EAAS,kBADX,CAGT,EAEA,OACE,gBAAKuC,UAAU,cAAa,UAC1B,gBAAKA,UAAU,QAAO,UACpB,qBAASA,UAAU,aAAY,WAC7B,gBAAKA,UAAU,OAAM,UACnB,gBAAKC,IAAKC,EAAUC,IAAI,QAE1B,iBAAKH,UAAU,SAAQ,WACrB,4BACE,kBAAOI,QAAQ,GAAE,SAAC,aAClB,SAAC,IAAK,CACJJ,UAAU,aACVK,KAAK,OACLC,YAAY,UACZC,SAAU,SAACC,GAAC,OAAKlC,EAAYkC,EAAEC,OAAOC,MAAM,QAGhD,4BACE,kBAAON,QAAQ,GAAE,SAAC,mBAElB,SAAC,aAAc,CACbJ,UAAU,aACVK,KAAK,cACLC,YAAY,gBACZC,SAAU,SAACC,GAAC,OAAKhC,EAAegC,EAAEC,OAAOC,MAAM,WAIrD,SAAC,KAAM,CAACC,QAASlC,EAAcmC,UAAS5C,EAAwB,SAAC,4BAO3E,C","sources":["components/login/Login.jsx"],"sourcesContent":["import { Button, Input } from \"antd\";\nimport React, { useContext } from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { CrudContext } from \"../../context/CrudContext\";\nimport { notificacion } from \"../../helpers/mensajes\";\nimport cecomirl from \"../../assets/cecomirl.jpeg\";\nimport fondo from \"../../assets/fondo-login.jpeg\";\n\nimport \"./login.css\";\nimport ButtonComponent from \"../reusable/ButtonComponent\";\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const {\n    createData,\n    setUser,\n    setPermisos,\n    user,\n    permisos,\n    cargando,\n    setCargando,\n  } = useContext(CrudContext);\n  const [userData, setUserData] = useState(\"\");\n\n  const [contrasenia, setContrasenia] = useState(\"\");\n\n  const handleSubmit = async () => {\n    let info = {\n      user: userData,\n      contrasenia: contrasenia,\n    };\n\n    const response = await createData(info, \"auth\");\n    console.log('====================================');\n    console.log(response.data);\n    console.log('====================================');\n    if (response.status === 200) {\n      localStorage.setItem(\"user\", JSON.stringify(response.data?.nombre));\n      localStorage.setItem(\"cargo\", JSON.stringify(response.data?.cargo_id));\n      localStorage.setItem(\n        \"permisos\",\n        JSON.stringify(response?.data?.rol?.permisos[0])\n      );\n      localStorage.setItem(\"firma\", JSON.stringify(response.data?.foto));\n      setPermisos(response?.data?.rol?.permisos);\n      notificacion(response.status, response.msg);\n      redirect(response?.data?.rol?.permisos);\n    } else {\n      notificacion(response.status, response.msg);\n    }\n  };\n\n  const redirect = (permisos) => {\n    if (permisos[0]?.administracion === true) {\n      return navigate(\"/administracion\");\n    } else if (permisos[0]?.personal === true) {\n      return navigate(\"/personal\");\n    } else if (permisos[0]?.planillas === true) {\n      return navigate(\"/planilla\");\n    } else if (permisos[0]?.logistica === true) {\n      return navigate(\"/logistica\");\n    } else if (permisos[0]?.finanzas === true) {\n      return navigate(\"/finanzas\");\n    }\n  };\n\n  return (\n    <div className=\"fondo-login\">\n      <div className=\"login\">\n        <section className=\"login-form\">\n          <div className=\"logo\">\n            <img src={cecomirl} alt=\"\" />\n          </div>\n          <div className=\"inputs\">\n            <div>\n              <label htmlFor=\"\">Usuario</label>\n              <Input\n                className=\"input-form\"\n                name=\"user\"\n                placeholder=\"Usuario\"\n                onChange={(e) => setUserData(e.target.value)}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"\">Contraseña</label>\n\n              <Input.Password\n                className=\"input-form\"\n                name=\"contrasenia\"\n                placeholder=\"Contraseña\"\n                onChange={(e) => setContrasenia(e.target.value)}\n              />\n            </div>\n          </div>\n          <Button onClick={handleSubmit} loading={cargando ? true : false}>\n            Iniciar Sesión\n          </Button>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"names":["navigate","useNavigate","useContext","CrudContext","createData","setPermisos","setUser","cargando","user","permisos","setCargando","useState","userData","setUserData","contrasenia","setContrasenia","handleSubmit","info","response","console","log","data","status","localStorage","setItem","JSON","stringify","nombre","cargo_id","rol","foto","notificacion","msg","redirect","administracion","personal","planillas","logistica","finanzas","className","src","cecomirl","alt","htmlFor","name","placeholder","onChange","e","target","value","onClick","loading"],"sourceRoot":""}