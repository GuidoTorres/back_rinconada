{"version":3,"file":"static/js/9025.9a53cc9d.chunk.js","mappings":"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","sources":["components/tabla/TablaAprobacionPlanilla.jsx","components/planillas/BuscadorAprobacion.jsx","components/planillas/aprobaciones/AprobacionPlanillaLayout.jsx","../node_modules/dayjs/locale/es.js","../node_modules/dayjs/plugin/localizedFormat.js"],"sourcesContent":["import { Empty } from 'antd'\nimport React from 'react'\nimport DataTable from 'react-data-table-component'\n\nconst TablaAprobacionPlanilla = ({ columns, table, set }) => {\n    \n    const expandedComponent = ({ data }) => (\n        <></>\n        // <div style={{ padding: \"10px 20px 10px 60px\" }}>\n        //   <div style={{ marginTop: \"5px\" }}>\n        //     <label htmlFor=\"\">\n        //       <strong>Solicitante:</strong> {data.solicitante}\n        //     </label>\n        //     <br />\n        //     <label htmlFor=\"\">\n        //       <strong>Teléfono:</strong> {data.celular}\n        //     </label>\n    \n        //     <table style={{ marginTop: \"20px\" }}>\n        //       <tr>\n        //         <td style={{ width: \"140px\", textAlign: \"center\" }}>\n        //           <strong>Fecha de pedido</strong>\n        //         </td>\n        //         <td style={{ width: \"240px\", textAlign: \"center\" }}>\n        //           <strong>Producto</strong>\n        //         </td>\n        //         <td style={{ width: \"180px\", textAlign: \"center\" }}>\n        //           <strong>Cantidad</strong>\n        //         </td>\n        //       </tr>\n        //       {data.requerimiento_productos.map((item, i) => (\n        //         <tr key={i}>\n        //           <td style={{ textAlign: \"center\" }}>{data.fecha_pedido}</td>\n        //           <td style={{ textAlign: \"center\" }}>{item.producto.nombre}</td>\n        //           <td style={{ textAlign: \"center\" }}>{item.cantidad}</td>\n        //         </tr>\n        //       ))}\n        //     </table>\n        //   </div>\n        // </div>\n      );\n    \n      const paginationComponentOptions = {\n        rowsPerPageText: \"Filas por página\",\n        rangeSeparatorText: \"de\",\n        selectAllRowsItem: false,\n        selectAllRowsItemText: \"Todos\",\n      };\n  return (\n    <div className=\"table-container\">\n      <DataTable\n        columns={columns}\n        data={table}\n        pagination\n        fixedHeader\n        striped\n        highlightOnHover\n\n\n        paginationComponentOptions={paginationComponentOptions}\n        responsive\n        noHeader={true}\n        noDataComponent={\n          <Empty\n            image={Empty.PRESENTED_IMAGE_SIMPLE}\n            description={<span>No hay registros para mostrar.</span>}\n          />\n        }\n      />\n    </div>\n  )\n}\n\nexport default TablaAprobacionPlanilla","import { Input, Button } from \"antd\";\nimport React from \"react\";\nconst { Search } = Input;\n\nconst BuscadorAprobacion = ({ setFilterText }) => {\n  return (\n    <div\n      className=\"buscador-container\"\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"300px\",\n      }}\n    >\n      <Search\n        placeholder=\"Ingresa una nombre...\"\n        onChange={(e) => setFilterText(e.target.value)}\n        style={{\n          width: 300,\n        }}\n      />\n    </div>\n  );\n};\n\nexport default BuscadorAprobacion;\n","import { pdf } from \"@react-pdf/renderer\";\nimport dayjs from \"dayjs\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport { aprobacionPlanilla } from \"../../../data/dataTable\";\nimport HojaTareoAsociacion from \"../../../helpers/HojaTareoAsociacion\";\nimport HojaTareoIndividual from \"../../../helpers/HojaTareoIndividual\";\nimport { notificacion } from \"../../../helpers/mensajes\";\nimport Cargando from \"../../cargando/Cargando\";\nimport Header from \"../../header/Header\";\nimport TablaAprobacionPlanilla from \"../../tabla/TablaAprobacionPlanilla\";\nimport Buscador from \"../Buscador\";\nimport BuscadorAprobacion from \"../BuscadorAprobacion\";\nimport ModalPlanillaControl from \"../control/ModalPlanillaControl\";\nimport ObservacionAprobacion from \"./ObservacionAprobacion\";\n\nconst AprobacionPlanillaLayout = () => {\n  const [planilla, setPlanilla] = useState([]);\n  const { getData, updateData, createData } = useContext(CrudContext);\n  const [observacion, setObservacion] = useState(false);\n  const [search, setSearch] = useState([]);\n  const [filterText, setFilterText] = useState(\"\");\n  const [dataAprobacion, setDataAprobacion] = useState()\n  const [isLoading, setIsLoading] = useState(false);\n\n  const getPlanilla = async () => {\n    // const response = await getData(\"planilla/aprobacion\");\n    const response = await getData(\"aprobacion\");\n\n    if (response) {\n      setPlanilla(response.data);\n    }\n  };\n\n  useEffect(() => {\n    getPlanilla();\n  }, []);\n\n  const updateAprobacion = async (e, data) => {\n    const route = \"planilla/asistencia\";\n    let firma;\n    let info;\n    if (e.target.checked) {\n      // firma = JSON.parse(localStorage.getItem(\"firma\"));\n      firma = \"aprobado\";\n    }\n\n    info = {\n      [e.target.name]: firma || null,\n    };\n\n    const response = await updateData(info, data.id, route);\n    if (response) {\n      notificacion(response.status, response.msg);\n      getPlanilla();\n    }\n  };\n\n  const handleAsistencias = async (e) => {\n    const info = {\n      asociacion_id: e.asociacion_id !== null ? e.asociacion_id : null,\n      fecha_inicio: e.fecha_inicio,\n      fecha_fin: e.fecha_fin,\n      dni: e.dni !== null ? e.dni : null,\n      quincena: e.subarray_id,\n      contrato_id: e.contrato_id,\n    };\n    setIsLoading(true);\n    const response = await createData(info, \"aprobacion/asistencias\");\n\n    if (response) {\n      let pdfBlob;\n      if (e.asociacion_id !== null) {\n        pdfBlob = await pdf(HojaTareoAsociacion(response.data)).toBlob();\n      }\n      if (e.dni !== null) {\n        pdfBlob = await pdf(HojaTareoIndividual(response.data)).toBlob();\n      }\n\n      if (pdfBlob) {\n        // Crea una URL a partir del blob\n        const pdfUrl = URL.createObjectURL(pdfBlob);\n\n        // Crea un enlace para descargar el archivo\n        const link = document.createElement(\"a\");\n        link.href = pdfUrl;\n        link.download = \"tareo.pdf\";\n        document.body.appendChild(link);\n\n        // Simula un click en el enlace para descargar el archivo\n        link.click();\n\n        // Elimina el enlace del documento\n        document.body.removeChild(link);\n\n        // Libera la URL creada a partir del blob\n        URL.revokeObjectURL(pdfUrl);\n      }\n    }\n    setIsLoading(false);\n  };\n\n  const handleObservacion = (e) => {\n    setObservacion(true);\n    setDataAprobacion(e)\n  };\n\n  useEffect(() => {\n    const filtered = planilla?.filter((item) =>\n      item?.nombre?.toLowerCase()?.includes(filterText.toLowerCase())\n    );\n\n    setSearch(filtered);\n  }, [filterText, planilla]);\n\n  const columns = aprobacionPlanilla(\n    updateAprobacion,\n    handleAsistencias,\n    handleObservacion\n  );\n  return (\n    <>\n      <Header text={\"Aprobaciones\"} ruta={\"/planilla\"} />\n      <div className=\"margenes\">\n        <BuscadorAprobacion setFilterText={setFilterText} />\n\n        <TablaAprobacionPlanilla columns={columns} table={search} />\n      </div>\n      {observacion && (\n        <ObservacionAprobacion\n          modal={observacion}\n          setModal={setObservacion}\n          observacion={\"\"}\n          boton={true}\n          data={dataAprobacion}\n          actualizarTabla ={getPlanilla}\n        />\n\n      )}\n    </>\n  );\n};\n\nexport default AprobacionPlanillaLayout;\n","!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=o(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],o):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_locale_es=o(e.dayjs)}(this,(function(e){\"use strict\";function o(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var s=o(e),d={name:\"es\",monthsShort:\"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic\".split(\"_\"),weekdays:\"domingo_lunes_martes_miércoles_jueves_viernes_sábado\".split(\"_\"),weekdaysShort:\"dom._lun._mar._mié._jue._vie._sáb.\".split(\"_\"),weekdaysMin:\"do_lu_ma_mi_ju_vi_sá\".split(\"_\"),months:\"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre\".split(\"_\"),weekStart:1,formats:{LT:\"H:mm\",LTS:\"H:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D [de] MMMM [de] YYYY\",LLL:\"D [de] MMMM [de] YYYY H:mm\",LLLL:\"dddd, D [de] MMMM [de] YYYY H:mm\"},relativeTime:{future:\"en %s\",past:\"hace %s\",s:\"unos segundos\",m:\"un minuto\",mm:\"%d minutos\",h:\"una hora\",hh:\"%d horas\",d:\"un día\",dd:\"%d días\",M:\"un mes\",MM:\"%d meses\",y:\"un año\",yy:\"%d años\"},ordinal:function(e){return e+\"º\"}};return s.default.locale(d,null,!0),d}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_localizedFormat=t()}(this,(function(){\"use strict\";var e={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};return function(t,o,n){var r=o.prototype,i=r.format;n.en.formats=e,r.format=function(t){void 0===t&&(t=\"YYYY-MM-DDTHH:mm:ssZ\");var o=this.$locale().formats,n=function(t,o){return t.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,o){return t||o.slice(1)}))}))}(t,void 0===o?{}:o);return i.call(this,n)}}}));"],"names":["columns","table","set","className","data","pagination","fixedHeader","striped","highlightOnHover","paginationComponentOptions","rowsPerPageText","rangeSeparatorText","selectAllRowsItem","selectAllRowsItemText","responsive","noHeader","noDataComponent","image","Empty","description","Search","Input","setFilterText","style","display","alignItems","width","placeholder","onChange","e","target","value","useState","planilla","setPlanilla","useContext","CrudContext","getData","updateData","createData","observacion","setObservacion","search","setSearch","filterText","dataAprobacion","setDataAprobacion","setIsLoading","getPlanilla","response","useEffect","updateAprobacion","checked","firma","info","name","id","notificacion","status","msg","handleAsistencias","asociacion_id","fecha_inicio","fecha_fin","dni","quincena","subarray_id","contrato_id","pdf","HojaTareoAsociacion","toBlob","pdfBlob","HojaTareoIndividual","pdfUrl","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","filtered","filter","item","nombre","toLowerCase","includes","aprobacionPlanilla","Header","text","ruta","ObservacionAprobacion","modal","setModal","boton","actualizarTabla","module","exports","o","default","s","d","monthsShort","split","weekdays","weekdaysShort","weekdaysMin","months","weekStart","formats","LT","LTS","L","LL","LLL","LLLL","relativeTime","future","past","m","mm","h","hh","dd","M","MM","y","yy","ordinal","locale","require","t","n","r","prototype","i","format","en","this","$locale","replace","toUpperCase","slice","call"],"sourceRoot":""}