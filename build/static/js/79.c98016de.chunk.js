"use strict";(self.webpackChunkrinconada=self.webpackChunkrinconada||[]).push([[79],{3066:function(a,n,e){e.d(n,{Z:function(){return d}});var i=e(72791),o=e(38411),s=e(49389),l=e(87309),r=e(78820),c=e(80184),t=s.Z.Search,d=function(a){var n=a.abrirModal,e=(0,i.useContext)(o.s).setFilterText;return(0,c.jsxs)("div",{className:"buscador-container",children:[(0,c.jsx)(t,{placeholder:"Ingresa un termino aqui...",onChange:function(a){return e(a.target.value)},style:{width:300}}),(0,c.jsx)("div",{className:"button-container",children:(0,c.jsx)(l.ZP,{onClick:function(){return n(!0)},icon:(0,c.jsx)(r.lFz,{}),children:"Registrar"})})]})}},65079:function(a,n,e){e.r(n),e.d(n,{default:function(){return z}});var i=e(74165),o=e(15861),s=e(29439),l=e(72791),r=e(38411),c=e(1413),t=e(4942),d=e(17615),u=e(87309),h=e(63998),p=e(16026),v=e(99763),m=e(69967),g=e(78820),_=e(80184),x=function(a){var n=a.actualizarTabla,e=d.Z.useForm(),x=(0,s.Z)(e,1)[0],f=(0,l.useContext)(r.s),Z=f.createData,j=f.updateData,k=f.setModal,C=f.dataToEdit,b=f.setDataToEdit,z=f.modal,y=f.cargando,w=f.setCargando,N=(0,l.useState)(p.FH),M=(0,s.Z)(N,2),T=M[0],q=M[1];(0,l.useEffect)((function(){C?(q(C),x.setFieldsValue(C)):q(p.FH)}),[C]);var E=function(){var a=(0,o.Z)((0,i.Z)().mark((function a(e){var o,s,l;return(0,i.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o="rol",null!==C){a.next=7;break}return w(!0),a.next=5,Z(T,"rol");case 5:(s=a.sent)&&((0,v.q)(s.status,s.msg),n(),F(),w(!1));case 7:if(!C){a.next=13;break}return w(!0),a.next=11,j(T,C.id,o);case 11:(l=a.sent)&&((0,v.q)(l.status,l.msg),n(),F(),w(!1));case 13:case"end":return a.stop()}}),a)})));return function(n){return a.apply(this,arguments)}}(),F=function(){k(!1),b(null),q(p.FH),w(!1)},D=(0,h.sY)(T,(function(a){var n=a.target,e=n.name,i=n.value;x.setFieldsValue((0,t.Z)({},e,i)),q((function(a){return(0,c.Z)((0,c.Z)({},a),{},(0,t.Z)({},e,i))}))}));return(0,_.jsx)(m.Z,{className:"modal-rol",title:C?"Editar rol":"Registrar rol",open:z,width:400,closeModal:F,children:(0,_.jsxs)(d.Z,{form:x,className:"modal-body",onFinish:E,layout:"horizontal",children:[D.map((function(a){return(0,_.jsx)(d.Z.Item,{name:a.name,rules:a.rules,style:{marginBottom:"8px"},children:(0,_.jsxs)(_.Fragment,{children:[a.label,a.type]})})})),(0,_.jsx)(d.Z.Item,{className:"button-container",children:(0,_.jsx)(u.ZP,{htmlType:"submit",icon:(0,_.jsx)(g.lFz,{}),loading:!!y,children:C?"Editar":"Registrar"})})]})})},f=e(3066),Z=e(83188),j=e(4808),k=e(95579),C=e(53939),b=e(85126),z=function(){var a=(0,l.useContext)(r.s),n=a.getData,e=a.deleteData,c=a.modal,t=a.setModal,d=a.setDataToEdit,u=a.setModal1,h=a.modal1,p=(0,l.useState)([]),m=(0,s.Z)(p,2),g=m[0],z=m[1],y=(0,k.Z)(g).result,w=function(){var a=(0,o.Z)((0,i.Z)().mark((function a(){var e;return(0,i.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n("rol");case 2:e=a.sent,z(e.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),N=function(){var a=(0,o.Z)((0,i.Z)().mark((function a(n){var o;return(0,i.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e("rol",n);case 2:(o=a.sent)&&((0,v.q)(o.status,o.msg),w());case 4:case"end":return a.stop()}}),a)})));return function(n){return a.apply(this,arguments)}}();(0,l.useEffect)((function(){w()}),[]);var M=(0,C.uG)((function(a){d(a),t(!0)}),N,(function(a){u(!0),d(a)}));return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(Z.Z,{text:"Roles",user:"Usuario",ruta:"/administracion"}),(0,_.jsxs)("div",{className:"margenes",children:[(0,_.jsx)(f.Z,{abrirModal:t}),(0,_.jsx)(j.Z,{columns:M,table:y})]}),c&&(0,_.jsx)(x,{actualizarTabla:w}),(0,_.jsx)(b.Z,{open:h})]})}},85126:function(a,n,e){e.d(n,{Z:function(){return x}});var i=e(4942),o=e(1413),s=e(74165),l=e(15861),r=e(29439),c=e(72791),t=e(38411),d=e(69967),u=e(32014),h=e(49389),p=e(83733),v=e(87309),m=e(78820),g=e(99763),_=e(80184),x=function(a){a.actualizarTabla;var n=(0,c.useContext)(t.s),e=n.modal1,x=n.setModal1,f=n.updateData,Z=n.setDataToEdit,j=n.dataToEdit,k=n.getData,C=n.cargando,b=n.setCargando,z=(0,c.useState)([{administracion:"",administracion_campamento:"",administracion_rol:"",administracion_usuario:"",finanzas:"",finanzas_ingreso:"",finanzas_proveedor:"",finanzas_sucursal:"",logistica:"",logistica_almacen:"",logistica_aprobacion:"",logistica_categoria:"",logistica_estadistica:"",logistica_inventario:"",logistica_requerimiento:"",logistica_transferencia:"",personal:"",personal_empresa:"",personal_grupal:"",personal_socio:"",personal_trabajador:"",planillas:"",planillas_asistencia:"",planillas_control:"",personal_contrato:"",personal_evaluacion:"",personal_trapiche:"",personal_volquete:"",planillas_programacion:"",planillas_realizar_pagos:"",planillas_historial:"",planillas_incentivos:"",planillas_casa:"",planillas_asociacion:"",logistica_aprobacion_jefe:"",logistica_aprobacion_gerente:"",logistica_aprobacion_superintendente:""}]),y=(0,r.Z)(z,2),w=y[0],N=y[1],M=function(){var a=(0,l.Z)((0,s.Z)().mark((function a(){var n;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,k("usuario/permiso/".concat(null===j||void 0===j?void 0:j.id));case 2:n=a.sent,N(n.data[0]);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();(0,c.useEffect)((function(){null!==j&&M()}),[j]);var T=function(){x(!1),Z(null)},q=function(a){if(a.target){var n=a.target,e=n.name,s=n.checked;N((function(a){return(0,o.Z)((0,o.Z)({},a),{},(0,i.Z)({},e,s))}))}},E=function(){var a=(0,l.Z)((0,s.Z)().mark((function a(){var n;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return b(!0),"usuario/permisos",a.next=4,f(w,j.id,"usuario/permisos");case 4:(n=a.sent)&&((0,g.q)(n.status,n.msg),M(),T(),b(!1));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),F=[{key:"1",label:"Administraci\xf3n",children:(0,_.jsxs)("div",{className:"check-container",children:[(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.administracion,name:"administracion",onChange:q,children:"Menu administraci\xf3n"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.administracion_usuario,name:"administracion_usuario",onChange:q,children:"Usuarios"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.administracion_rol,name:"administracion_rol",onChange:q,children:"Roles"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.administracion_campamento,name:"administracion_campamento",onChange:q,children:"Campamentos"})]})},{key:"2",label:"Personal",children:(0,_.jsxs)("div",{className:"check-container",children:[(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.personal,name:"personal",onChange:q,children:"Menu personal"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.personal_trabajador,name:"personal_trabajador",onChange:q,children:"Trabajadores"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.personal_grupal,name:"personal_grupal",onChange:q,children:"Grupales"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.personal_empresa,name:"personal_empresa",onChange:q,children:"Empresa"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.personal_socio,name:"personal_socio",onChange:q,children:"Socios"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.personal_trapiche,name:"personal_trapiche",onChange:q,children:"Trapiches"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.personal_volquete,name:"personal_volquete",onChange:q,children:"Volquetes"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.personal_contrato,name:"personal_contrato",onChange:q,children:"Trabajador contrato"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.personal_evaluacion,name:"personal_evaluacion",onChange:q,children:"Trabajador evaluaci\xf3n"})]})},{key:"3",label:"Planillas",children:(0,_.jsxs)("div",{className:"check-container",children:[(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.planillas,name:"planillas",onChange:q,children:"Menu planillas"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.planillas_asistencia,name:"planillas_asistencia",onChange:q,children:"Lista de asistencia"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.planillas_control,name:"planillas_control",onChange:q,children:"Planillas"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.planillas_programacion,name:"planillas_programacion",onChange:q,children:"Programaci\xf3n de pagos"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.planillas_realizar_pagos,name:"planillas_realizar_pagos",onChange:q,children:"Realizar pagos"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.planillas_historial,name:"planillas_historial",onChange:q,children:"Historial de pagos"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.planillas_incentivos,name:"planillas_incentivos",onChange:q,children:"Incentivos"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.planillas_casa,name:"planillas_casa",onChange:q,children:"Casa"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.planillas_asociacion,name:"planillas_asociacion",onChange:q,children:"Asociaci\xf3n"})]})},{key:"4",label:"Log\xedstica",children:(0,_.jsxs)("div",{className:"check-container",children:[(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.logistica,name:"logistica",onChange:q,children:"Menu logistica"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.logistica_inventario,name:"logistica_inventario",onChange:q,children:"Inventario"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.logistica_almacen,name:"logistica_almacen",onChange:q,children:"Almacenes"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.logistica_requerimiento,name:"logistica_requerimiento",onChange:q,children:"Requerimientos"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.logistica_aprobacion,name:"logistica_aprobacion",onChange:q,children:"Aprobaciones"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.logistica_transferencia,name:"logistica_transferencia",onChange:q,children:"Transferencia"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.logistica_categoria,name:"logistica_categoria",onChange:q,children:"Categor\xedas"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.logistica_estadistica,name:"logistica_estadistica",onChange:q,children:"Estad\xedsticas"})]})},{key:"5",label:"Finanzas",children:(0,_.jsxs)("div",{className:"check-container",children:[(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.finanzas,name:"finanzas",onChange:q,children:"Menu finanzas"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.finanzas_ingreso,name:"finanzas_ingreso",onChange:q,children:"Ingresos/Egresos"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.finanzas_proveedor,name:"finanzas_proveedor",onChange:q,children:"Proveedores"}),(0,_.jsx)(u.Z,{checked:null===w||void 0===w?void 0:w.finanzas_sucursal,name:"finanzas_sucursal",onChange:q,children:"Sucursales"})]})}];return(0,_.jsxs)(d.Z,{className:"modal-permisos",title:"Modificar permisos",open:e,width:800,closeModal:T,children:[(0,_.jsxs)("section",{className:"modal-body",children:[(0,_.jsx)("div",{className:"header",children:(0,_.jsx)(h.Z,{disabled:!0,value:null===j||void 0===j?void 0:j.nombre,style:{width:"200px"}})}),(0,_.jsx)(p.Z,{className:"tabs",defaultActiveKey:"1",items:F,onChange:q,centered:!0})]}),(0,_.jsx)("div",{className:"button-container",children:(0,_.jsx)(v.ZP,{onClick:E,icon:(0,_.jsx)(m.JMf,{}),loading:!!C,children:"Guardar"})})]})}}}]);
//# sourceMappingURL=79.c98016de.chunk.js.map