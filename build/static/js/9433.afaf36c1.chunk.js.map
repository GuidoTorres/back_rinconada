{"version":3,"file":"static/js/9433.afaf36c1.chunk.js","mappings":"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","sources":["components/personal/trabajadores/ModalRegistrarContrato.jsx","components/personal/BuscadorContrato.jsx","components/personal/trabajadores/ModalHistorialContrato.jsx","components/personal/trabajadores/PersonalLayout.jsx","hooks/useSearch.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport MainModal from \"../../modal/MainModal\";\nimport { notificacion } from \"../../../helpers/mensajes\";\nimport { Button, Form } from \"antd\";\nimport { AiOutlineForm } from \"react-icons/ai\";\nimport { modalRegistroContratoPersonal } from \"../../../data/FormValues\";\nimport { addDays } from \"../../../helpers/calcularFechaFin\";\nimport \"../styles/modalRegistrarContrato.css\";\n\nconst ModalRegistrarContrato = ({\n  actualizarTrabajadores,\n  actualizarTabla,\n  selected,\n  trabajadorDni,\n  data,\n}) => {\n  const [form] = Form.useForm();\n  const route = \"contrato\";\n  const route1 = \"cargo\";\n  const route2 = \"campamento\";\n  const route3 = \"gerencia\";\n  const route4 = \"area\";\n  const route5 = \"socio\";\n\n  const {\n    createData,\n    updateData,\n    getData,\n    setDataToEdit,\n    dataToEdit,\n    modal3,\n    setModal3,\n    cargando,\n    setCargando,\n  } = useContext(CrudContext);\n\n  const [cargo, setCargo] = useState([]);\n  const [campamento, setCampamento] = useState([]);\n  const [gerencia, setGerencia] = useState([]);\n  const [area, setArea] = useState([]);\n  const [responseContrato, setResponseContrato] = useState([]);\n  const [socio, setSocio] = useState([]);\n  const [id, setId] = useState(\"\");\n\n  const getAll = async () => {\n    const response1 = getData(route1);\n    const response2 = getData(route2);\n    const response3 = getData(route3);\n    const response4 = getData(route4);\n    const response5 = getData(route5);\n    const response7 = getData(`contrato/last/${trabajadorDni}`);\n\n    const all = await Promise.all([\n      response1,\n      response2,\n      response3,\n      response4,\n      response5,\n      response7,\n    ]);\n    setCargo(all[0].data);\n    setCampamento(all[1].data);\n    setGerencia(all[2].data);\n    setArea(all[3].data);\n    setSocio(all[4].data);\n    setId(all[5].data);\n  };\n  const trabajadorContratoValues = {\n    fecha_inicio: \"\",\n    codigo_contrato: \"\",\n    tipo_contrato: \"\",\n    recomendado_por: \"\",\n    cooperativa: \"\",\n    condicion_cooperativa: \"\",\n    periodo_trabajo: \"\",\n    fecha_fin: \"\",\n    gerencia_id: \"\",\n    area_id: \"\",\n    jefe_directo: \"\",\n    base: \"\",\n    termino_contrato: \"\",\n    campamento_id: \"\",\n    nota_contrato: \"\",\n    puesto_id: \"\",\n    estado: false,\n    volquete: \"\",\n    teletran: \"\",\n    suspendido: false,\n    finalizado: false,\n    tareo: \"\",\n    trabajador_id: trabajadorDni,\n  };\n  const [contrato, setContrato] = useState(trabajadorContratoValues);\n  useEffect(() => {\n    if (dataToEdit === null) {\n      setContrato((value) => ({ ...value, codigo_contrato: id }));\n    }\n  }, [id, dataToEdit]);\n\n  useEffect(() => {\n    if (dataToEdit) {\n      setContrato(dataToEdit);\n      form.setFieldsValue(dataToEdit);\n    } else {\n      setContrato(trabajadorContratoValues);\n    }\n  }, [dataToEdit]);\n\n  useEffect(() => {\n    if (dataToEdit === null && data.evaluacion.length > 0) {\n      setContrato((value) => ({\n        ...value,\n        gerencia_id: data.evaluacion.at(0).gerencia_id,\n        area_id: data.evaluacion.at(0).area_id,\n        puesto_id: data.evaluacion.at(0).puesto_id,\n        campamento_id: data.evaluacion.at(0).campamento_id\n      }));\n    }\n  }, [data, dataToEdit]);\n\n  \n\n  useEffect(() => {\n    getAll();\n  }, []);\n  useEffect(() => {\n    //para calcular la fecha de fin al registrar contrato\n    if (contrato.fecha_inicio !== \"\" && contrato.periodo_trabajo !== \"\") {\n      let fechaInicio = contrato.fecha_inicio;\n\n      const date = addDays(\n        fechaInicio,\n        contrato.periodo_trabajo,\n        contrato.tareo\n      );\n      setContrato((prevState) => {\n        return { ...prevState, fecha_fin: date };\n      });\n    } else {\n      setContrato((prevState) => {\n        return { ...prevState, fecha_fin: \"\" };\n      });\n    }\n  }, [contrato.fecha_inicio, contrato.periodo_trabajo, contrato.tareo]);\n\n  const handleData = (e, text) => {\n    if (!text && e.target) {\n      const { name, value } = e.target;\n      form.setFieldsValue({\n        [name]: value,\n      });\n      setContrato((values) => {\n        return { ...values, [name]: value };\n      });\n    } else {\n      form.setFieldsValue({\n        [text]: e,\n      });\n      setContrato((values) => {\n        return { ...values, [text]: e };\n      });\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (dataToEdit === null) {\n      setCargando(true);\n      const response = await createData(contrato, route);\n      if (response) {\n        notificacion(response.status, response.msg);\n        closeModal();\n        actualizarTabla();\n        actualizarTrabajadores();\n        setCargando(false);\n      }\n    }\n    if (dataToEdit) {\n      setCargando(true);\n      const response = await updateData(contrato, selected.id, route);\n      if (response) {\n        notificacion(response.status, response.msg);\n        closeModal();\n        actualizarTabla();\n        actualizarTrabajadores();\n        setCargando(false);\n      }\n    }\n  };\n\n  const closeModal = () => {\n    setModal3(false);\n    setDataToEdit(null);\n    setContrato(trabajadorContratoValues);\n    setCargando(false);\n  };\n\n\n  const formData = modalRegistroContratoPersonal(\n    contrato,\n    handleData,\n    cargo,\n    campamento,\n    gerencia,\n    area,\n    id,\n    dataToEdit\n  );\n  return (\n    <MainModal\n      className={\"modal-contrato-empresa\"}\n      title={dataToEdit ? \"Editar contrato\" : \"Registrar contrato\"}\n      open={modal3}\n      width={920}\n      closeModal={closeModal}\n    >\n      <Form\n        form={form}\n        className=\"modal-body\"\n        onFinish={handleSubmit}\n        layout=\"horizontal\"\n      >\n        {/* <label htmlFor=\"\">Contrato</label> */}\n        <div className=\"contrato\">\n          {formData.splice(0, 13).map((item, i) => (\n            <Form.Item\n              className=\"item\"\n              key={i}\n              name={item.name}\n              rules={item.rules}\n              style={{ marginBottom: \"8px\" }}\n            >\n              <>\n                {item.label}\n                {item.type}\n              </>\n            </Form.Item>\n          ))}\n        </div>\n        <div className=\"finalizacion\">\n          {formData.map((item, i) => (\n            <Form.Item\n              key={i}\n              name={item.name}\n              rules={item.rules}\n              style={{ marginBottom: \"8px\" }}\n            >\n              <>\n                {item.label}\n                {item.type}\n              </>\n            </Form.Item>\n          ))}\n        </div>\n        <Form.Item className=\"button-container\">\n          <Button\n            htmlType=\"submit\"\n            icon={<AiOutlineForm />}\n            loading={cargando ? true : false}\n          >\n            {dataToEdit ? \" Editar\" : \" Registrar\"}\n          </Button>\n        </Form.Item>\n      </Form>\n    </MainModal>\n  );\n};\n\nexport default ModalRegistrarContrato;\n","import React from \"react\";\nimport { Input, Button } from \"antd\";\nimport \"./styles/buscadorHistorial.css\";\n\nconst { Search } = Input;\n\nconst BuscadorContrato = ({ abrirModal, registrar, data,setFilterText }) => {\n\n  return (\n    <div className=\"personal-buscador\">\n      <Search\n        placeholder=\"Ingresa un termino aqui...\"\n        onChange={(e) => setFilterText(e.target.value)}\n        style={{\n          width: 300,\n        }}\n      />\n      <div className=\"button-container\">\n        <Button onClick={() => abrirModal(true)}>+ Registrar</Button>\n      </div>\n    </div>\n  );\n};\n\nexport default BuscadorContrato;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport Tabla from \"../../tabla/Tabla\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport ModalRegistrarContrato from \"./ModalRegistrarContrato\";\nimport { tableHistorialContrato } from \"../../../data/dataTable\";\nimport BuscadorContrato from \"../BuscadorContrato\";\nimport useSearch from \"../../../hooks/useSearch\";\nimport MainModal from \"../../modal/MainModal\";\nimport { notificacion } from \"../../../helpers/mensajes\";\nimport { Empty } from \"antd\";\n\nimport \"../styles/modalHistorialContrato.css\";\nimport Cargando from \"../../cargando/Cargando\";\n\nconst ModalHistorialContrato = ({\n  selected,\n  actualizarTrabajadores,\n  trabajador,\n  data,\n}) => {\n  const route = \"contrato\";\n\n  const {\n    getDataById,\n    deleteData,\n    data1,\n    setData1,\n    setDataToEdit,\n    modal2,\n    setModal2,\n    modal3,\n    setModal3,\n    cargando,\n    setCargando,\n  } = useContext(CrudContext);\n\n  const [search, setSearch] = useState([]);\n  const [filterText, setFilterText] = useState(\"\");\n  const [id, setId] = useState(\"\");\n\n  const getContrato = async () => {\n    const route = \"contrato\";\n    const response = await getDataById(route, selected);\n\n    if (response) {\n      const filterContratos = response.data\n        ?.map((item) => item.contratos)\n        .flat();\n      setData1(filterContratos);\n    }\n  };\n\n  const handleEdit = (e) => {\n    setDataToEdit(e);\n    setModal3(true);\n    setId(e);\n  };\n  useEffect(() => {\n    const filtered =\n      data1 &&\n      data1\n        .filter(\n          (item) =>\n            item?.fecha_inicio\n              ?.split(\"T\")[0]\n              ?.toLowerCase()\n              ?.includes(filterText.toLowerCase()) ||\n            item?.fecha_fin\n              ?.split(\"T\")[0]\n              ?.toLowerCase()\n              ?.includes(filterText.toLowerCase()) ||\n            item?.tipo_contrato\n              ?.toLowerCase()\n              ?.includes(filterText.toLowerCase())\n        )\n\n        .flat();\n    setSearch(filtered);\n  }, [filterText, data1]);\n\n  const handleDelete = async (e) => {\n    const response = await deleteData(route, e.id);\n\n    if (response) {\n      notificacion(response.status, response.msg);\n      closeModal();\n      actualizarTrabajadores();\n    }\n  };\n\n  const closeModal = () => {\n    setModal2(false);\n    setData1([]);\n  };\n  useEffect(() => {\n    getContrato();\n  }, []);\n\n  const columns = tableHistorialContrato(handleEdit, handleDelete);\n  return (\n    <MainModal\n      className={\"modal-historial-evaluacion\"}\n      title=\"Historial de contratos\"\n      open={modal2}\n      width={900}\n      closeModal={closeModal}\n    >\n      <section className=\"buscador\">\n        <BuscadorContrato\n          abrirModal={setModal3}\n          registrar={true}\n          tipo={\"contrato\"}\n          data={data}\n          setFilterText={setFilterText}\n        />\n      </section>\n\n      {data1.length > 0 ? (\n        <Tabla columns={columns} table={search} />\n      ) : (\n        <Empty\n          image={Empty.PRESENTED_IMAGE_SIMPLE}\n          description={<span>No hay registros para mostrar.</span>}\n        />\n      )}\n\n      {modal3 && (\n        <ModalRegistrarContrato\n          actualizarTabla={getContrato}\n          selected={id}\n          trabajadorDni={data.dni}\n          actualizarTrabajadores={actualizarTrabajadores}\n          trabajador={trabajador}\n          idContrato={data1}\n          data={data}\n        />\n      )}\n    </MainModal>\n  );\n};\n\nexport default ModalHistorialContrato;\n","import React, { useContext, useEffect, useState, useRef } from \"react\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport Header from \"../../header/Header\";\nimport Tabla from \"../../tabla/Tabla\";\nimport Buscador from \"../Buscador\";\nimport ModalRegistroPersonal from \"./ModalRegistroPersonal\";\nimport ModalHistorialContrato from \"./ModalHistorialContrato\";\nimport ModalHistorialEvaluacion from \"./ModalHistorialEvaluacion\";\nimport \"../styles/personalLayout.css\";\nimport { personalLayout } from \"../../../data/dataTable\";\nimport { notificacion } from \"../../../helpers/mensajes\";\nimport Cargando from \"../../cargando/Cargando\";\nimport { Empty } from \"antd\";\n\nconst PersonalLayout = () => {\n  const route = \"trabajador\";\n\n  const {\n    getData,\n    deleteData,\n    updateData,\n    setDataToEdit,\n    modal2,\n    setModal2,\n    filterText,\n    setFilterText,\n  } = useContext(CrudContext);\n  const [id, setId] = useState(\"\");\n  const [trabajorEvaluacion, setTrabajadorEvaluacion] = useState([]);\n  const [trabajorContrato, setTrabajadorContrato] = useState([]);\n  const [dataTrabajadores, setDataTrabajadores] = useState([]);\n  const [search, setSearch] = useState([]);\n  const [modalPersonal, setModalPersonal] = useState(false);\n  const [modalHistorialEvaluacion, setModalHistorialEvaluacion] =\n    useState(false);\n\n  const getTrabajadores = async () => {\n    const response = await getData(route);\n\n    if (response) {\n      setDataTrabajadores(response.data);\n    }\n  };\n\n  const handleEdit = (e) => {\n    setDataToEdit(e);\n    setModalPersonal(true);\n  };\n\n  const handleDelete = async (e) => {\n    const route = \"trabajador\";\n    const response = await deleteData(route, e);\n\n    if (response) {\n      notificacion(response.status, response.msg);\n      getTrabajadores();\n    }\n  };\n  useEffect(() => {\n    const filtered =\n      dataTrabajadores &&\n      dataTrabajadores.filter(\n        (item) =>\n          item?.codigo_trabajador\n            ?.toLowerCase()\n            ?.includes(filterText.toLowerCase()) ||\n          `${item?.nombre} ${item?.apellido_paterno} ${item?.apellido_materno}`\n            ?.toLowerCase()\n            ?.includes(filterText.toLowerCase()) ||\n          item?.dni?.toLowerCase()?.includes(filterText.toLowerCase()) ||\n          item?.campamento?.toLowerCase()?.includes(filterText.toLowerCase())\n      );\n\n    setSearch(filtered);\n  }, [filterText, dataTrabajadores]);\n\n  useEffect(() => {\n    return () => {\n      setSearch([]);\n      setFilterText(\"\");\n    };\n  }, []);\n\n  const handleEvaluacion = (e) => {\n    setModalHistorialEvaluacion(true);\n    setId(e);\n    setTrabajadorEvaluacion(e.evaluacion);\n  };\n  const handleContrato = (e) => {\n    setModal2(true);\n    setId(e.dni);\n    setTrabajadorContrato(e);\n  };\n\n  const deshabilitarTrabajador = async (trabajador) => {\n    const route = \"trabajador\";\n\n    const response = await updateData(\n      { deshabilitado: trabajador.deshabilitado },\n      trabajador.dni,\n      route\n    );\n    if (response) {\n      notificacion(response.status, response.msg);\n      getTrabajadores();\n    }\n  };\n\n  useEffect(() => {\n    getTrabajadores();\n  }, []);\n\n  const columns = personalLayout(\n    handleEvaluacion,\n    handleContrato,\n    deshabilitarTrabajador,\n    handleEdit,\n    handleDelete\n  );\n\n  return (\n    <>\n      <Header text={\"Trabajadores\"} user={\"Usuario\"} ruta={\"/personal\"} />\n\n      <div className=\"margenes\">\n        <Buscador\n          abrirModal={setModalPersonal}\n          importar={true}\n          registrar={true}\n          // actualizarTrabajadores={getTrabajadores}\n          setFilterText={setFilterText}\n        />\n        <Tabla columns={columns} table={search} />\n      </div>\n\n      {modalPersonal && (\n        <ModalRegistroPersonal\n          actualizarTabla={getTrabajadores}\n          data={dataTrabajadores}\n          modal={modalPersonal}\n          setModal={setModalPersonal}\n        />\n      )}\n\n      {modalHistorialEvaluacion && (\n        <ModalHistorialEvaluacion\n          selected={id}\n          actualizarTrabajador={getTrabajadores}\n          data={trabajorEvaluacion}\n          modal1={modalHistorialEvaluacion}\n          setModal1={setModalHistorialEvaluacion}\n        />\n      )}\n      {modal2 && (\n        <ModalHistorialContrato\n          selected={id}\n          actualizarTrabajadores={getTrabajadores}\n          data={trabajorContrato}\n        />\n      )}\n    </>\n  );\n};\n\nexport default PersonalLayout;\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useContext } from \"react\";\nimport { useState } from \"react\";\nimport { CrudContext } from \"../context/CrudContext\";\n\nconst useSearch = (data) => {\n  const { filterText, filterTextModal, result, setResult } = useContext(CrudContext);\n\n  useEffect(() => {\n    if (filterText !== \"\") {\n      const filteredData = data.filter((item) => {\n        return Object.values(item)\n          .join(\"\")\n          .toLowerCase()\n          .includes(filterText.toLowerCase());\n      });\n      setResult(filteredData);\n    } else {\n      setResult(data);\n    }\n  }, [filterText, data]);\n\n\n  return { result };\n};\n\nexport default useSearch;\n"],"names":["actualizarTrabajadores","actualizarTabla","selected","trabajadorDni","data","Form","form","route","useContext","CrudContext","createData","updateData","getData","setDataToEdit","dataToEdit","modal3","setModal3","cargando","setCargando","useState","cargo","setCargo","campamento","setCampamento","gerencia","setGerencia","area","setArea","setSocio","id","setId","getAll","response1","response2","response3","response4","response5","response7","Promise","all","trabajadorContratoValues","fecha_inicio","codigo_contrato","tipo_contrato","recomendado_por","cooperativa","condicion_cooperativa","periodo_trabajo","fecha_fin","gerencia_id","area_id","jefe_directo","base","termino_contrato","campamento_id","nota_contrato","puesto_id","estado","volquete","teletran","suspendido","finalizado","tareo","trabajador_id","contrato","setContrato","useEffect","value","setFieldsValue","evaluacion","length","at","fechaInicio","date","addDays","prevState","handleSubmit","response","notificacion","status","msg","closeModal","formData","modalRegistroContratoPersonal","e","text","target","name","values","MainModal","className","title","open","width","onFinish","layout","splice","map","item","i","rules","style","marginBottom","label","type","htmlType","icon","loading","Search","Input","abrirModal","setFilterText","registrar","placeholder","onChange","onClick","trabajador","getDataById","deleteData","data1","setData1","modal2","setModal2","search","setSearch","filterText","getContrato","filterContratos","contratos","flat","filtered","filter","split","toLowerCase","includes","handleDelete","columns","tableHistorialContrato","tipo","Tabla","table","image","Empty","description","dni","idContrato","trabajorEvaluacion","setTrabajadorEvaluacion","trabajorContrato","setTrabajadorContrato","dataTrabajadores","setDataTrabajadores","modalPersonal","setModalPersonal","modalHistorialEvaluacion","setModalHistorialEvaluacion","getTrabajadores","codigo_trabajador","nombre","apellido_paterno","apellido_materno","deshabilitarTrabajador","deshabilitado","personalLayout","Header","user","ruta","Buscador","importar","ModalRegistroPersonal","modal","setModal","ModalHistorialEvaluacion","actualizarTrabajador","modal1","setModal1","result","filterTextModal","setResult","filteredData","Object","join"],"sourceRoot":""}