"use strict";(self.webpackChunkrinconada=self.webpackChunkrinconada||[]).push([[2172],{69967:function(e,a,n){n(72791);var o=n(49998),t=n(80184);a.Z=function(e){var a=e.className,n=e.title,r=e.open,i=e.width,s=e.closeModal,c=e.children;return(0,t.jsx)(o.Z,{destroyOnClose:!0,className:a,title:n,open:r,centered:!0,onCancel:s,footer:null,width:i,children:c})}},35139:function(e,a,n){n.r(a),n.d(a,{default:function(){return W}});var o=n(83733),t=n(83188),r=n(74165),i=n(15861),s=n(29439),c=n(68588),l=n(66106),d=n(30914),u=n(83099),p=n(53655),f=n(80458),h=n(34664),m=n(72791),v=n(38411),g=n(53939),x=n(99763),b=n(76487),Z=n(36473),j=n(59274),_=n(43513),y=n(39126),w=n(58617),k=(n(51279),n(80184)),D=function(e){var a=e.columns,n=e.table,o=e.filas,t=a.filter((function(e){return"Nro"===e.id||"fecha_pago"===e.id||"observacion"===e.id||"pago_id"===e.id||"nombre"===e.id||"tipo"===e.id||"volquetes"===e.id||"estado"===e.id||"Acciones"===e.id})),r=a.map((function(e){return{title:e.name,dataIndex:e.id,key:e.id}}));return(0,k.jsx)("div",{className:"table-container",children:(0,k.jsx)(_.ZP,{size:"small",columns:t,data:n,pagination:!0,striped:!0,highlightOnHover:!0,responsive:!0,paginationComponentOptions:{rowsPerPageText:"Filas por p\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!1,selectAllRowsItemText:"Todos"},paginationPerPage:o||8,paginationRowsPerPageOptions:[8,16,24,32,40],expandableRows:!0,expandableRowsComponent:function(e){var a,n,o,t,i,s,c,u,f=e.data;return(0,k.jsxs)(l.Z,{style:{padding:10,backgroundColor:"#F0F2F5"},gutter:10,align:"center",children:["asociacion"===f.tipo&&(0,k.jsx)(d.Z,{lg:22,xs:24,children:(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)("strong",{children:"Asociaci\xf3n:"})," ",null===(a=f.pagos)||void 0===a?void 0:a.nombre," ",(0,k.jsx)("br",{}),(0,k.jsx)("strong",{children:"Tipo:"})," ",null===(n=f.pagos)||void 0===n?void 0:n.tipo_asociacion," ",(0,k.jsx)("br",{})]})}),(0,k.jsx)(d.Z,{lg:11,xs:24,children:(0,k.jsx)(Z.Z,{title:(0,k.jsxs)(k.Fragment,{children:["casa"!==f.tipo?(0,k.jsx)(w.TSD,{}):(0,k.jsx)(y.qlS,{}),"casa"!==f.tipo?"Trabajador/es":"Empresa"]}),children:(0,k.jsx)(j.Z,{style:{width:"100%"},size:"small",pagination:!1,columns:"casa"===f.tipo?r.filter((function(e){return"empresa"===e.key})):"asociacion"===f.tipo?r.filter((function(e){return"nombres"===e.key||"dni"===e.key||"teletrans"===e.key||"telefono"===e.key})):r.filter((function(e){return"nombres"===e.key||"cargo"===e.key||"area"===e.key||"dni"===e.key||"telefono"===e.key})),dataSource:"asociacion"===f.tipo?null===(o=f.pagos)||void 0===o||null===(t=o.trabajadores)||void 0===t?void 0:t.map((function(e,a){return{key:a,nombres:(0,k.jsx)(p.Z.Text,{style:{color:"#1890ff"},children:e.nombre}),dni:e.dni,telefono:e.telefono,teletrans:e.teletrans}})):"casa"===f.tipo?null===(i=f.pagos)||void 0===i||null===(s=i.trabajadores)||void 0===s?void 0:s.map((function(e,a){return{key:a,empresa:e.nombre}})):null===(c=f.pagos)||void 0===c||null===(u=c.trabajadores)||void 0===u?void 0:u.map((function(e,a){return{key:a,nombres:(0,k.jsx)(p.Z.Text,{style:{color:"#1890ff"},children:e.nombre}),cargo:e.cargo,area:e.area,dni:e.dni,telefono:e.celular}}))})})}),(0,k.jsx)(d.Z,{lg:11,xs:24,children:(0,k.jsx)(Z.Z,{title:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(y.qaI,{})," Destino/s"]}),children:(0,k.jsx)(j.Z,{style:{width:"100%"},size:"small",pagination:!1,columns:r.filter((function(e){return"hora"===e.key||"placa"===e.key||"propietario"===e.key||"trapiche"===e.key||"teletrans"===e.key})),dataSource:f.destino.map((function(e,a){return{key:a,Nro:a+1,hora:e.destino.hora,placa:e.destino.placa,propietario:e.destino.propietario,trapiche:e.destino.trapiche,teletrans:e.destino.teletrans}}))})})})]})},expandableRowDisabled:function(e){return e.disabled}})})},F=n(49389),S=n(87309),T=n(69967),C=function(e){var a=e.data,n=e.open,o=e.onClose,t=e.actualizarTabla,c=F.Z.TextArea,l=(0,m.useState)(!1),d=(0,s.Z)(l,2),u=d[0],f=d[1],h=(0,m.useContext)(v.s).createData,g=(0,m.useState)(null===a||void 0===a?void 0:a.observacion),b=(0,s.Z)(g,2),Z=b[0],j=b[1],_=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n,i,s,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),"pago/reprogramacion",s={pago_id:null===(n=a.destino[0])||void 0===n?void 0:n.pago_id,destino_id:null===(i=a.destino[0])||void 0===i?void 0:i.destino_id,tipo:a.tipo,estado:a.estado,observacion:Z},e.next=5,h(s,"pago/reprogramacion");case 5:(c=e.sent)&&((0,x.q)(c.status,c.msg),f(!1),t(),o());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsx)(T.Z,{title:"Reprogramar pago",width:600,open:n,closeModal:o,children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:5},children:[(0,k.jsx)(p.Z,{style:{fontWeight:"bold"},children:"Observaci\xf3n"}),(0,k.jsx)(c,{rows:4,placeholder:"Observaci\xf3n",onChange:function(e){var a=e.target.value;j(a)},value:Z}),(0,k.jsx)(S.ZP,{type:"primary",onClick:_,loading:u,children:"Reprogramar"})]})})};var P=function(){var e=(0,m.useContext)(v.s).getData,a=c.Z.RangePicker,n=(0,m.useState)(!1),o=(0,s.Z)(n,2),t=o[0],Z=o[1],j=(0,m.useState)([]),_=(0,s.Z)(j,2),y=_[0],w=_[1],F=(0,m.useState)([]),S=(0,s.Z)(F,2),T=S[0],P=S[1],q=function(){var a=(0,i.Z)((0,r.Z)().mark((function a(){var n,o;return(0,r.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return Z(!0),"pago/historial",a.next=4,e("pago/historial");case 4:(n=a.sent)&&(o=n.data.filter((function(e){return null!==e})),w(o),Z(!1));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();(0,m.useEffect)((function(){q()}),[]),(0,m.useEffect)((function(){P(y)}),[y]);var E=function(){var a=(0,i.Z)((0,r.Z)().mark((function a(n){var o,t;return(0,r.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o="pago/validacion/"+n.destino[0].pago_id,a.next=3,e(o);case 3:(t=a.sent)&&((0,x.q)(t.status,t.msg),q());case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),I=(0,m.useState)(!1),z=(0,s.Z)(I,2),M=z[0],R=z[1],N=(0,m.useState)({}),Y=(0,s.Z)(N,2),A=Y[0],O=Y[1],H=(0,g.b1)(E,(function(e){O(e),R(!0)})),L=(0,m.useState)("todos"),B=(0,s.Z)(L,2),V=B[0],G=B[1],J=(0,m.useState)(null),K=(0,s.Z)(J,2),W=K[0],X=K[1];(0,m.useEffect)((function(){if(null!==W){var e=W.fechaInicio,a=W.fechaFin;if("todos"===V){var n=y.filter((function(n){return n.fecha_pago>=e&&n.fecha_pago<=a}));P(n)}else{var o=y.filter((function(n){return n.fecha_pago>=e&&n.fecha_pago<=a&&n.tipo===V}));P(o)}}else if("todos"===V)P(y);else{var t=y.filter((function(e){return e.tipo===V}));P(t)}}),[V]);var Q=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a){var n,o,t,i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===a?(X(null),"todos"===V?P(y):(n=y.filter((function(e){return e.tipo===V})),P(n))):(o=a[0].format("YYYY-MM-DD"),t=a[1].format("YYYY-MM-DD"),X({fechaInicio:o,fechaFin:t}),"todos"===V?(i=y.filter((function(e){return e.fecha_pago>=o&&e.fecha_pago<=t})),P(i)):(s=y.filter((function(e){return e.fecha_pago>=o&&e.fecha_pago<=t&&e.tipo===V})),P(s)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,k.jsxs)("div",{children:[(0,k.jsxs)(l.Z,{style:{width:"100%"},children:[(0,k.jsx)(d.Z,{span:6,children:(0,k.jsxs)(u.Z,{direction:"horizontal",style:{width:"100%",display:"flex"},children:[(0,k.jsx)(p.Z,{children:"Filtrar Pago tipo:"}),(0,k.jsx)(f.Z,{style:{width:150},placeholder:"Tipo de pago",defaultValue:V,onChange:function(e){G(e)},options:[{value:"todos",label:"Todos"},{value:"casa",label:"Casa"},{value:"incentivo",label:"Incentivo"},{value:"asociacion",label:"Asociacion"}]})]})}),(0,k.jsx)(d.Z,{span:18,children:(0,k.jsxs)(u.Z,{direction:"horizontal",style:{width:"100%",display:"flex"},children:[(0,k.jsx)(p.Z,{children:"Buscar por fechas:"}),(0,k.jsx)(a,{onChange:Q})]})})]}),(null===y||void 0===y?void 0:y.length)>0?(0,k.jsx)(D,{columns:H,table:T}):(0,k.jsx)(k.Fragment,{children:t?(0,k.jsx)(b.Z,{}):(0,k.jsx)(h.Z,{image:h.Z.PRESENTED_IMAGE_SIMPLE,description:(0,k.jsx)("span",{children:"No hay registros para mostrar."})})}),M&&(0,k.jsx)(C,{data:A,open:M,onClose:function(){R(!1)},actualizarTabla:q})]})},q=n(78820),E=n(64941),I=n(7692),z=function(e){var a=e.columns,n=e.table,o=e.filas,t=p.Z.Text,r=a.filter((function(e){return"Nro"===e.id||"fecha_pago"===e.id||"observacion"===e.id||"pago_id"===e.id||"tipo"===e.id||"teletrans"===e.id||"volquetes"===e.id||"estado"===e.id||"Acciones"===e.id})),i=a.map((function(e){return{title:e.name,dataIndex:e.id,key:e.id}}));return(0,k.jsx)("div",{className:"table-container",children:(0,k.jsx)(_.ZP,{size:"small",columns:r,data:n,pagination:!0,striped:!0,highlightOnHover:!0,responsive:!0,paginationComponentOptions:{rowsPerPageText:"Filas por p\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!1,selectAllRowsItemText:"Todos"},paginationPerPage:o||8,paginationRowsPerPageOptions:[8,16,24,32,40],expandableRows:!0,expandableRowsComponent:function(e){var a,n,o,r,s,c,p=e.data;return(0,k.jsxs)(l.Z,{style:{padding:10},gutter:10,align:"center",children:[(0,k.jsx)(d.Z,{lg:11,xs:24,children:(0,k.jsx)(Z.Z,{title:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(y.qaI,{})," Destino/s"]}),children:(0,k.jsx)(j.Z,{style:{width:"100%"},size:"small",pagination:!1,columns:i.filter((function(e){return"hora"===e.key||"placa"===e.key||"propietario"===e.key||"trapiche"===e.key||"teletrans"===e.key})),dataSource:p.pago.destino_pagos.map((function(e,a){return{key:a,Nro:a+1,hora:e.destino.hora,placa:e.destino.placa,propietario:e.destino.propietario,trapiche:e.destino.trapiche,teletrans:e.destino.teletrans}}))})})}),(0,k.jsx)(d.Z,{lg:11,xs:24,children:(0,k.jsx)(Z.Z,{title:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(I.i77,{}),"Trabajador"]}),children:(0,k.jsxs)(l.Z,{justify:"space-between",children:[(0,k.jsx)(d.Z,{span:12,children:(0,k.jsxs)(u.Z,{direction:"horizontal",children:[(0,k.jsx)(t,{strong:!0,children:"Nombre:"}),(0,k.jsxs)(t,{children:[null===p||void 0===p||null===(a=p.trabajador)||void 0===a?void 0:a.nombre," ",null===p||void 0===p||null===(n=p.trabajador)||void 0===n?void 0:n.apellido_paterno," ",null===p||void 0===p||null===(o=p.trabajador)||void 0===o?void 0:o.apellido_materno]})]})}),(0,k.jsx)(d.Z,{span:12,children:(0,k.jsxs)(u.Z,{direction:"horizontal",children:[(0,k.jsx)(t,{strong:!0,children:"Dni:"}),(0,k.jsx)(t,{children:null===p||void 0===p||null===(r=p.trabajador)||void 0===r?void 0:r.dni})]})}),(0,k.jsx)(d.Z,{span:12,children:(0,k.jsxs)(u.Z,{direction:"horizontal",children:[(0,k.jsx)(t,{strong:!0,children:"Celular:"}),(0,k.jsx)(t,{children:null===p||void 0===p||null===(s=p.trabajador)||void 0===s?void 0:s.telefono})]})}),(0,k.jsx)(d.Z,{span:12,children:(0,k.jsxs)(u.Z,{direction:"horizontal",children:[(0,k.jsx)(t,{strong:!0,children:"Email:"}),(0,k.jsx)(t,{children:null===p||void 0===p||null===(c=p.trabajador)||void 0===c?void 0:c.email})]})})]})})})]})},expandableRowDisabled:function(e){return e.disabled}})})},M=n(4942),R=n(1413),N=n(17615),Y=n(16726),A=n(58848),O=n(97943),H=n(97892),L=n.n(H),B=n(63998),V=n(16026),G=n(35790);var J=function(e){var a=e.actualizarTabla,n=N.Z.useForm(),o=(0,s.Z)(n,1)[0],t=(0,m.useContext)(v.s),c=t.createData,l=t.getData,d=t.modal,u=t.setModal,p=t.setDataToEdit,h=t.dataToEdit,g=t.updateData,b=(0,m.useState)(!1),j=(0,s.Z)(b,2),_=j[0],y=j[1],w=(0,m.useState)(V.cB),D=(0,s.Z)(w,2),C=D[0],P=D[1],E=(0,m.useState)([]),I=(0,s.Z)(E,2),z=I[0],H=I[1],J=(0,m.useState)([]),K=(0,s.Z)(J,2),W=K[0],X=K[1],Q=(0,m.useState)([]),U=(0,s.Z)(Q,2),$=U[0],ee=U[1],ae=(0,m.useState)([]),ne=(0,s.Z)(ae,2),oe=ne[0],te=ne[1],re=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var a,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("volquete");case 2:(a=e.sent)&&(n=a.data.filter((function(e){return null!==e})),X(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var a,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("trapiche");case 2:(a=e.sent)&&(n=a.data.filter((function(e){return null!==e})),ee(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("ayuda");case 2:a=e.sent,H(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=(0,m.useState)([]),le=(0,s.Z)(ce,2),de=le[0],ue=le[1],pe=(0,m.useState)([]),fe=(0,s.Z)(pe,2),he=fe[0],me=fe[1],ve=function(){var e=W.map((function(e){return{value:e.propietario,label:e.propietario}}));ue(e)},ge=function(){var e=$.map((function(e){return{value:e.nombre,label:e.nombre}}));me(e)};(0,m.useEffect)((function(){se(),re(),ie()}),[]),(0,m.useEffect)((function(){ve(),ge()}),[W,$]),(0,m.useEffect)((function(){for(var e=[],a=0;a<parseFloat(C.volquetes);a++)e.push((0,R.Z)({index:a},(0,V.n4)()));te(e),ve(),ge()}),[C.volquetes]),(0,m.useEffect)((function(){if(h){P((0,R.Z)((0,R.Z)({},h),{},{nombre:h.trabajador.nombre,teletrans:parseFloat(h.teletrans),volquetes:parseFloat(h.pago.volquetes)||0,observacion:h.pago.observacion,fecha_pago:L()(h.pago.fecha_pago).format("YYYY-MM-DD")})),o.setFieldsValue((0,R.Z)((0,R.Z)({},h),{},{nombre:h.trabajador.nombre,teletrans:parseFloat(h.teletrans),volquetes:parseFloat(h.pago.volquetes)||0,observacion:h.pago.observacion,fecha_pago:L()(h.pago.fecha_pago).format("YYYY-MM-DD")}));var e=h.pago.destino_pagos.map((function(e){return{hora:e.destino.hora,placa:e.destino.placa,propietario:e.destino.propietario,trapiche:e.destino.trapiche}}));te(e)}else P(V.cB)}),[h]);var xe=function(e,a,n){te((function(o){return o.map((function(o){return o.index===e?(0,R.Z)((0,R.Z)({},o),{},(0,M.Z)({},n,a)):o}))}))},be=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n,o,t,i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="ayuda/pago",y(!0),o=oe.map((function(e){return{hora:L()(e.hora).format("HH:mm"),placa:e.placa||"",propietario:e.propietario||"",trapiche:e.trapiche||"",teletrans:4}})),t={volquetes:parseFloat(C.volquetes)||0,teletrans:parseFloat(C.teletrans)||0,trabajador_dni:C.trabajador_dni||"",observacion:C.observacion||"",fecha_pago:L()(C.fecha_pago).format("YYYY-MM-DD")||"",tipo:C.tipo||"extraordinario",destino:o},console.log("\ud83d\ude80 ~ file: ModalPagoExtraordinario.jsx:216 ~ handleSubmit ~ data:",t),!h){e.next=12;break}return e.next=8,g(t,h.pago_id,"pago");case 8:(i=e.sent)&&((0,x.q)(i.status,i.msg),a(),Ze()),e.next=16;break;case 12:return e.next=14,c(t,n);case 14:(s=e.sent)&&((0,x.q)(s.status,s.msg),a(),Ze());case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=function(){u(!1),p(null),y(!1),P(V.cB)},je=(0,B.p4)(C,(function(e,a){if(!a&&e.target){var n=e.target,t=n.name,r=n.value;o.setFieldsValue((0,M.Z)({},t,r)),P((function(e){return(0,R.Z)((0,R.Z)({},e),{},(0,M.Z)({},t,r))}))}else o.setFieldsValue((0,M.Z)({},a,e)),P((function(n){return(0,R.Z)((0,R.Z)({},n),{},(0,M.Z)({},a,e))}))}),z,h);return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(T.Z,{className:"modal-usuario",title:h?"Editar pago extraordinario":"Registrar pago extraordinario",open:d,width:400,closeModal:Ze,children:(0,k.jsxs)(N.Z,{form:o,className:"modal-body",onFinish:be,layout:"vertical",children:[je.map((function(e,a){return(0,k.jsx)(N.Z.Item,{className:e.className,name:e.name,rules:e.rules,style:{marginBottom:"8px"},children:(0,k.jsxs)(k.Fragment,{children:[e.label,e.type]})},a)})),oe.map((function(e,a){return(0,k.jsx)(Y.Z.Ribbon,{text:"Veh\xedculo ".concat(a+1),children:(0,k.jsxs)(Z.Z,{style:{width:"100%"},children:[(0,k.jsx)(N.Z.Item,{name:"conductor".concat(a),label:"Propietario",rules:[{required:!0,message:"Ingrese el propietario"}],children:(0,k.jsx)(f.Z,{showSearch:!0,placeholder:"Propietario",style:{width:"100%"},onChange:function(a){var n=W.find((function(e){return e.propietario===a}));xe(e.index,n.placa,"placa"),xe(e.index,n.propietario,"propietario")},value:e.propietario,filterOption:function(e,a){var n;return(null!==(n=null===a||void 0===a?void 0:a.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:de})}),(0,k.jsx)(N.Z.Item,{label:"Placa",rules:[{required:!0,message:"Campo obligatorio"}],children:(0,k.jsx)(F.Z,{placeholder:"Placa",value:e.placa,readOnly:!0})}),(0,k.jsx)(N.Z.Item,{name:"trapiche".concat(a),label:"Trapiche",rules:[{required:!0,message:"Ingrese el trapiche"}],children:(0,k.jsx)(f.Z,{showSearch:!0,placeholder:"Trapiche",style:{width:"100%"},name:"trapiche",onChange:function(a){var n=$.find((function(e){return e.nombre===a}));xe(e.index,n.nombre,"trapiche")},value:e.trapiche,filterOption:function(e,a){var n;return(null!==(n=null===a||void 0===a?void 0:a.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:he})}),(0,k.jsx)(N.Z.Item,{name:"hora".concat(a),label:"Hora",children:(0,k.jsx)(A.ZP,{locale:G.Z,children:(0,k.jsx)(O.Z,{name:"hora",allowClear:!1,format:"HH:mm",style:{width:"100%"},onChange:function(a){xe(e.index,a,"hora")},value:L()(e.hora)})})})]})},a)})),(0,k.jsx)(N.Z.Item,{className:"button-container",children:(0,k.jsx)(S.ZP,{htmlType:"submit",icon:(0,k.jsx)(q.lFz,{}),loading:!!_,children:h?"Editar":"Registrar"})})]})})})};var K=function(){var e=(0,m.useContext)(v.s),a=e.getData,n=e.setDataToEdit,o=e.modal,t=e.setModal,c=e.deleteData,u=(0,m.useState)(!1),p=(0,s.Z)(u,2),f=p[0],Z=p[1],j=(0,m.useState)([]),_=(0,s.Z)(j,2),y=_[0],w=_[1],D=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"ayuda/lista",Z(!0),e.next=4,a("ayuda/lista");case 4:(n=e.sent)&&(o=n.data.filter((function(e){return null!==e})),w(o),Z(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,m.useEffect)((function(){D()}),[]);var F=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c("ayuda",a);case 2:(n=e.sent)&&((0,x.q)(n.status,n.msg),D());case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),S=(0,g.Sz)((function(e){t(!0),n(e)}),F);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(l.Z,{align:"middle",children:[(0,k.jsx)(d.Z,{span:18}),(0,k.jsx)(d.Z,{span:6,children:(0,k.jsx)(E.Z,{title:"Agregar pago extraordinario",onClick:function(){return t(!0)},icon:(0,k.jsx)(q.lFz,{})})})]}),y.length>0?(0,k.jsx)(z,{columns:S,table:y}):(0,k.jsx)(k.Fragment,{children:f?(0,k.jsx)(b.Z,{}):(0,k.jsx)(h.Z,{image:h.Z.PRESENTED_IMAGE_SIMPLE,description:(0,k.jsx)("span",{children:"No hay registros para mostrar."})})}),o&&(0,k.jsx)(J,{actualizarTabla:D})]})},W=function(){var e=[{key:"1",label:"Historial",children:(0,k.jsx)(P,{})},{key:"2",label:"Pagos extraordinarios",children:(0,k.jsx)(K,{})}];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(t.Z,{text:"Historial de pagos",ruta:"/planilla"}),(0,k.jsx)("div",{className:"margenes",children:(0,k.jsx)(o.Z,{defaultActiveKey:"1",items:e})})]})}},16026:function(e,a,n){n.d(a,{Bq:function(){return h},FH:function(){return t},FN:function(){return o},JL:function(){return r},LR:function(){return l},Md:function(){return u},Oj:function(){return i},TT:function(){return v},Tc:function(){return g},XK:function(){return x},bf:function(){return _},cB:function(){return Z},d_:function(){return d},eJ:function(){return c},eT:function(){return b},g5:function(){return s},kb:function(){return f},n4:function(){return j},s:function(){return p},v2:function(){return m}});var o={nombre:"",usuario:"",contrasenia:"",estado:""},t={nombre:""},r={nombre:"",direccion:""},i=function(){return{dni:"",codigo_trabajador:"",fecha_nacimiento:"",telefono:"",nombre:"",apellido_paterno:"",apellido_materno:"",email:"",estado_civil:"",genero:"",direccion:"",asociacion_id:null,eliminar:!1}},s=function(e){return{fecha_evaluacion:"",capacitacion_sso:"",capacitacion_gema:"",evaluacion_laboral:"",presion_arterial:"",temperatura:"",saturacion:"",imc:"",pulso:"",diabetes:"",antecedentes:"",emo:"",trabajador_id:e.dni,aprobado:"",recomendado_por:"",cooperativa:"",condicion_cooperativa:"",fiscalizador:"",fiscalizador_aprobado:"no",control:"no",topico:"no",seguridad:"no",medio_ambiente:"no",recursos_humanos:"no",topico_observacion:"",control_observacion:"",seguridad_observacion:"",medio_ambiente_observacion:"",recursos_humanos_observacion:"",finalizado:!1,gerencia_id:"",area_id:"",puesto_id:"",campamento_id:""}},c=function(e,a){var n;return{fecha_inicio:"",codigo_contrato:"",tipo_contrato:"",recomendado_por:"",cooperativa:"",condicion_cooperativa:"",periodo_trabajo:"",fecha_fin:"",gerencia_id:"",area_id:"",jefe_directo:"",base:"",termino_contrato:"",campamento_id:"",nota_contrato:"",asociacion_id:e&&(null===e||void 0===e?void 0:e.id),estado:!1,evaluacion_id:a,trabajadores:null===e||void 0===e||null===(n=e.trabajador)||void 0===n?void 0:n.map((function(e){return e.dni})),tareo:""}},l=function(e){return{fecha_inicio:"",codigo_contrato:"",tipo_contrato:"",recomendado_por:"",cooperativa:"",condicion_cooperativa:"",periodo_trabajo:"",fecha_fin:"",gerencia:"",area:"",jefe_directo:"",base:"",termino_contrato:"",campamento_id:"",nota_contrato:"",puesto:"",estado:!1,empresa_id:e}},d=function(e){return{sucursal_id:e,fecha:"",movimiento:"",forma_pago:"",encargado:"",area:"",cantidad:"",medida:"",descripcion:"",monto:"",proveedor:"",comprobante:"",dni:"",sucursal_transferencia:"",precio:""}},u={nombre:""},p={nombre:"",codigo:"",descripcion:"",saldo_inicial:""},f={nombre:"",codigo:"",descripcion:""},h=function(e,a){return{codigo:parseInt(a)+1,nombre:"",codigo_interno:"",codigo_barras:"",descripcion:"",categoria_id:"",unidad_id:"",precio:"",fecha:"",observacion:"",almacen_id:"",stock:"0",costo_total:""}},m=function(e){return{codigo:"",motivo:"",fecha:"",encargado:"",codigo_compra:"",boleta:"",codigo_requerimiento:"",producto_id:"",categoria:"",cantidad:"",unidad:"",tipo:e,producto:"",almacen_id:"",codigo_pedido:"",costo:"",dni:"",costo_total:"",area_id:"",personal:"",retornable:""}},v=function(e,a){return{codigo:"",fecha_pedido:"",fecha_entrega:"",solicitante:"",area:"",celular:"",proyecto:"",producto_id:"",cantidad:"",unidad:"",estado:"",producto:"",personal:"",dni:""}},g=function(){return{id:"",nombre:"",contrato_id:"",observacion:"",fecha_pago:new Date,teletrans:"",tipo:"incentivo",trabajador_dni:""}},x=function(){return{id:"",observacion:"",fecha_pago:new Date,teletrans:"",tipo:"incentivo",trabajadores:[]}},b=function(){return{id:"",razon_social:"",contrato_id:"",observacion:"",fecha_pago:new Date,teletrans:"",volquetes:"",tipo:"casa"}},Z=function(){return{id:"",nombre:"",trabajador_dni:"",observacion:"",fecha_pago:new Date,hora:new Date,placa:"",propietario:"",trapiche:"",volquetes:"",teletrans:"",tipo:"extraordinario"}},j=function(){return{id:"",hora:new Date,placa:"",propietario:"",trapiche:"",volquetes:"",teletrans:""}},_=function(){return{id:"",observacion:"",fecha_pago:new Date,teletrans:"",volquetes:"",tipo:"asociacion",contrato_id:"",asociacion:[]}}}}]);
//# sourceMappingURL=2172.95c242d3.chunk.js.map