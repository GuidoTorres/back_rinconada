"use strict";(self.webpackChunkrinconada=self.webpackChunkrinconada||[]).push([[5818],{3066:function(e,n,a){a.d(n,{Z:function(){return d}});var o=a(72791),t=a(38411),r=a(49389),i=a(87309),c=a(78820),s=a(80184),u=r.Z.Search,d=function(e){var n=e.abrirModal,a=(0,o.useContext)(t.s).setFilterText;return(0,s.jsxs)("div",{className:"buscador-container",children:[(0,s.jsx)(u,{placeholder:"Ingresa un termino aqui...",onChange:function(e){return a(e.target.value)},style:{width:300}}),(0,s.jsx)("div",{className:"button-container",children:(0,s.jsx)(i.ZP,{onClick:function(){return n(!0)},icon:(0,s.jsx)(c.lFz,{}),children:"Registrar"})})]})}},9897:function(e,n,a){a.r(n),a.d(n,{default:function(){return T}});var o=a(74165),t=a(15861),r=a(29439),i=a(72791),c=a(3066),s=a(83188),u=a(4808),d=a(38411),l=a(1413),p=a(4942),f=a(16026),m=a(17615),_=a(87309),g=a(63998),v=a(69967),h=a(99763),b=a(78820),x=a(80184),j=function(e){var n=e.actualizarTabla,a=m.Z.useForm(),c=(0,r.Z)(a,1)[0],s="campamento",u=(0,i.useContext)(d.s),j=u.createData,Z=u.updateData,w=u.modal,T=u.setModal,D=u.dataToEdit,y=u.setDataToEdit,C=u.cargando,S=u.setCargando,E=(0,i.useState)(f.JL),F=(0,r.Z)(E,2),M=F[0],P=F[1];(0,i.useEffect)((function(){D?(P(D),c.setFieldsValue(D)):P(f.JL)}),[D]);var k=function(){var e=(0,t.Z)((0,o.Z)().mark((function e(a){var t,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==D){e.next=6;break}return S(!0),e.next=4,j(M,s);case 4:(t=e.sent)&&((0,h.q)(t.status,t.msg),n(),Y(),S(!1));case 6:if(!D){e.next=12;break}return S(!0),e.next=10,Z(M,D.id,s);case 10:(r=e.sent)&&((0,h.q)(r.status,r.msg),n(),Y(),S(!1));case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Y=function(){T(!1),y(null),P(f.JL)},N=(0,g.TL)(M,(function(e){var n=e.target,a=n.name,o=n.value;c.setFieldsValue((0,p.Z)({},a,o)),P((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,p.Z)({},a,o))}))}));return(0,x.jsx)(v.Z,{className:"modal-campamento",title:D?"Editar campamento":"Registrar campamento",open:w,width:400,closeModal:Y,children:(0,x.jsxs)(m.Z,{form:c,className:"modal-body",onFinish:k,layout:"horizontal",children:[N.map((function(e){return(0,x.jsx)(m.Z.Item,{name:e.name,rules:e.rules,style:{marginBottom:"8px"},children:(0,x.jsxs)(x.Fragment,{children:[e.label,e.type]})})})),(0,x.jsx)(m.Z.Item,{className:"button-container",children:(0,x.jsx)(_.ZP,{htmlType:"submit",icon:(0,x.jsx)(b.lFz,{}),loading:!!C,children:D?"Editar":"Registrar"})})]})})},Z=a(95579),w=a(53939),T=function(){var e="campamento",n=(0,i.useContext)(d.s),a=n.getData,l=n.deleteData,p=n.modal,f=n.setModal,m=n.setDataToEdit,_=(0,i.useState)([]),g=(0,r.Z)(_,2),v=g[0],b=g[1],T=(0,Z.Z)(v).result,D=function(){var n=(0,t.Z)((0,o.Z)().mark((function n(){var t;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a(e);case 2:t=n.sent,b(t.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,i.useEffect)((function(){D()}),[]);var y=function(){var n=(0,t.Z)((0,o.Z)().mark((function n(a){var t;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l(e,a);case 2:200===(t=n.sent).status&&((0,h.q)("success",t.msg),D());case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),C=(0,w._3)((function(e){m(e),f(!0)}),y);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.Z,{text:"Campamentos",user:"Usuario",ruta:"/administracion"}),(0,x.jsxs)("div",{className:"margenes",children:[(0,x.jsx)(c.Z,{abrirModal:f}),(0,x.jsx)(u.Z,{columns:C,table:T})]}),p&&(0,x.jsx)(j,{actualizarTabla:D})]})}},69967:function(e,n,a){a(72791);var o=a(49998),t=a(80184);n.Z=function(e){var n=e.className,a=e.title,r=e.open,i=e.width,c=e.closeModal,s=e.children;return(0,t.jsx)(o.Z,{destroyOnClose:!0,className:n,title:a,open:r,centered:!0,onCancel:c,footer:null,width:i,children:s})}},4808:function(e,n,a){var o=a(29439),t=a(72791),r=a(43513),i=a(34664),c=(a(51279),a(76487),a(80184));n.Z=function(e){var n=e.columns,a=e.table,s=e.filas,u=t.useState(!0),d=(0,o.Z)(u,2),l=(d[0],d[1]),p=t.useState([]),f=(0,o.Z)(p,2),m=(f[0],f[1]);t.useEffect((function(){var e=setTimeout((function(){m(a),l(!1)}),2e3);return function(){return clearTimeout(e)}}),[]);var _=s?[s,2*s,3*s,4*s,5*s]:[10,20,30,40,50];return(0,c.jsx)("div",{className:"table-container",children:(0,c.jsx)(r.ZP,{columns:n,data:a,pagination:!0,striped:!0,highlightOnHover:!0,responsive:!0,paginationComponentOptions:{rowsPerPageText:"Filas por p\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!1,selectAllRowsItemText:"Todos",preserveSelectedOnPageChange:!0},paginationPerPage:s||10,paginationRowsPerPageOptions:_,noDataComponent:(0,c.jsx)(i.Z,{image:i.Z.PRESENTED_IMAGE_SIMPLE,description:(0,c.jsx)("span",{children:"No hay registros para mostrar."})})})})}},16026:function(e,n,a){a.d(n,{Bq:function(){return m},FH:function(){return t},FN:function(){return o},JL:function(){return r},LR:function(){return u},Md:function(){return l},Oj:function(){return i},TT:function(){return g},Tc:function(){return v},XK:function(){return h},bf:function(){return Z},cB:function(){return x},d_:function(){return d},eJ:function(){return s},eT:function(){return b},g5:function(){return c},kb:function(){return f},n4:function(){return j},s:function(){return p},v2:function(){return _}});var o={nombre:"",usuario:"",contrasenia:"",estado:""},t={nombre:""},r={nombre:"",direccion:""},i=function(){return{dni:"",codigo_trabajador:"",fecha_nacimiento:"",telefono:"",nombre:"",apellido_paterno:"",apellido_materno:"",email:"",estado_civil:"",genero:"",direccion:"",asociacion_id:null,eliminar:!1}},c=function(e){return{fecha_evaluacion:"",capacitacion_sso:"",capacitacion_gema:"",evaluacion_laboral:"",presion_arterial:"",temperatura:"",saturacion:"",imc:"",pulso:"",diabetes:"",antecedentes:"",emo:"",trabajador_id:e.dni,aprobado:"",recomendado_por:"",cooperativa:"",condicion_cooperativa:"",fiscalizador:"",fiscalizador_aprobado:"no",control:"no",topico:"no",seguridad:"no",medio_ambiente:"no",recursos_humanos:"no",topico_observacion:"",control_observacion:"",seguridad_observacion:"",medio_ambiente_observacion:"",recursos_humanos_observacion:"",finalizado:!1,gerencia_id:"",area_id:"",puesto_id:"",campamento_id:""}},s=function(e,n){var a;return{fecha_inicio:"",codigo_contrato:"",tipo_contrato:"",recomendado_por:"",cooperativa:"",condicion_cooperativa:"",periodo_trabajo:"",fecha_fin:"",gerencia_id:"",area_id:"",jefe_directo:"",base:"",termino_contrato:"",campamento_id:"",nota_contrato:"",asociacion_id:e&&(null===e||void 0===e?void 0:e.id),estado:!1,evaluacion_id:n,trabajadores:null===e||void 0===e||null===(a=e.trabajador)||void 0===a?void 0:a.map((function(e){return e.dni})),tareo:""}},u=function(e){return{fecha_inicio:"",codigo_contrato:"",tipo_contrato:"",recomendado_por:"",cooperativa:"",condicion_cooperativa:"",periodo_trabajo:"",fecha_fin:"",gerencia:"",area:"",jefe_directo:"",base:"",termino_contrato:"",campamento_id:"",nota_contrato:"",puesto:"",estado:!1,empresa_id:e}},d=function(e){return{sucursal_id:e,fecha:"",movimiento:"",forma_pago:"",encargado:"",area:"",cantidad:"",medida:"",descripcion:"",monto:"",proveedor:"",comprobante:"",dni:"",sucursal_transferencia:"",precio:""}},l={nombre:""},p={nombre:"",codigo:"",descripcion:"",saldo_inicial:""},f={nombre:"",codigo:"",descripcion:""},m=function(e,n){return{codigo:parseInt(n)+1,nombre:"",codigo_interno:"",codigo_barras:"",descripcion:"",categoria_id:"",unidad_id:"",precio:"",fecha:"",observacion:"",almacen_id:"",stock:"0",costo_total:""}},_=function(e){return{codigo:"",motivo:"",fecha:"",encargado:"",codigo_compra:"",boleta:"",codigo_requerimiento:"",producto_id:"",categoria:"",cantidad:"",unidad:"",tipo:e,producto:"",almacen_id:"",codigo_pedido:"",costo:"",dni:"",costo_total:"",area_id:"",personal:"",retornable:""}},g=function(e,n){return{codigo:"",fecha_pedido:"",fecha_entrega:"",solicitante:"",area:"",celular:"",proyecto:"",producto_id:"",cantidad:"",unidad:"",estado:"",producto:"",personal:"",dni:""}},v=function(){return{id:"",nombre:"",contrato_id:"",observacion:"",unidad_produccion:"",fecha_pago:new Date,teletrans:"",tipo:"incentivo",trabajador_dni:""}},h=function(){return{id:"",unidad_produccion:"",observacion:"",fecha_pago:new Date,teletrans:"",tipo:"incentivo",trabajadores:[]}},b=function(){return{id:"",unidad_produccion:"",razon_social:"",contrato_id:"",observacion:"",fecha_pago:new Date,teletrans:"",volquetes:"",tipo:"casa"}},x=function(){return{id:"",nombre:"",trabajador_dni:"",observacion:"",fecha_pago:new Date,hora:new Date,placa:"",propietario:"",trapiche:"",volquetes:"",teletrans:"",tipo:"extraordinario"}},j=function(){return{id:"",hora:new Date,placa:"",propietario:"",trapiche:"",volquetes:"",teletrans:""}},Z=function(){return{id:"",unidad_produccion:"",observacion:"",fecha_pago:new Date,teletrans:"",volquetes:"",tipo:"asociacion",contrato_id:"",asociacion:[]}}},95579:function(e,n,a){var o=a(72791),t=a(38411);n.Z=function(e){var n=(0,o.useContext)(t.s),a=n.filterText,r=(n.filterTextModal,n.result),i=n.setResult;return(0,o.useEffect)((function(){if(""!==a){var n=e.filter((function(e){return Object.values(e).join("").toLowerCase().includes(a.toLowerCase())}));i(n)}else i(e)}),[a,e]),{result:r}}},35790:function(e,n,a){a.d(n,{Z:function(){return r}});var o={locale:"es_ES",today:"Hoy",now:"Ahora",backToToday:"Volver a hoy",ok:"Aceptar",clear:"Limpiar",month:"Mes",year:"A\xf1o",timeSelect:"Seleccionar hora",dateSelect:"Seleccionar fecha",monthSelect:"Elegir un mes",yearSelect:"Elegir un a\xf1o",decadeSelect:"Elegir una d\xe9cada",yearFormat:"YYYY",dateFormat:"D/M/YYYY",dayFormat:"D",dateTimeFormat:"D/M/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Mes anterior (PageUp)",nextMonth:"Mes siguiente (PageDown)",previousYear:"A\xf1o anterior (Control + left)",nextYear:"A\xf1o siguiente (Control + right)",previousDecade:"D\xe9cada anterior",nextDecade:"D\xe9cada siguiente",previousCentury:"Siglo anterior",nextCentury:"Siglo siguiente"},t={placeholder:"Seleccionar hora"},r={lang:Object.assign({placeholder:"Seleccionar fecha",rangePlaceholder:["Fecha inicial","Fecha final"]},o),timePickerLocale:Object.assign({},t)}}}]);
//# sourceMappingURL=5818.9bde83d3.chunk.js.map