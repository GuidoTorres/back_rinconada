{"version":3,"file":"static/js/474.bd724d1d.chunk.js","mappings":"gUA+GA,EApGwB,SAAH,GAA6B,IAAvBA,EAAe,EAAfA,gBACzB,EAAeC,EAAAA,EAAAA,UAARC,GAAsB,YAAlB,GAEX,GACEC,EAAAA,EAAAA,YAAWC,EAAAA,GADLC,EAAU,EAAVA,WAAYC,EAAU,EAAVA,WAAYC,EAAQ,EAARA,SAAUC,EAAU,EAAVA,WAAYC,EAAa,EAAbA,cAAeC,EAAK,EAALA,MAAOC,EAAQ,EAARA,SAAUC,EAAW,EAAXA,YAGtF,GAAsBC,EAAAA,EAAAA,UAASC,EAAAA,IAAU,eAAlCC,EAAG,KAAEC,EAAM,MAElBC,EAAAA,EAAAA,YAAU,WACJT,GACFQ,EAAOR,GACPN,EAAKgB,eAAeV,IAEpBQ,EAAOF,EAAAA,GAEX,GAAG,CAACN,IAGJ,IAUMW,EAAY,yCAAG,WAAOC,GAAC,gFACP,GAAdC,EAAQ,MACK,OAAfb,EAAmB,gBACJ,OAAjBI,GAAY,GAAK,SACMP,EAAWU,EAAK,OAAO,KAAD,GAAvCO,EAAQ,WAEZC,EAAAA,EAAAA,GAAaD,EAASE,OAAQF,EAASG,KACvCzB,IACA0B,IACAd,GAAY,IACb,WAGCJ,EAAW,CAAD,gBACK,OAAjBI,GAAY,GAAK,UAEMN,EAAWS,EAAKP,EAAWmB,GAAIN,GAAO,KAAD,IAAtDC,EAAQ,WAEZC,EAAAA,EAAAA,GAAaD,EAASE,OAAQF,EAASG,KACvCzB,IACA0B,IACAd,GAAY,IACb,4CAEJ,gBAxBiB,sCA0BZc,EAAa,WACjBnB,GAAS,GACTE,EAAc,MACdO,EAAOF,EAAAA,IACPF,GAAY,EACd,EAEMgB,GAAWC,EAAAA,EAAAA,IAAgBd,GA3Cd,SAACK,GAClB,MAAwBA,EAAEU,OAAlBC,EAAI,EAAJA,KAAMC,EAAK,EAALA,MACd9B,EAAKgB,gBAAe,UACjBa,EAAOC,IAEVhB,GAAO,SAACiB,GACN,OAAO,kBAAKA,GAAM,cAAGF,EAAOC,GAC9B,GACF,IAqCA,OACE,SAACE,EAAA,EAAS,CACRC,UAAW,YACXC,MAAO5B,EAAa,aAAe,gBACnC6B,KAAM3B,EACN4B,MAAO,IACPZ,WAAYA,EAAW,UAEvB,UAAC,IAAI,CACHxB,KAAMA,EACNiC,UAAU,aACVI,SAAUpB,EACVqB,OAAO,aAAY,UAElBZ,EAASa,KAAI,SAACC,GAAI,OACjB,SAAC,SAAS,CACRX,KAAMW,EAAKX,KACXY,MAAOD,EAAKC,MACZC,MAAO,CAAEC,aAAc,OAAQ,UAE/B,gCACGH,EAAKI,MACLJ,EAAKK,SAEE,KAGd,SAAC,SAAS,CAACZ,UAAU,mBAAkB,UACrC,SAAC,KAAM,CAACa,SAAS,SAASC,MAAM,SAAC,MAAa,IAAKC,UAASvC,EAAsB,SAC/EH,EAAa,SAAW,oBAMrC,E,gEC3CA,EAvDkB,WAChB,IACA,GAQIL,EAAAA,EAAAA,YAAWC,EAAAA,GAPb+C,EAAO,EAAPA,QACAC,EAAU,EAAVA,WACA1C,EAAK,EAALA,MACAH,EAAQ,EAARA,SACAE,EAAa,EAAbA,cACA4C,EAAS,EAATA,UACAC,EAAM,EAANA,OAEF,GAA0BzC,EAAAA,EAAAA,UAAS,IAAG,eAA/B0C,EAAK,KAAEC,EAAQ,KACdC,GAAWC,EAAAA,EAAAA,GAAUH,GAArBE,OAEFE,EAAQ,yCAAG,yGACQR,EAdX,OAc0B,KAAD,EAA/B7B,EAAQ,OACdkC,EAASlC,EAASsC,MAAM,2CACzB,kBAHa,mCAcRC,EAAY,yCAAG,WAAOlC,GAAE,4FACLyB,EA5BX,MA4B6BzB,GAAI,KAAD,GAAtCL,EAAQ,WAEZC,EAAAA,EAAAA,GAAaD,EAASE,OAAQF,EAASG,KACvCkC,KACD,2CACF,gBANiB,uCAQlB1C,EAAAA,EAAAA,YAAU,WACR0C,GACF,GAAG,IAEH,IAAMG,GAAUC,EAAAA,EAAAA,KArBG,SAAC3C,GAClBX,EAAcW,GACdb,GAAS,EACX,GAkBsCsD,GAjBf,SAACzC,GACtBiC,GAAU,GACV5C,EAAcW,EAChB,IAgBA,OACE,iCACE,SAAC4C,EAAA,EAAM,CAACC,KAAM,QAASC,KAAM,UAAWC,KAAM,qBAC9C,iBAAKhC,UAAU,WAAU,WACvB,SAACiC,EAAA,EAAQ,CAACC,WAAY9D,KACtB,SAAC+D,EAAA,EAAK,CAACR,QAASA,EAASS,MAAOd,OAEjC/C,IAAS,SAAC,EAAe,CAACV,gBAAiB2D,KAC5C,SAACa,EAAA,EAAa,CAACnC,KAAMiB,MAG3B,C","sources":["components/administracion/roles/ModalAsignarRol.jsx","components/administracion/roles/RolLayout.jsx"],"sourcesContent":["import { Button, Form } from \"antd\";\nimport React, { useContext, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport { modalAsignarRol } from \"../../../data/FormValues\";\nimport { rolValues } from \"../../../data/initalValues\";\nimport { notificacion } from \"../../../helpers/mensajes\";\nimport MainModal from \"../../modal/MainModal\";\nimport { AiOutlineForm } from \"react-icons/ai\";\nimport \"../styles/modalAsignarUsuario.css\";\n\nconst ModalAsignarRol = ({ actualizarTabla }) => {\n  const [form] = Form.useForm();\n\n  const { createData, updateData, setModal, dataToEdit, setDataToEdit, modal, cargando, setCargando } =\n    useContext(CrudContext);\n\n  const [rol, setRol] = useState(rolValues);\n\n  useEffect(() => {\n    if (dataToEdit) {\n      setRol(dataToEdit);\n      form.setFieldsValue(dataToEdit);\n    } else {\n      setRol(rolValues);\n    }\n  }, [dataToEdit]);\n\n\n  const handleData = (e) => {\n    const { name, value } = e.target;\n    form.setFieldsValue({\n      [name]: value,\n    });\n    setRol((values) => {\n      return { ...values, [name]: value };\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    const route = \"rol\";\n    if (dataToEdit === null) {\n      setCargando(true)\n      const response = await createData(rol, \"rol\");\n      if (response) {\n        notificacion(response.status, response.msg);\n        actualizarTabla();\n        closeModal();\n        setCargando(false)\n      }\n    }\n\n    if (dataToEdit) {\n      setCargando(true)\n\n      const response = await updateData(rol, dataToEdit.id, route);\n      if (response) {\n        notificacion(response.status, response.msg);\n        actualizarTabla();\n        closeModal();\n        setCargando(false)\n      }\n    }\n  };\n\n  const closeModal = () => {\n    setModal(false);\n    setDataToEdit(null);\n    setRol(rolValues);\n    setCargando(false)\n  };\n\n  const formData = modalAsignarRol(rol, handleData);\n\n  return (\n    <MainModal\n      className={\"modal-rol\"}\n      title={dataToEdit ? \"Editar rol\" : \"Registrar rol\"}\n      open={modal}\n      width={400}\n      closeModal={closeModal}\n    >\n      <Form\n        form={form}\n        className=\"modal-body\"\n        onFinish={handleSubmit}\n        layout=\"horizontal\"\n      >\n        {formData.map((item) => (\n          <Form.Item\n            name={item.name}\n            rules={item.rules}\n            style={{ marginBottom: \"8px\" }}\n          >\n            <>\n              {item.label}\n              {item.type}\n            </>\n          </Form.Item>\n        ))}\n\n        <Form.Item className=\"button-container\">\n          <Button htmlType=\"submit\" icon={<AiOutlineForm />} loading={cargando? true: false}>\n            {dataToEdit ? \"Editar\" : \"Registrar\"}\n          </Button>\n        </Form.Item>\n      </Form>\n    </MainModal>\n  );\n};\n\nexport default ModalAsignarRol;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport ModalAsignarRol from \"./ModalAsignarRol\";\nimport Buscador from \"../Buscador\";\nimport Header from \"../../header/Header\";\nimport Tabla from \"../../tabla/Tabla\";\nimport useSearch from \"../../../hooks/useSearch\";\nimport { rolLayout } from \"../../../data/dataTable\";\nimport ModalPermisos from \"../usuarios/ModalPermisos\";\nimport { notificacion } from \"../../../helpers/mensajes\";\n\nconst RolLayout = () => {\n  const route = \"rol\";\n  const {\n    getData,\n    deleteData,\n    modal,\n    setModal,\n    setDataToEdit,\n    setModal1,\n    modal1,\n  } = useContext(CrudContext);\n  const [roles, setRoles] = useState([]);\n  const { result } = useSearch(roles);\n\n  const getRoles = async () => {\n    const response = await getData(route);\n    setRoles(response.data);\n  };\n\n  const handleEdit = (e) => {\n    setDataToEdit(e);\n    setModal(true);\n  };\n  const handlePermisos = (e) => {\n    setModal1(true);\n    setDataToEdit(e);\n  };\n\n  const handleDelete = async (id) => {\n    const response = await deleteData(route, id);\n    if (response) {\n      notificacion(response.status, response.msg);\n      getRoles();\n    }\n  };\n\n  useEffect(() => {\n    getRoles();\n  }, []);\n\n  const columns = rolLayout(handleEdit, handleDelete, handlePermisos);\n\n  return (\n    <>\n      <Header text={\"Roles\"} user={\"Usuario\"} ruta={\"/administracion\"} />\n      <div className=\"margenes\">\n        <Buscador abrirModal={setModal} />\n        <Tabla columns={columns} table={result} />\n      </div>\n      {modal && <ModalAsignarRol actualizarTabla={getRoles} />}\n      <ModalPermisos open={modal1} />\n    </>\n  );\n};\n\nexport default RolLayout;\n"],"names":["actualizarTabla","Form","form","useContext","CrudContext","createData","updateData","setModal","dataToEdit","setDataToEdit","modal","cargando","setCargando","useState","rolValues","rol","setRol","useEffect","setFieldsValue","handleSubmit","e","route","response","notificacion","status","msg","closeModal","id","formData","modalAsignarRol","target","name","value","values","MainModal","className","title","open","width","onFinish","layout","map","item","rules","style","marginBottom","label","type","htmlType","icon","loading","getData","deleteData","setModal1","modal1","roles","setRoles","result","useSearch","getRoles","data","handleDelete","columns","rolLayout","Header","text","user","ruta","Buscador","abrirModal","Tabla","table","ModalPermisos"],"sourceRoot":""}