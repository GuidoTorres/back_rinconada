"use strict";(self.webpackChunkrinconada=self.webpackChunkrinconada||[]).push([[5482],{69967:function(e,a,o){o(72791);var n=o(49998),t=o(80184);a.Z=function(e){var a=e.className,o=e.title,r=e.open,i=e.width,c=e.closeModal,s=e.children;return(0,t.jsx)(n.Z,{destroyOnClose:!0,className:a,title:o,open:r,centered:!0,onCancel:c,footer:null,width:i,children:s})}},2618:function(e,a,o){o.r(a),o.d(a,{default:function(){return F}});var n=o(74165),t=o(15861),r=o(29439),i=o(66106),c=o(30914),s=o(34664),u=o(72791),d=o(78820),l=o(38411),p=o(64941),f=o(76487),_=o(83188),m=o(99763),v=o(4942),g=o(1413),h=o(17615),b=o(87309),Z=o(97892),x=o.n(Z),j=o(63998),D=o(16026),Y=o(69967),w=o(80184);var S=function(e){var a=e.actualizarTabla,o=h.Z.useForm(),i=(0,r.Z)(o,1)[0],c=(0,u.useContext)(l.s),s=c.createData,p=c.getData,f=c.modal,_=c.setModal,Z=c.cargando,S=c.setCargando,T=c.setDataToEdit,y=c.dataToEdit,F=c.updateData,M=(0,u.useState)(D.eT),E=(0,r.Z)(M,2),P=E[0],C=E[1],k=(0,u.useState)([]),q=(0,r.Z)(k,2),z=q[0],N=q[1],A=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("empresa");case 2:a=e.sent,N(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){A()}),[]),(0,u.useEffect)((function(){var e,a,o,n,t,r;y?(C((0,g.Z)((0,g.Z)({},y),{},{unidad_produccion:y.unidad_produccion,razon_social:y.razon_social,contrato_id:y.contrato_id,volquetes:parseFloat(null===(e=y.pago)||void 0===e?void 0:e.volquetes),observacion:null===(a=y.pago)||void 0===a?void 0:a.observacion,fecha_pago:x()(null===(o=y.pago)||void 0===o?void 0:o.fecha_pago).format("YYYY-MM-DD")})),i.setFieldsValue((0,g.Z)((0,g.Z)({},y),{},{unidad_produccion:y.unidad_produccion,razon_social:y.razon_social,contrato_id:y.contrato_id,volquetes:parseFloat(null===(n=y.pago)||void 0===n?void 0:n.volquetes),observacion:null===(t=y.pago)||void 0===t?void 0:t.observacion,fecha_pago:x()(null===(r=y.pago)||void 0===r?void 0:r.fecha_pago).format("YYYY-MM-DD")}))):C(D.eT)}),[y]);var I=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(){var o,t,r,i,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o="casa/programacion",S(!0),t={unidad_produccion:P.unidad_produccion||"",contrato_id:P.contrato_id||"",observacion:P.observacion||"",fecha_pago:x()(P.fecha_pago).format("YYYY-MM-DD")||"",volquetes:parseFloat(P.volquetes)||0,tipo:"casa"},!y){e.next=10;break}return e.next=6,F(t,null===(r=y.pago)||void 0===r?void 0:r.id,"casa/programacion");case 6:(i=e.sent)&&((0,m.q)(i.status,i.msg),a(),O()),e.next=14;break;case 10:return e.next=12,s(t,o);case 12:(c=e.sent)&&((0,m.q)(c.status,c.msg),a(),O());case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){C(D.eT),_(!1),T(null),S(!1)},L=(0,j.cq)(P,(function(e,a){if(!a&&e.target){var o=e.target,n=o.name,t=o.value;i.setFieldsValue((0,v.Z)({},n,t)),C((function(e){return(0,g.Z)((0,g.Z)({},e),{},(0,v.Z)({},n,t))}))}else i.setFieldsValue((0,v.Z)({},a,e)),C((function(o){return(0,g.Z)((0,g.Z)({},o),{},(0,v.Z)({},a,e))}))}),z,y);return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(Y.Z,{className:"modal-usuario",title:y?"Editar Pago Casa":"Nueva Pago Casa",open:f,width:400,closeModal:O,children:(0,w.jsxs)(h.Z,{form:i,className:"modal-body",onFinish:I,layout:"horizontal",children:[L.map((function(e,a){return(0,w.jsx)(h.Z.Item,{name:e.name,rules:e.rules,style:{marginBottom:"8px"},children:(0,w.jsxs)(w.Fragment,{children:[e.label,e.type]})},a)})),(0,w.jsx)(h.Z.Item,{className:"button-container",children:(0,w.jsx)(b.ZP,{htmlType:"submit",icon:(0,w.jsx)(d.JMf,{}),loading:Z,children:y?"Actualizar":"Guardar"})})]})})})},T=o(53939),y=o(4808);var F=function(){var e=(0,u.useContext)(l.s),a=e.getData,o=e.setDataToEdit,v=e.modal,g=e.setModal,h=e.deleteData,b=(0,u.useState)(!1),Z=(0,r.Z)(b,2),x=Z[0],j=Z[1],D=(0,u.useState)([]),Y=(0,r.Z)(D,2),F=Y[0],M=Y[1],E=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(){var o,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"casa",e.next=3,a("casa");case 3:(o=e.sent)&&(t=o.data.filter((function(e){return null!==e})),M(t),j(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){E()}),[]);var P=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(a){var o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("casa",a);case 2:(o=e.sent)&&((0,m.q)(o.status,o.msg),E());case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),C=(0,T.GF)((function(e){g(!0),o(e)}),P);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(_.Z,{text:"Pagos Casa",ruta:"/planilla"}),(0,w.jsxs)("div",{className:"margenes",children:[(0,w.jsxs)(i.Z,{align:"middle",children:[(0,w.jsx)(c.Z,{span:18}),(0,w.jsx)(c.Z,{span:6,align:"end",children:(0,w.jsx)(p.Z,{title:"Crear pago casa",onClick:function(){return g(!0)},icon:(0,w.jsx)(d.lFz,{})})})]}),(null===F||void 0===F?void 0:F.length)>0?(0,w.jsx)(y.Z,{columns:C,table:F}):(0,w.jsx)(w.Fragment,{children:x?(0,w.jsx)(f.Z,{}):(0,w.jsx)(s.Z,{image:s.Z.PRESENTED_IMAGE_SIMPLE,description:(0,w.jsx)("span",{children:"No hay registros para mostrar."})})})]}),v&&(0,w.jsx)(S,{actualizarTabla:E})]})}},4808:function(e,a,o){var n=o(29439),t=o(72791),r=o(43513),i=o(34664),c=(o(51279),o(76487),o(80184));a.Z=function(e){var a=e.columns,o=e.table,s=e.filas,u=t.useState(!0),d=(0,n.Z)(u,2),l=(d[0],d[1]),p=t.useState([]),f=(0,n.Z)(p,2),_=(f[0],f[1]);t.useEffect((function(){var e=setTimeout((function(){_(o),l(!1)}),2e3);return function(){return clearTimeout(e)}}),[]);var m=s?[s,2*s,3*s,4*s,5*s]:[10,20,30,40,50];return(0,c.jsx)("div",{className:"table-container",children:(0,c.jsx)(r.ZP,{columns:a,data:o,pagination:!0,striped:!0,highlightOnHover:!0,responsive:!0,paginationComponentOptions:{rowsPerPageText:"Filas por p\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!1,selectAllRowsItemText:"Todos",preserveSelectedOnPageChange:!0},paginationPerPage:s||10,paginationRowsPerPageOptions:m,noDataComponent:(0,c.jsx)(i.Z,{image:i.Z.PRESENTED_IMAGE_SIMPLE,description:(0,c.jsx)("span",{children:"No hay registros para mostrar."})})})})}},16026:function(e,a,o){o.d(a,{Bq:function(){return _},FH:function(){return t},FN:function(){return n},JL:function(){return r},LR:function(){return u},Md:function(){return l},Oj:function(){return i},TT:function(){return v},Tc:function(){return g},XK:function(){return h},bf:function(){return j},cB:function(){return Z},d_:function(){return d},eJ:function(){return s},eT:function(){return b},g5:function(){return c},kb:function(){return f},n4:function(){return x},s:function(){return p},v2:function(){return m}});var n={nombre:"",usuario:"",contrasenia:"",estado:""},t={nombre:""},r={nombre:"",direccion:""},i=function(){return{dni:"",codigo_trabajador:"",fecha_nacimiento:"",telefono:"",nombre:"",apellido_paterno:"",apellido_materno:"",email:"",estado_civil:"",genero:"",direccion:"",asociacion_id:null,eliminar:!1}},c=function(e){return{fecha_evaluacion:"",capacitacion_sso:"",capacitacion_gema:"",evaluacion_laboral:"",presion_arterial:"",temperatura:"",saturacion:"",imc:"",pulso:"",diabetes:"",antecedentes:"",emo:"",trabajador_id:e.dni,aprobado:"",recomendado_por:"",cooperativa:"",condicion_cooperativa:"",fiscalizador:"",fiscalizador_aprobado:"no",control:"no",topico:"no",seguridad:"no",medio_ambiente:"no",recursos_humanos:"no",topico_observacion:"",control_observacion:"",seguridad_observacion:"",medio_ambiente_observacion:"",recursos_humanos_observacion:"",finalizado:!1,gerencia_id:"",area_id:"",puesto_id:"",campamento_id:""}},s=function(e,a){var o;return{fecha_inicio:"",codigo_contrato:"",tipo_contrato:"",recomendado_por:"",cooperativa:"",condicion_cooperativa:"",periodo_trabajo:"",fecha_fin:"",gerencia_id:"",area_id:"",jefe_directo:"",base:"",termino_contrato:"",campamento_id:"",nota_contrato:"",asociacion_id:e&&(null===e||void 0===e?void 0:e.id),estado:!1,evaluacion_id:a,trabajadores:null===e||void 0===e||null===(o=e.trabajador)||void 0===o?void 0:o.map((function(e){return e.dni})),tareo:""}},u=function(e){return{fecha_inicio:"",codigo_contrato:"",tipo_contrato:"",recomendado_por:"",cooperativa:"",condicion_cooperativa:"",periodo_trabajo:"",fecha_fin:"",gerencia:"",area:"",jefe_directo:"",base:"",termino_contrato:"",campamento_id:"",nota_contrato:"",puesto:"",estado:!1,empresa_id:e}},d=function(e){return{sucursal_id:e,fecha:"",movimiento:"",forma_pago:"",encargado:"",area:"",cantidad:"",medida:"",descripcion:"",monto:"",proveedor:"",comprobante:"",dni:"",sucursal_transferencia:"",precio:""}},l={nombre:""},p={nombre:"",codigo:"",descripcion:"",saldo_inicial:""},f={nombre:"",codigo:"",descripcion:""},_=function(e,a){return{codigo:parseInt(a)+1,nombre:"",codigo_interno:"",codigo_barras:"",descripcion:"",categoria_id:"",unidad_id:"",precio:"",fecha:"",observacion:"",almacen_id:"",stock:"0",costo_total:""}},m=function(e){return{codigo:"",motivo:"",fecha:"",encargado:"",codigo_compra:"",boleta:"",codigo_requerimiento:"",producto_id:"",categoria:"",cantidad:"",unidad:"",tipo:e,producto:"",almacen_id:"",codigo_pedido:"",costo:"",dni:"",costo_total:"",area_id:"",personal:"",retornable:""}},v=function(e,a){return{codigo:"",fecha_pedido:"",fecha_entrega:"",solicitante:"",area:"",celular:"",proyecto:"",producto_id:"",cantidad:"",unidad:"",estado:"",producto:"",personal:"",dni:""}},g=function(){return{id:"",nombre:"",contrato_id:"",observacion:"",unidad_produccion:"",fecha_pago:new Date,teletrans:"",tipo:"incentivo",trabajador_dni:""}},h=function(){return{id:"",unidad_produccion:"",observacion:"",fecha_pago:new Date,teletrans:"",tipo:"incentivo",trabajadores:[]}},b=function(){return{id:"",unidad_produccion:"",razon_social:"",contrato_id:"",observacion:"",fecha_pago:new Date,teletrans:"",volquetes:"",tipo:"casa"}},Z=function(){return{id:"",nombre:"",trabajador_dni:"",observacion:"",fecha_pago:new Date,hora:new Date,placa:"",propietario:"",trapiche:"",volquetes:"",teletrans:"",tipo:"extraordinario"}},x=function(){return{id:"",hora:new Date,placa:"",propietario:"",trapiche:"",volquetes:"",teletrans:""}},j=function(){return{id:"",unidad_produccion:"",observacion:"",fecha_pago:new Date,teletrans:"",volquetes:"",tipo:"asociacion",contrato_id:"",asociacion:[]}}},30914:function(e,a,o){var n=o(89752);a.Z=n.Z},35790:function(e,a,o){o.d(a,{Z:function(){return r}});var n={locale:"es_ES",today:"Hoy",now:"Ahora",backToToday:"Volver a hoy",ok:"Aceptar",clear:"Limpiar",month:"Mes",year:"A\xf1o",timeSelect:"Seleccionar hora",dateSelect:"Seleccionar fecha",monthSelect:"Elegir un mes",yearSelect:"Elegir un a\xf1o",decadeSelect:"Elegir una d\xe9cada",yearFormat:"YYYY",dateFormat:"D/M/YYYY",dayFormat:"D",dateTimeFormat:"D/M/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Mes anterior (PageUp)",nextMonth:"Mes siguiente (PageDown)",previousYear:"A\xf1o anterior (Control + left)",nextYear:"A\xf1o siguiente (Control + right)",previousDecade:"D\xe9cada anterior",nextDecade:"D\xe9cada siguiente",previousCentury:"Siglo anterior",nextCentury:"Siglo siguiente"},t={placeholder:"Seleccionar hora"},r={lang:Object.assign({placeholder:"Seleccionar fecha",rangePlaceholder:["Fecha inicial","Fecha final"]},n),timePickerLocale:Object.assign({},t)}},66106:function(e,a,o){var n=o(37545);a.Z=n.Z}}]);
//# sourceMappingURL=5482.8e158791.chunk.js.map