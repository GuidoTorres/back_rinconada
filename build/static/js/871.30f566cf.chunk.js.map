{"version":3,"file":"static/js/871.30f566cf.chunk.js","mappings":"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","sources":["components/planillas/BuscadorProgramacion.jsx","components/planillas/pagos/ModalJuntarTeletrans.jsx","components/planillas/pagos/PagosLayout.jsx"],"sourcesContent":["import React from \"react\";\nimport { Button } from \"antd\";\nimport { Input } from \"antd\";\n\nconst { Search } = Input;\n\nconst BuscadorProgramacion = ({ setFilterText, setModal }) => {\n  const handleModal = () => {\n    setModal(true);\n  };\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n      }}\n    >\n      <div\n        style={{\n          width: \"300px\",\n        }}\n      >\n        <Search\n          placeholder=\"Ingresa un termino aqui...\"\n          onChange={(e) => setFilterText(e.target.value)}\n        />\n      </div>\n      <div>\n        <Button onClick={handleModal} style={{ width: \"150px\" }}>\n          Pago Multiple\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default BuscadorProgramacion;\n","import {\n  Alert,\n  Button,\n  Card,\n  Col,\n  ConfigProvider,\n  DatePicker,\n  Divider,\n  Form,\n  Input,\n  List,\n  Row,\n  Select,\n  Space,\n  Typography,\n} from \"antd\";\nimport dayjs from \"dayjs\";\nimport { useContext, useEffect, useState } from \"react\";\nimport locale from \"antd/es/date-picker/locale/es_ES\";\nimport { incentivosVariosValues } from \"../../../data/initalValues\";\nimport MainModal from \"../../modal/MainModal\";\nimport { AiOutlineForm } from \"react-icons/ai\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport { notificacion } from \"../../../helpers/mensajes\";\n\nfunction ModalJuntarTeletrans({\n  open,\n  setModal,\n  trabajadores,\n  actualizarTabla,\n  closeModalSubmit = () => {},\n  dataToEdit,\n  setDataToEdit = () => {},\n}) {\n  const [form] = Form.useForm();\n  const { Text } = Typography;\n\n  const { updateData, createData, cargando, setCargando } =\n    useContext(CrudContext);\n  const dataTrabajadores = trabajadores?.map((item) => {\n    return {\n      value: item.id,\n      label: item.nombre,\n    };\n  });\n\n  const closeModal = () => {\n    setModal(false);\n  };\n\n  const [seleccionados, setSeleccionados] = useState([]);\n\n  const handleChange = (e) => {\n    setSeleccionados(e);\n  };\n\n  const [trabajadoresSeleccionados, setTrabajadoresSeleccionados] = useState(\n    []\n  );\n  useEffect(() => {\n    if (seleccionados.length > 0) {\n      const data = trabajadores.filter((item) =>\n        seleccionados.includes(item.id)\n      );\n      setTrabajadoresSeleccionados(data);\n    }\n  }, [seleccionados]);\n\n  const [incentivo, setIncentivo] = useState(incentivosVariosValues);\n\n  const handleData = (e, text) => {\n    if (!text && e.target) {\n      const { name, value } = e.target;\n      form.setFieldsValue({\n        [name]: value,\n      });\n      setIncentivo((values) => {\n        return { ...values, [name]: value };\n      });\n    } else {\n      form.setFieldsValue({\n        [text]: e,\n      });\n      setIncentivo((values) => {\n        return { ...values, [text]: e };\n      });\n    }\n  };\n\n  const [trabajadoresSave, setTrabajadoresSave] = useState([]);\n  useEffect(() => {\n    if (trabajadoresSeleccionados.length > 0) {\n      const data = trabajadoresSeleccionados.map((item) => {\n        return {\n          id: item.id,\n          nombre: item.nombre,\n          contrato_id: item.contrato_id,\n          teletrans: item.teletrans || \"\",\n          trabajador_dni: item.dni,\n          quincena: item.quincena,\n          saldoFinal: item.saldoFinal,\n        };\n      });\n      if (dataToEdit) {\n        setTrabajadoresSave(\n          incentivo.trabajadores.map((item) => {\n            return {\n              ...item,\n              teletrans: parseFloat(item.teletrans),\n            };\n          })\n        );\n      } else {\n        setTrabajadoresSave(data);\n      }\n    }\n  }, [trabajadoresSeleccionados]);\n\n  const handleDataTrabajador = (e, id) => {\n    const index = trabajadoresSave.findIndex((item) => item.id === id);\n    trabajadoresSave[index] = {\n      ...trabajadoresSave[index],\n      teletrans: parseFloat(e.target.value),\n    };\n    setTrabajadoresSave([...trabajadoresSave]);\n  };\n\n  const totalTeletrans = () => {\n    let total = 0;\n    trabajadoresSave.forEach((item) => {\n      total = parseFloat(total) + parseFloat(item.teletrans);\n    });\n\n    return total;\n  };\n\n  const handleSubmit = async () => {\n    const route = \"pago/programacion/multiple\";\n\n    const data = {\n      observacion: incentivo.observacion,\n      fecha_pago: dayjs(incentivo.fecha_pago).format(\"YYYY-MM-DD\") || \"\",\n      teletrans: totalTeletrans(),\n      tipo: \"pago\",\n      trabajadores: trabajadoresSave.map((item) => {\n        return {\n          contrato_id: item.contrato_id,\n          volquetes: item.voqluetes,\n          teletrans: item.teletrans,\n          quincena: item.quincena,\n          trabajador_dni: item.trabajador_dni,\n          saldoFinal: item.saldoFinal,\n        };\n      }),\n    };\n    let valid = true;\n    let total = 0;\n    data.trabajadores.forEach((e) => {\n      const teletrans = Number(e.teletrans) || 0;\n      const saldoFinal = Number(e.saldoFinal) || 0;\n\n      if (teletrans > saldoFinal) {\n        valid = false;\n      }\n      total += teletrans;\n    });\n  \n    if (!valid) {\n      notificacion(500, \"El pago a uno de los trabajadores es mayor a lo adeudado\");\n      return; // Sale de la función\n    }\n  \n    if (total !== 4) {\n      notificacion(500, \"La cantidad de teletrans debe ser equivalente a un volquete.\");\n      return; // Sale de la función\n    }\n    if (dataToEdit) {\n      setCargando(true);\n\n      const response = await updateData(\n        data,\n        incentivo.pago_id,\n        \"pago/multiple\"\n      );\n      if (response) {\n        notificacion(response.status, response.msg);\n        actualizarTabla();\n        handleClose();\n      }\n    } else {\n      const response = await createData(data, route);\n      if (response) {\n        notificacion(response.status, response.msg);\n        actualizarTabla();\n        handleClose();\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (dataToEdit) {\n      setIncentivo({\n        ...dataToEdit,\n        fecha_pago: dayjs(dataToEdit.fecha_pago).format(\"YYYY-MM-DD\"),\n      });\n      setSeleccionados(dataToEdit.trabajadores.map((item) => item.id));\n      setTrabajadoresSave(dataToEdit.trabajadores);\n    }\n  }, [dataToEdit]);\n\n  const handleClose = () => {\n    setDataToEdit(null);\n    closeModal();\n    closeModalSubmit();\n  };\n\n  return (\n    <MainModal\n      open={open}\n      closeModal={dataToEdit ? handleClose : closeModal}\n      title=\"Juntar Teletrans\"\n      width={800}\n    >\n      <Form\n        form={form}\n        className=\"modal-body\"\n        onFinish={handleSubmit}\n        layout=\"vertical\"\n      >\n        <Divider orientation=\"left\">Datos</Divider>\n        <Space direction=\"vertical\" style={{ width: \"100%\" }}>\n          <Form.Item label=\"Seleccione trabajadores\">\n            <Select\n              showSearch\n              mode=\"multiple\"\n              placeholder=\"Seleccione trabajadores\"\n              style={{ width: \"100%\" }}\n              allowClear\n              value={seleccionados}\n              onChange={handleChange}\n              options={dataTrabajadores}\n              disabled={dataToEdit ? true : false}\n              filterOption={(input, option) =>\n                option.label.toLowerCase().indexOf(input.toLowerCase()) >= 0\n              }\n            />\n          </Form.Item>\n          <Form.Item label=\"Observación\">\n            <Input\n              name=\"observacion\"\n              value={incentivo.observacion}\n              placeholder=\"Observación\"\n              onChange={(e) => handleData(e)}\n            />\n          </Form.Item>\n          <Form.Item label=\"Fecha\">\n            <ConfigProvider locale={locale}>\n              <DatePicker\n                allowClear={false}\n                value={dayjs(incentivo.fecha_pago)}\n                name=\"fecha_pago\"\n                placeholder=\"Fecha de Pago\"\n                picker=\"day\"\n                onChange={(e) => handleData(e, \"fecha_pago\")}\n                style={{\n                  width: \"100%\",\n                }}\n                format={\"YYYY-MM-DD\"}\n              />\n            </ConfigProvider>\n          </Form.Item>\n        </Space>\n        <Divider orientation=\"left\">Trabajadores</Divider>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: 4,\n          }}\n        >\n          <Card style={{ width: \"100%\" }}>\n            <List\n              itemLayout=\"horizontal\"\n              dataSource={trabajadoresSave}\n              renderItem={(item) => (\n                <List.Item>\n                  <Row key={item.id} style={{ width: \"100%\" }}>\n                    <Col span={18}>\n                      <Space direction=\"vertical\">{item.nombre}</Space>\n                    </Col>\n                    <Col span={6}>\n                      <Space direction=\"vertical\">\n                        <Input\n                          value={item.teletrans}\n                          placeholder=\"Teletrans\"\n                          type=\"number\"\n                          min={0}\n                          onChange={(e) => handleDataTrabajador(e, item.id)}\n                          required\n                        />\n                      </Space>\n                    </Col>\n                  </Row>\n                </List.Item>\n              )}\n            />\n            <Space\n              direction=\"horizontal\"\n              style={{\n                width: \"100%\",\n                justifyContent: \"end\",\n                alignItems: \"center\",\n                padding: 24,\n              }}\n            >\n              <Text type={totalTeletrans() % 4 === 0 ? \"success\" : \"danger\"}>\n                TOTAL DE TELETRANS\n              </Text>\n              <Alert\n                message={totalTeletrans()}\n                type={totalTeletrans() % 4 === 0 ? \"success\" : \"error\"}\n              />\n            </Space>\n          </Card>\n        </div>\n        <Space\n          direction=\"horizontal\"\n          style={{\n            width: \"100%\",\n            marginTop: 20,\n            justifyContent: \"end\",\n          }}\n        >\n          <Button onClick={closeModal}>Cancelar</Button>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            icon={<AiOutlineForm />}\n            loading={cargando ? true : false}\n            disabled={trabajadoresSave.length === 0 ? true : false}\n          >\n            {/* {dataToEdit ? \"Editar\" : \"Registrar\"} */}\n            Registrar\n          </Button>\n        </Space>\n      </Form>\n    </MainModal>\n  );\n}\nexport default ModalJuntarTeletrans;\n","import { Col, Empty, Row } from \"antd\";\nimport dayjs from \"dayjs\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { AiOutlineForm } from \"react-icons/ai\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport { PlanillaContext } from \"../../../context/PlanillaContext\";\nimport { pagosLayout } from \"../../../data/dataTable\";\nimport { notificacion } from \"../../../helpers/mensajes\";\nimport ButtonAdd from \"../../Button/ButtonAdd\";\nimport Header from \"../../header/Header\";\nimport Tabla from \"../../tabla/Tabla\";\nimport ObservacionAprobacion from \"../aprobaciones/ObservacionAprobacion\";\nimport BuscadorProgramacion from \"../BuscadorProgramacion\";\nimport ModalJuntarTeletrans from \"./ModalJuntarTeletrans\";\n\nconst PagosLayout = () => {\n  const { getData, createData } = useContext(CrudContext);\n  // const { juntarTeletrans, setJuntarTeletrans } = useContext(PlanillaContext);\n  const [pagos, setPagos] = useState([]);\n  const [modal, setModal] = useState(false);\n  const [modalRH, setModalRH] = useState(false);\n  const [observacion, setObservacion] = useState(\"\");\n\n  const [openModalIndivudual, setOpenModalIndivudual] = useState(false);\n\n  const handleCloseModalIndivudual = () => {\n    setOpenModalIndivudual(false);\n  };\n\n  const [dataPagos, setDataPagos] = useState([]);\n  const [filterText, setFilterText] = useState(\"\");\n  const [search, setSearch] = useState([]);\n  const [multiples, setMultiples] = useState([]);\n\n  const getPagos = async () => {\n    const response = await getData(\"programacion\");\n\n    if (response) {\n      const filterNull = response.data.filter((item) => item !== null);\n      setPagos(filterNull);\n      // Guardar valores iniciales de teletrans y volquetes en cada objeto de la fila\n      const initialValues = filterNull.map((item) => ({\n        ...item,\n        initialTeletrans: item.teletrans,\n        initialVolquetes: item.volquetes,\n        fecha_pago: dayjs(new Date()).format(\"YYYY-MM-DD\"),\n      }));\n      setPagos(initialValues);\n    }\n  };\n\n  useEffect(() => {\n    getPagos();\n  }, []);\n\n  const handleData = (event, e, i) => {\n    if (event.target) {\n      const { name, value } = event.target;\n\n      setPagos((state) =>\n        state.map((item, index) =>\n          index === i\n            ? {\n                ...item,\n                [name]: value,\n                contrato_id: e?.contrato_id,\n                id: e?.pagos?.pagos?.at(-1)?.id || \"\",\n              }\n            : item\n        )\n      );\n    } else {\n      setPagos((state) =>\n        state.map((item, index) =>\n          index === i\n            ? {\n                ...item,\n                observacion: event,\n                contrato_id: e?.contrato_id,\n                id: e?.pagos?.pagos?.at(-1)?.id || \"\",\n              }\n            : item\n        )\n      );\n    }\n  };\n  const postPagos = async (e) => {\n    const info = {\n      observacion: e.observacion,\n      fecha_pago: e.fecha_pago,\n      volquetes: e.initialVolquetes,\n      teletrans: e.initialTeletrans,\n      tipo: \"pago\",\n      trabajadores: [\n        {\n          volquetes: e.initialVolquetes,\n          teletrans: e.initialTeletrans,\n          contrato_id: e.contrato_id,\n          trabajador_dni: e.dni,\n          quincena: e.quincena,\n        },\n      ],\n    };\n    const valor =\n      parseFloat(e.initialVolquetes || 0) * 4 +\n      parseFloat(e.initialTeletrans || 0);\n\n    if (valor > e.saldo) {\n      notificacion(500, \"El monto a pagar es mayor a lo adeudado.\");\n    } else if (valor % 4 !== 0) {\n      notificacion(500, \"La cantidad debe ser equivalente a un volquete.\");\n    } else {\n      const response = await createData(info, \"pago/programacion/multiple\");\n\n      if (response) {\n        notificacion(response.status, response.msg);\n        getPagos();\n      }\n    }\n  };\n\n  useEffect(() => {\n    const filtered =\n      pagos &&\n      pagos.filter(\n        (item) =>\n          item?.nombre?.toLowerCase()?.includes(filterText.toLowerCase()) ||\n          item?.cargo?.toLowerCase()?.includes(filterText.toLowerCase())\n      );\n\n    setSearch(filtered);\n  }, [filterText, pagos]);\n\n  const handleObservacion = (e) => {\n    setModalRH(true);\n    setObservacion(e.observaciones);\n  };\n\n  const columns = pagosLayout(handleData, postPagos, handleObservacion);\n\n  useEffect(() => {\n    const prueba = pagos.map((item) => {\n      return {\n        id: item.id,\n        contrato_id: item.contrato_id,\n        dni: item.dni,\n        nombre: item.nombre + \" - \" + item.quincena,\n        quincena: item.quincena,\n        saldoFinal: item.saldoFinal,\n      };\n    });\n\n    if (prueba.length > 0) {\n      setMultiples(prueba);\n    }\n  }, [pagos]);\n\n  return (\n    <>\n      <Header text={\"Programación de pagos\"} ruta={\"/planilla\"} />\n      <div className=\"margenes\">\n        <BuscadorProgramacion\n          setModal={setModal}\n          setFilterText={setFilterText}\n        />\n\n        <Tabla columns={columns} table={search} />\n      </div>\n      {modal && (\n        <ModalJuntarTeletrans\n          open={modal}\n          setModal={setModal}\n          closeModal={handleCloseModalIndivudual}\n          actualizarTabla={getPagos}\n          trabajadores={multiples}\n        />\n      )}\n      {modalRH && (\n        <ObservacionAprobacion\n          modal={modalRH}\n          setModal={setModalRH}\n          observacion={observacion}\n          boton={false}\n        />\n      )}\n    </>\n  );\n};\n\nexport default PagosLayout;\n"],"names":["Search","Input","setFilterText","setModal","style","display","alignItems","justifyContent","width","placeholder","onChange","e","target","value","onClick","open","trabajadores","actualizarTabla","closeModalSubmit","dataToEdit","setDataToEdit","Form","form","Text","Typography","useContext","CrudContext","updateData","createData","cargando","setCargando","dataTrabajadores","map","item","id","label","nombre","closeModal","useState","seleccionados","setSeleccionados","trabajadoresSeleccionados","setTrabajadoresSeleccionados","useEffect","length","data","filter","includes","incentivosVariosValues","incentivo","setIncentivo","handleData","text","name","setFieldsValue","values","trabajadoresSave","setTrabajadoresSave","contrato_id","teletrans","trabajador_dni","dni","quincena","saldoFinal","parseFloat","totalTeletrans","total","forEach","handleSubmit","route","observacion","fecha_pago","dayjs","format","tipo","volquetes","voqluetes","valid","Number","notificacion","pago_id","response","status","msg","handleClose","MainModal","title","className","onFinish","layout","orientation","direction","showSearch","mode","allowClear","options","disabled","filterOption","input","option","toLowerCase","indexOf","locale","picker","flexDirection","gap","itemLayout","dataSource","renderItem","span","type","min","index","findIndex","handleDataTrabajador","required","padding","message","marginTop","htmlType","icon","loading","getData","pagos","setPagos","modal","modalRH","setModalRH","setObservacion","setOpenModalIndivudual","filterText","search","setSearch","multiples","setMultiples","getPagos","filterNull","initialValues","initialTeletrans","initialVolquetes","Date","postPagos","info","valor","saldo","filtered","cargo","columns","pagosLayout","event","i","state","at","observaciones","prueba","Header","ruta","Tabla","table","ObservacionAprobacion","boton"],"sourceRoot":""}