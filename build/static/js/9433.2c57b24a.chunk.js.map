{"version":3,"file":"static/js/9433.2c57b24a.chunk.js","mappings":"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","sources":["components/personal/trabajadores/ModalRegistrarContrato.jsx","components/personal/BuscadorContrato.jsx","components/personal/trabajadores/ModalHistorialContrato.jsx","components/personal/trabajadores/PersonalLayout.jsx","hooks/useSearch.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport MainModal from \"../../modal/MainModal\";\nimport { notificacion } from \"../../../helpers/mensajes\";\nimport { Button, Form } from \"antd\";\nimport { AiOutlineForm } from \"react-icons/ai\";\nimport { modalRegistroContratoPersonal } from \"../../../data/FormValues\";\nimport { addDays } from \"../../../helpers/calcularFechaFin\";\nimport \"../styles/modalRegistrarContrato.css\";\n\nconst ModalRegistrarContrato = ({\n  actualizarTrabajadores,\n  actualizarTabla,\n  selected,\n  trabajadorDni,\n  data,\n}) => {\n  const [form] = Form.useForm();\n  const route = \"contrato\";\n  const route1 = \"cargo\";\n  const route2 = \"campamento\";\n  const route3 = \"gerencia\";\n  const route4 = \"area\";\n  const route5 = \"socio\";\n\n  const {\n    createData,\n    updateData,\n    getData,\n    setDataToEdit,\n    dataToEdit,\n    modal3,\n    setModal3,\n    cargando,\n    setCargando,\n  } = useContext(CrudContext);\n\n  const [cargo, setCargo] = useState([]);\n  const [campamento, setCampamento] = useState([]);\n  const [gerencia, setGerencia] = useState([]);\n  const [area, setArea] = useState([]);\n  const [responseContrato, setResponseContrato] = useState([]);\n  const [socio, setSocio] = useState([]);\n  const [id, setId] = useState(\"\");\n  const getAll = async () => {\n    const response1 = getData(route1);\n    const response2 = getData(route2);\n    const response3 = getData(route3);\n    const response4 = getData(route4);\n    const response5 = getData(route5);\n    const response7 = getData(`contrato/last/${trabajadorDni}`);\n\n    const all = await Promise.all([\n      response1,\n      response2,\n      response3,\n      response4,\n      response5,\n      response7,\n    ]);\n    setCargo(all[0].data);\n    setCampamento(all[1].data);\n    setGerencia(all[2].data);\n    setArea(all[3].data);\n    setSocio(all[4].data);\n    setId(all[5].data);\n  };\n  const trabajadorContratoValues = {\n    fecha_inicio: \"\",\n    codigo_contrato: \"\",\n    tipo_contrato: \"\",\n    recomendado_por: \"\",\n    cooperativa: \"\",\n    condicion_cooperativa: \"\",\n    periodo_trabajo: \"\",\n    fecha_fin: \"\",\n    gerencia_id: \"\",\n    area_id: \"\",\n    jefe_directo: \"\",\n    base: \"\",\n    termino_contrato: \"\",\n    campamento_id: \"\",\n    nota_contrato: \"\",\n    puesto_id: \"\",\n    estado: false,\n    volquete: \"\",\n    teletran: \"\",\n    suspendido: false,\n    finalizado: false,\n    tareo: \"\",\n    trabajador_id: trabajadorDni,\n  };\n  const [contrato, setContrato] = useState(trabajadorContratoValues);\n  useEffect(() => {\n    if (dataToEdit === null) {\n      setContrato((value) => ({ ...value, codigo_contrato: id }));\n    }\n  }, [id, dataToEdit]);\n\n  useEffect(() => {\n    if (!dataToEdit && data.evaluacion.length > 0) {\n      setContrato((value) => ({\n        ...value,\n        gerencia_id: data?.evaluacion.at(0).gerencia_id,\n        area_id: data?.evaluacion.at(0).area_id,\n        puesto_id: data?.evaluacion.at(0).puesto_id,\n        campamento_id: data?.evaluacion.at(0).campamento_id,\n      }));\n    }\n  }, [data, dataToEdit]);\n\n  useEffect(() => {\n    getAll();\n  }, []);\n  useEffect(() => {\n    if (dataToEdit) {\n      setContrato(dataToEdit);\n      form.setFieldsValue(dataToEdit);\n    }\n  }, [dataToEdit]);\n  useEffect(() => {\n    if (\n      contrato.fecha_inicio !== \"\" &&\n      contrato.periodo_trabajo !== \"\"\n    ) {\n      let fechaInicio = contrato.fecha_inicio;\n  \n      const date = addDays(\n        fechaInicio,\n        contrato.periodo_trabajo,\n        contrato.tareo\n      );\n  \n      if (dataToEdit === null) {\n        // Caso de creación de contrato\n        setContrato((prevState) => {\n          return { ...prevState, fecha_fin: date };\n        });\n      } else if (\n        contrato.fecha_inicio !== dataToEdit.fecha_inicio ||\n        contrato.periodo_trabajo !== dataToEdit.periodo_trabajo ||\n        contrato.tareo !== dataToEdit.tareo\n      ) {\n        \n        // Caso de edición de contrato y se ha modificado alguno de los valores\n        setContrato((prevState) => {\n          return { ...prevState, fecha_fin: date };\n        });\n      }\n    }\n  }, [\n    contrato.fecha_inicio,\n    contrato.periodo_trabajo,\n    contrato.tareo,\n    dataToEdit,\n  ]);\n  \n\n  const handleData = (e, text) => {\n    if (!text && e.target) {\n      const { name, value } = e.target;\n      form.setFieldsValue({\n        [name]: value,\n      });\n      setContrato((values) => {\n        return { ...values, [name]: value };\n      });\n    } else {\n      form.setFieldsValue({\n        [text]: e,\n      });\n      setContrato((values) => {\n        return { ...values, [text]: e };\n      });\n    }\n  };\n  const handleSubmit = async () => {\n    if (dataToEdit === null) {\n      setCargando(true);\n      const response = await createData(contrato, route);\n      if (response) {\n        notificacion(response.status, response.msg);\n        closeModal();\n        actualizarTabla();\n        actualizarTrabajadores();\n        setCargando(false);\n      }\n    }\n    if (dataToEdit) {\n      setCargando(true);\n      const response = await updateData(contrato, selected.id, route);\n      if (response) {\n        notificacion(response.status, response.msg);\n        closeModal();\n        actualizarTabla();\n        actualizarTrabajadores();\n        setCargando(false);\n      }\n    }\n  };\n\n  const closeModal = () => {\n    setModal3(false);\n    setDataToEdit(null);\n    setContrato(trabajadorContratoValues);\n    setCargando(false);\n  };\n\n  const formData = modalRegistroContratoPersonal(\n    contrato,\n    handleData,\n    cargo,\n    campamento,\n    gerencia,\n    area,\n    id,\n    dataToEdit\n  );\n  return (\n    <MainModal\n      className={\"modal-contrato-empresa\"}\n      title={dataToEdit ? \"Editar contrato\" : \"Registrar contrato\"}\n      open={modal3}\n      width={920}\n      closeModal={closeModal}\n    >\n      <Form\n        form={form}\n        className=\"modal-body\"\n        onFinish={handleSubmit}\n        layout=\"horizontal\"\n      >\n        {/* <label htmlFor=\"\">Contrato</label> */}\n        <div\n          className=\"contrato\"\n          style={{\n            pointerEvents:\n              dataToEdit !== null && dataToEdit?.finalizado ? \"none\" : \"auto\",\n          }}\n        >\n          {formData.splice(0, 13).map((item, i) => (\n            <Form.Item\n              className=\"item\"\n              key={i}\n              name={item.name}\n              rules={item.rules}\n              style={{ marginBottom: \"8px\" }}\n            >\n              <>\n                {item.label}\n                {item.type}\n              </>\n            </Form.Item>\n          ))}\n        </div>\n        <div className=\"finalizacion\">\n          {formData.map((item, i) => (\n            <Form.Item\n              key={i}\n              name={item.name}\n              rules={item.rules}\n              style={{ marginBottom: \"8px\" }}\n            >\n              <>\n                {item.label}\n                {item.type}\n              </>\n            </Form.Item>\n          ))}\n        </div>\n        <Form.Item className=\"button-container\">\n          <Button\n            htmlType=\"submit\"\n            icon={<AiOutlineForm />}\n            loading={cargando ? true : false}\n          >\n            {dataToEdit ? \" Editar\" : \" Registrar\"}\n          </Button>\n        </Form.Item>\n      </Form>\n    </MainModal>\n  );\n};\n\nexport default ModalRegistrarContrato;\n","import React from \"react\";\nimport { Input, Button } from \"antd\";\nimport \"./styles/buscadorHistorial.css\";\n\nconst { Search } = Input;\n\nconst BuscadorContrato = ({ abrirModal, registrar, data,setFilterText }) => {\n\n  return (\n    <div className=\"personal-buscador\">\n      <Search\n        placeholder=\"Ingresa un termino aqui...\"\n        onChange={(e) => setFilterText(e.target.value)}\n        style={{\n          width: 300,\n        }}\n      />\n      <div className=\"button-container\">\n        <Button onClick={() => abrirModal(true)}>+ Registrar</Button>\n      </div>\n    </div>\n  );\n};\n\nexport default BuscadorContrato;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport Tabla from \"../../tabla/Tabla\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport ModalRegistrarContrato from \"./ModalRegistrarContrato\";\nimport { tableHistorialContrato } from \"../../../data/dataTable\";\nimport BuscadorContrato from \"../BuscadorContrato\";\nimport useSearch from \"../../../hooks/useSearch\";\nimport MainModal from \"../../modal/MainModal\";\nimport { notificacion } from \"../../../helpers/mensajes\";\nimport { Empty } from \"antd\";\n\nimport \"../styles/modalHistorialContrato.css\";\nimport Cargando from \"../../cargando/Cargando\";\n\nconst ModalHistorialContrato = ({\n  selected,\n  actualizarTrabajadores,\n  trabajador,\n  data,\n}) => {\n  const route = \"contrato\";\n\n  const {\n    getDataById,\n    deleteData,\n    data1,\n    setData1,\n    setDataToEdit,\n    modal2,\n    setModal2,\n    modal3,\n    setModal3,\n    cargando,\n    setCargando,\n  } = useContext(CrudContext);\n\n  const [search, setSearch] = useState([]);\n  const [filterText, setFilterText] = useState(\"\");\n  const [id, setId] = useState(\"\");\n  const getContrato = async () => {\n    const route = \"contrato\";\n    const response = await getDataById(route, selected);\n\n    if (response) {\n      const filterContratos = response.data\n        ?.map((item) => item.contratos)\n        .flat();\n      setData1(filterContratos);\n    }\n  };\n\n  const handleEdit = (e) => {\n    setDataToEdit(e);\n    setModal3(true);\n    setId(e);\n  };\n  useEffect(() => {\n    const filtered =\n      data1 &&\n      data1\n        .filter(\n          (item) =>\n            item?.fecha_inicio\n              ?.split(\"T\")[0]\n              ?.toLowerCase()\n              ?.includes(filterText.toLowerCase()) ||\n            item?.fecha_fin\n              ?.split(\"T\")[0]\n              ?.toLowerCase()\n              ?.includes(filterText.toLowerCase()) ||\n            item?.tipo_contrato\n              ?.toLowerCase()\n              ?.includes(filterText.toLowerCase())\n        )\n\n        .flat();\n    setSearch(filtered);\n  }, [filterText, data1]);\n\n  const handleDelete = async (e) => {\n    const response = await deleteData(route, e.id);\n\n    if (response) {\n      notificacion(response.status, response.msg);\n      closeModal();\n      actualizarTrabajadores();\n    }\n  };\n\n\n  const closeModal = () => {\n    setModal2(false);\n    setData1([]);\n  };\n  useEffect(() => {\n    getContrato();\n  }, []);\n\n  const columns = tableHistorialContrato(handleEdit, handleDelete);\n  return (\n    <MainModal\n      className={\"modal-historial-evaluacion\"}\n      title=\"Historial de contratos\"\n      open={modal2}\n      width={900}\n      closeModal={closeModal}\n    >\n      <section className=\"buscador\">\n        <BuscadorContrato\n          abrirModal={setModal3}\n          registrar={true}\n          tipo={\"contrato\"}\n          data={data}\n          setFilterText={setFilterText}\n        />\n      </section>\n\n      {data1.length > 0 ? (\n        <Tabla columns={columns} table={search} />\n      ) : (\n        <Empty\n          image={Empty.PRESENTED_IMAGE_SIMPLE}\n          description={<span>No hay registros para mostrar.</span>}\n        />\n      )}\n\n      {modal3 && (\n        <ModalRegistrarContrato\n          actualizarTabla={getContrato}\n          selected={id}\n          trabajadorDni={data.dni}\n          actualizarTrabajadores={actualizarTrabajadores}\n          trabajador={trabajador}\n          idContrato={data1}\n          data={data}\n        />\n      )}\n    </MainModal>\n  );\n};\n\nexport default ModalHistorialContrato;\n","import React, { useContext, useEffect, useState, useRef } from \"react\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport Header from \"../../header/Header\";\nimport Tabla from \"../../tabla/Tabla\";\nimport Buscador from \"../Buscador\";\nimport ModalRegistroPersonal from \"./ModalRegistroPersonal\";\nimport ModalHistorialContrato from \"./ModalHistorialContrato\";\nimport ModalHistorialEvaluacion from \"./ModalHistorialEvaluacion\";\nimport \"../styles/personalLayout.css\";\nimport { personalLayout } from \"../../../data/dataTable\";\nimport { notificacion } from \"../../../helpers/mensajes\";\nimport Cargando from \"../../cargando/Cargando\";\nimport { Empty } from \"antd\";\n\nconst PersonalLayout = () => {\n  const route = \"trabajador\";\n\n  const {\n    getData,\n    deleteData,\n    updateData,\n    setDataToEdit,\n    modal2,\n    setModal2,\n    filterText,\n    setFilterText,\n  } = useContext(CrudContext);\n  const [id, setId] = useState(\"\");\n  const [trabajorEvaluacion, setTrabajadorEvaluacion] = useState([]);\n  const [trabajorContrato, setTrabajadorContrato] = useState([]);\n  const [dataTrabajadores, setDataTrabajadores] = useState([]);\n  const [search, setSearch] = useState([]);\n  const [modalPersonal, setModalPersonal] = useState(false);\n  const [modalHistorialEvaluacion, setModalHistorialEvaluacion] =\n    useState(false);\n\n  const getTrabajadores = async () => {\n    const response = await getData(route);\n\n    if (response) {\n      setDataTrabajadores(response.data);\n    }\n  };\n\n  const handleEdit = (e) => {\n    setDataToEdit(e);\n    setModalPersonal(true);\n  };\n\n  const handleDelete = async (e) => {\n    const route = \"trabajador\";\n    const response = await deleteData(route, e);\n\n    if (response) {\n      notificacion(response.status, response.msg);\n      getTrabajadores();\n    }\n  };\n  useEffect(() => {\n    const filtered =\n      dataTrabajadores &&\n      dataTrabajadores.filter(\n        (item) =>\n          item?.codigo_trabajador\n            ?.toLowerCase()\n            ?.includes(filterText.toLowerCase()) ||\n          `${item?.nombre} ${item?.apellido_paterno} ${item?.apellido_materno}`\n            ?.toLowerCase()\n            ?.includes(filterText.toLowerCase()) ||\n          item?.dni?.toLowerCase()?.includes(filterText.toLowerCase()) ||\n          item?.campamento?.toLowerCase()?.includes(filterText.toLowerCase())\n      );\n\n    setSearch(filtered);\n  }, [filterText, dataTrabajadores]);\n\n  useEffect(() => {\n    return () => {\n      setSearch([]);\n      setFilterText(\"\");\n    };\n  }, []);\n\n  const handleEvaluacion = (e) => {\n    setModalHistorialEvaluacion(true);\n    setId(e);\n    setTrabajadorEvaluacion(e.evaluacion);\n  };\n  const handleContrato = (e) => {\n    setModal2(true);\n    setId(e.dni);\n    setTrabajadorContrato(e);\n  };\n\n  const deshabilitarTrabajador = async (trabajador) => {\n    const route = \"trabajador\";\n\n    const response = await updateData(\n      { deshabilitado: trabajador.deshabilitado },\n      trabajador.dni,\n      route\n    );\n    if (response) {\n      notificacion(response.status, response.msg);\n      getTrabajadores();\n    }\n  };\n\n  useEffect(() => {\n    getTrabajadores();\n  }, []);\n\n  const columns = personalLayout(\n    handleEvaluacion,\n    handleContrato,\n    deshabilitarTrabajador,\n    handleEdit,\n    handleDelete\n  );\n\n  return (\n    <>\n      <Header text={\"Trabajadores\"} user={\"Usuario\"} ruta={\"/personal\"} />\n\n      <div className=\"margenes\">\n        <Buscador\n          abrirModal={setModalPersonal}\n          importar={true}\n          registrar={true}\n          // actualizarTrabajadores={getTrabajadores}\n          setFilterText={setFilterText}\n        />\n        <Tabla columns={columns} table={search} />\n      </div>\n\n      {modalPersonal && (\n        <ModalRegistroPersonal\n          actualizarTabla={getTrabajadores}\n          data={dataTrabajadores}\n          modal={modalPersonal}\n          setModal={setModalPersonal}\n        />\n      )}\n\n      {modalHistorialEvaluacion && (\n        <ModalHistorialEvaluacion\n          selected={id}\n          actualizarTrabajador={getTrabajadores}\n          data={trabajorEvaluacion}\n          modal1={modalHistorialEvaluacion}\n          setModal1={setModalHistorialEvaluacion}\n        />\n      )}\n      {modal2 && (\n        <ModalHistorialContrato\n          selected={id}\n          actualizarTrabajadores={getTrabajadores}\n          data={trabajorContrato}\n        />\n      )}\n    </>\n  );\n};\n\nexport default PersonalLayout;\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useContext } from \"react\";\nimport { useState } from \"react\";\nimport { CrudContext } from \"../context/CrudContext\";\n\nconst useSearch = (data) => {\n  const { filterText, filterTextModal, result, setResult } = useContext(CrudContext);\n\n  useEffect(() => {\n    if (filterText !== \"\") {\n      const filteredData = data.filter((item) => {\n        return Object.values(item)\n          .join(\"\")\n          .toLowerCase()\n          .includes(filterText.toLowerCase());\n      });\n      setResult(filteredData);\n    } else {\n      setResult(data);\n    }\n  }, [filterText, data]);\n\n\n  return { result };\n};\n\nexport default useSearch;\n"],"names":["actualizarTrabajadores","actualizarTabla","selected","trabajadorDni","data","Form","form","route","useContext","CrudContext","createData","updateData","getData","setDataToEdit","dataToEdit","modal3","setModal3","cargando","setCargando","useState","cargo","setCargo","campamento","setCampamento","gerencia","setGerencia","area","setArea","setSocio","id","setId","getAll","response1","response2","response3","response4","response5","response7","Promise","all","trabajadorContratoValues","fecha_inicio","codigo_contrato","tipo_contrato","recomendado_por","cooperativa","condicion_cooperativa","periodo_trabajo","fecha_fin","gerencia_id","area_id","jefe_directo","base","termino_contrato","campamento_id","nota_contrato","puesto_id","estado","volquete","teletran","suspendido","finalizado","tareo","trabajador_id","contrato","setContrato","useEffect","value","evaluacion","length","at","setFieldsValue","fechaInicio","date","addDays","prevState","handleSubmit","response","notificacion","status","msg","closeModal","formData","modalRegistroContratoPersonal","e","text","target","name","values","MainModal","className","title","open","width","onFinish","layout","style","pointerEvents","splice","map","item","i","rules","marginBottom","label","type","htmlType","icon","loading","Search","Input","abrirModal","setFilterText","registrar","placeholder","onChange","onClick","trabajador","getDataById","deleteData","data1","setData1","modal2","setModal2","search","setSearch","filterText","getContrato","filterContratos","contratos","flat","filtered","filter","split","toLowerCase","includes","handleDelete","columns","tableHistorialContrato","tipo","Tabla","table","image","Empty","description","dni","idContrato","trabajorEvaluacion","setTrabajadorEvaluacion","trabajorContrato","setTrabajadorContrato","dataTrabajadores","setDataTrabajadores","modalPersonal","setModalPersonal","modalHistorialEvaluacion","setModalHistorialEvaluacion","getTrabajadores","codigo_trabajador","nombre","apellido_paterno","apellido_materno","deshabilitarTrabajador","deshabilitado","personalLayout","Header","user","ruta","Buscador","importar","ModalRegistroPersonal","modal","setModal","ModalHistorialEvaluacion","actualizarTrabajador","modal1","setModal1","result","filterTextModal","setResult","filteredData","Object","join"],"sourceRoot":""}