{"version":3,"file":"static/js/513.02678155.chunk.js","mappings":"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","sources":["components/planillas/Buscador.jsx","components/planillas/asistencia/ModalCrearAsistencia.jsx","components/planillas/asistencia/ListaAsistencia.jsx","helpers/tablaExcel.jsx","../node_modules/moment/locale/es-mx.js"],"sourcesContent":["import React from \"react\";\nimport { useContext, useRef } from \"react\";\nimport { PlanillaContext } from \"../../context/PlanillaContext\";\nimport { Input, Button } from \"antd\";\nimport { notificacion } from \"../../helpers/mensajes\";\nimport \"./style/buscador.css\";\nimport {\n  handleDownloadExcel,\n  handleDownloadExcel1,\n} from \"../../helpers/tablaExcel\";\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\n\nimport Item from \"antd/es/list/Item\";\nimport { useState } from \"react\";\nconst { Search } = Input;\n\nconst Buscador = ({\n  abrirModal,\n  registrar,\n  crear,\n  exportar,\n  cargar,\n  actualizar,\n  buscador,\n  data1,\n  validacion,\n  modal,\n  setFilterText,\n  fecha,\n}) => {\n  const { setControlAsistencia } = useContext(PlanillaContext);\n  const inputFileRef = useRef(null);\n\n  const handleModal = () => {\n    abrirModal(true);\n  };\n  const handleValidacion = () => {\n    modal(true);\n  };\n\n  const changeHandler = () => {\n    inputFileRef.current.click();\n  };\n\n  const excelFile = async (e) => {\n    let formData = new FormData();\n    formData.append(\"myFile\", e.target.files[0]);\n    formData.append(\"fecha\", fecha);\n    const excel = await fetch(\n      `${process.env.REACT_APP_BASE}/asistencia/excel`,\n      {\n        method: \"post\",\n        body: formData,\n      }\n    );\n    const response = await excel.json();\n    if (response) {\n      notificacion(response.status, response.msg);\n      actualizar();\n      setControlAsistencia(false);\n      inputFileRef.current.value = null;\n    }\n  };\n\n  const excelFileDownload = (e) => {\n    const result = data1.trabajador_asistencia?.map((dat) => {\n      return {\n        [dat?.asistencium?.fecha]:\n          dat.asistencia === \"Permiso\"\n            ? \"P\"\n            : dat.asistencia === \"Asistio\"\n            ? \"X\"\n            : dat.asistencia === \"Falto\"\n            ? \"F\"\n            : dat.asistencia === \"Dia libre\"\n            ? \"DL\"\n            : dat.asistencia === \"Comision\"\n            ? \"C\"\n            : \"F\",\n      };\n    });\n\n    const newObj = Object.assign({}, ...result);\n    const result2 = data1?.trabajador_asistencia?.slice(0, 1).map((dat, i) => {\n      return {\n        Nro: i + 1,\n        Nombre: data1?.nombre,\n        Dni: data1?.dni,\n        Celular: data1?.telefono,\n        Cargo: data1?.contratos?.puesto,\n        Área: data1?.contratos?.area,\n        ...newObj,\n      };\n    });\n\n    handleDownloadExcel1(result2, \"Hoja de tareo\", \"prueba\");\n    // setShowDownloadLink(true);\n    // setResult2(result2);\n  };\n\n  return (\n    <div\n      className=\"buscador-container\"\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"100%\",\n      }}\n    >\n      <input\n        type=\"file\"\n        ref={inputFileRef}\n        onChange={excelFile}\n        style={{ display: \"none\" }}\n      />\n      {buscador ? (\n        <Search\n          placeholder=\"Ingresa una nombre...\"\n          onChange={(e) => setFilterText(e.target.value)}\n          style={{\n            width: 300,\n          }}\n        />\n      ) : (\n        <div style={{ width: \"100%\" }}>\n          {registrar !== false ? (\n            <Button onClick={handleModal}>Registrar</Button>\n          ) : (\n            \"\"\n          )}\n          {exportar !== false &&\n          data1?.firma_gerente &&\n          data1?.firma_jefe &&\n          data1?.foto ? (\n            <Button onClick={excelFileDownload}>Descargar</Button>\n          ) : (\n            \"\"\n          )}\n          {validacion !== false ? (\n            <Button onClick={handleValidacion}>Validación </Button>\n          ) : (\n            \"\"\n          )}\n          {cargar !== false ? (\n            <div\n              style={{\n                width: \"100%\",\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n              }}\n            >\n              <Search\n                placeholder=\"Ingresa una nombre...\"\n                onChange={(e) => setFilterText(e.target.value)}\n                style={{\n                  width: 300,\n                }}\n              />\n              <Button style={{ width: \"100px\" }} onClick={changeHandler}>\n                Cargar\n              </Button>\n            </div>\n          ) : (\n            \"\"\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Buscador;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport Tabla from \"../../tabla/Tabla\";\nimport Buscador from \"../Buscador\";\nimport { PlanillaContext } from \"../../../context/PlanillaContext\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport { crearAsistencia } from \"../../../data/dataTable\";\nimport MainModal from \"../../modal/MainModal\";\nimport { Empty } from \"antd\";\nimport Cargando from \"../../cargando/Cargando\";\nimport { notificacion } from \"../../../helpers/mensajes\";\nimport \"../style/modalCrearAsistencia.css\";\n\nconst ModalCrearAsistencia = ({ data, actualizarTabla, fechas }) => {\n  const { setControlAsistencia, fechaId } = useContext(PlanillaContext);\n  const [selectedAsistencia, setSelectedAsistencia] = useState(null);\n  const [filterText, setFilterText] = useState(\"\");\n  const [search, setSearch] = useState([]);\n\n  const {\n    getData,\n    data2,\n    setData2,\n    createData,\n    updateData,\n    modal,\n    dataToEdit,\n    setDataToEdit,\n    setModal,\n    cargando,\n    setCargando,\n  } = useContext(CrudContext);\n\n  const [id, setId] = useState(\"\");\n\n  const filtrarFechaId = () => {\n    const prueba = fechas && fechas?.filter((item) => item?.fecha == data);\n    const id = prueba && prueba?.at(-1)?.id;\n    if (id) {\n      setId(id);\n    }\n  };\n\n  useEffect(() => {\n    filtrarFechaId();\n  }, [data, fechas]);\n\n  const getTrabajadorAsistencia = async () => {\n    const route = `asistencia/trabajador/${id}`;\n    const response = await getData(route);\n    setData2(response.data);\n  };\n  useEffect(() => {\n    if (id) {\n      getTrabajadorAsistencia();\n    }\n  }, [id]);\n\n  const closeModal = () => {\n    setModal(false);\n    setData2([]);\n  };\n\n  const handleAsistencia = async (event, e) => {\n    const route = \"asistencia/trabajador\";\n    const info = {\n      asistencia_id: id,\n      trabajador_id: e.dni,\n      asistencia: event.target.value,\n    };\n    const response = await createData(info, route);\n    if (response) {\n      notificacion(response.status, response.msg);\n      actualizarTabla();\n      getTrabajadorAsistencia();\n    }\n  };\n\n  const handleIngreso = async (e) => {\n    const route = \"asistencia/hora_ingreso\";\n    let obj = {\n      hora_ingreso: e.target.value,\n    };\n\n    const response = await updateData(obj, data.id, route);\n    if (response.status === 200) {\n      actualizarTabla();\n    }\n  };\n  useEffect(() => {\n    // Obtener información para editar\n    const asistenciaValue = data; // Valor de la propiedad asistencia de la información\n\n    // Establecer el valor seleccionado del select\n    setSelectedAsistencia(asistenciaValue);\n  }, [data]);\n\n  useEffect(() => {\n    const filtered = data2?.filter(\n      (item) =>\n        `${item?.nombre}${item?.apellido_paterno}${item?.apellido_materno}`\n          ?.toLowerCase()\n          ?.includes(filterText.toLowerCase()) ||\n        item?.dni?.toLowerCase()?.includes(filterText.toLowerCase())\n    );\n\n    setSearch(filtered);\n  }, [filterText, data2]);\n\n  const columns = crearAsistencia(handleAsistencia);\n  return (\n    <MainModal\n      className={\"modal-asistencia\"}\n      title={dataToEdit ? \"Editar asistencia\" : \"Registrar asistencia\"}\n      open={modal}\n      width={800}\n      closeModal={closeModal}\n    >\n      <div className=\"hora-ingreso\">\n        <div>\n          <label htmlFor=\"\">Hora de ingreso: </label>\n          <input\n            type=\"time\"\n            name=\"hora_ingreso\"\n            defaultValue={data?.hora_ingreso || \"07:00\"}\n            onChange={handleIngreso}\n          />\n        </div>\n      </div>\n      <div className=\"buscador-container\">\n        <Buscador\n          registrar={false}\n          crear={false}\n          exportar={false}\n          cargar={true}\n          validacion={false}\n          buscador={false}\n          setFilterText={setFilterText}\n          // actualizar={actualizarTabla}\n          actualizar={getTrabajadorAsistencia}\n          fecha={data}\n        />\n      </div>\n      <br />\n      <Tabla columns={columns} table={search} />\n    </MainModal>\n  );\n};\n\nexport default ModalCrearAsistencia;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport Header from \"../../header/Header\";\nimport { CrudContext } from \"../../../context/CrudContext\";\nimport ModalCrearAsistencia from \"./ModalCrearAsistencia\";\nimport useSearch from \"../../../hooks/useSearch\";\nimport { Calendar, theme, Button } from \"antd\";\nimport { BsTrash, BsPencil } from \"react-icons/bs\";\nimport { notificacion } from \"../../../helpers/mensajes\";\nimport \"moment/locale/es-mx\";\nimport locale from \"antd/es/date-picker/locale/es_ES\";\nimport \"../style/listaAsistencia.css\";\nimport dayjs from \"dayjs\";\n\nconst ListaAsistencia = () => {\n  const wrapperStyle = {\n    width: \"80%\",\n    height: \"70%\",\n    border: `1px solid lightgrey`,\n    borderRadius: \"6px\",\n    padding: \"10px\",\n  };\n\n  const { getData, setData, data, deleteData, modal, setModal, createData } =\n    useContext(CrudContext);\n  const [fechaId, setFechaId] = useState(\"\");\n\n  const { result } = useSearch(data);\n\n  const getAsistencia = async () => {\n    const route = \"asistencia\";\n    const response = await getData(route);\n    setData(response.data);\n  };\n\n  useEffect(() => {\n    getAsistencia();\n  }, []);\n\n  const handleEdit = (e, value) => {\n    e.stopPropagation();\n    setFechaId(dayjs(value).format(\"YYYY-MM-DD\"));\n    setModal(true);\n  };\n\n  const handleDelete = async (e, fecha) => {\n    e.stopPropagation();\n    const id = data\n      ?.filter((item) => item?.fecha === dayjs(fecha).format(\"YYYY-MM-DD\"))\n      .map((item) => item.id)\n      .toString();\n    const route = \"asistencia\";\n    const response = await deleteData(route, id);\n    if (response) {\n      notificacion(response.status, response.msg);\n      getAsistencia();\n    }\n  };\n  const crearAsistencia = async (fecha) => {\n\n    const route = \"asistencia\";\n    const asistencia = {\n      fecha: dayjs(fecha).format(\"YYYY-MM-DD\"),\n      hora_ingreso: \"07:30\",\n    };\n    const response = await createData(asistencia, route);\n    if (response) {\n      // notificacion(response.status, response.msg);\n      getAsistencia();\n    }\n  };\n  const renderCell = (date) => {\n    const fechaCalendario = dayjs(date).format(\"YYYY-MM-DD\");\n    const filtrarFecha = data?.filter((item) => item.fecha === fechaCalendario);\n    if (filtrarFecha.length > 0) {\n      return (\n        <div className=\"calendar-data\">\n          <label htmlFor=\"\">Asistencia creada</label>\n          <div>\n            <BsPencil onClick={(e) => handleEdit(e, date)} />\n            <BsTrash\n              onClick={(e) => handleDelete(e, date)}\n              className=\"eliminar\"\n            />\n          </div>\n        </div>\n      );\n    } else {\n      return \"\";\n    }\n  };\n  // const columns = listaAsistencia(handleEdit, handleDelete);\n\n  const onSelect = (e) => {\n    const fecha = dayjs(e).format(\"YYYY-MM-DD\");\n    crearAsistencia(e,fecha);\n    // setModal(true);\n  };\n  return (\n    <div className=\"lista-asistencia\">\n      <Header text={\"Asistencia\"} user={\"Usuario\"} ruta={\"/planilla\"} />\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          marginTop: \"50px\",\n        }}\n      >\n        <div style={wrapperStyle}>\n          <Calendar\n            fullscreen={true}\n            onChange={onSelect}\n            mode=\"month\"\n            locale={locale}\n            dateCellRender={renderCell}\n          />\n        </div>\n      </div>\n      {modal && (\n        <ModalCrearAsistencia\n          data={fechaId}\n          actualizarTabla={getAsistencia}\n          fechas={data}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ListaAsistencia;\n","import { utils, writeFileXLSX, writeFile } from \"xlsx\";\nexport const handleDownloadExcel = (dataSource, sheetName, fileName) => {\n  const wb = utils.book_new();\n  const ws = utils.json_to_sheet(dataSource);\n  utils.book_append_sheet(wb, ws, sheetName);\n  writeFileXLSX(wb, `${fileName}.xlsx`);\n};\n\nexport const handleDownloadExcel1 = (dataSource, sheetName, fileName) => {\n  const wb = utils.book_new();\n  const headers = [\n    \"Hoja de Tareo\",\n    \"Header 2\",\n    \"Header 3\",\n    \"Header 4\",\n    \"Header 5\",\n    \"Header 6\",\n  ];\n\n  // Crear un array con la cabecera y las llaves de los objetos\n  const keys = [headers, Object.keys(dataSource[0])];\n\n  // Crear un array con la cabecera, las llaves y los valores de los objetos\n  const data = [...keys, ...dataSource.map((obj) => Object.values(obj))];\n\n  // Transformar el array de arrays en un array de objetos\n  const rows = data.map((arr) =>\n    arr.reduce((acc, val, i) => {\n      acc[headers[i]] = val;\n      return acc;\n    }, {})\n  );\n\n  const ws = utils.json_to_sheet(rows);\n\n  // Establecer el ancho de las columnas de la cabecera\n  ws[\"!cols\"] = headers.map(() => ({\n    width: 20,\n    height: 40,\n    textAlign: \"center\",\n  }));\n\n  // Establecer el estilo de la cabecera\n  ws[\"!merges\"] = [{ s: { r: 0, c: 0 }, e: { r: 0, c: 1 } }];\n  ws[\"A1\"].s = { font: { bold: true } };\n  ws[\"B1\"].s = { font: { bold: true } };\n  ws[\"C1\"].s = { font: { bold: true } };\n  ws[\"D1\"].s = { font: { bold: true } };\n  ws[\"E1\"].s = { font: { bold: true } };\n  ws[\"F1\"].s = { font: { bold: true } };\n\n  utils.book_append_sheet(wb, ws, sheetName);\n  writeFileXLSX(wb, `${fileName}.xlsx`);\n};\n","//! moment.js locale configuration\n//! locale : Spanish (Mexico) [es-mx]\n//! author : JC Franco : https://github.com/jcfranco\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n    //! moment.js locale configuration\n\n    var monthsShortDot =\n            'ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.'.split(\n                '_'\n            ),\n        monthsShort = 'ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_'),\n        monthsParse = [\n            /^ene/i,\n            /^feb/i,\n            /^mar/i,\n            /^abr/i,\n            /^may/i,\n            /^jun/i,\n            /^jul/i,\n            /^ago/i,\n            /^sep/i,\n            /^oct/i,\n            /^nov/i,\n            /^dic/i,\n        ],\n        monthsRegex =\n            /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\\.?|feb\\.?|mar\\.?|abr\\.?|may\\.?|jun\\.?|jul\\.?|ago\\.?|sep\\.?|oct\\.?|nov\\.?|dic\\.?)/i;\n\n    var esMx = moment.defineLocale('es-mx', {\n        months: 'enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre'.split(\n            '_'\n        ),\n        monthsShort: function (m, format) {\n            if (!m) {\n                return monthsShortDot;\n            } else if (/-MMM-/.test(format)) {\n                return monthsShort[m.month()];\n            } else {\n                return monthsShortDot[m.month()];\n            }\n        },\n        monthsRegex: monthsRegex,\n        monthsShortRegex: monthsRegex,\n        monthsStrictRegex:\n            /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,\n        monthsShortStrictRegex:\n            /^(ene\\.?|feb\\.?|mar\\.?|abr\\.?|may\\.?|jun\\.?|jul\\.?|ago\\.?|sep\\.?|oct\\.?|nov\\.?|dic\\.?)/i,\n        monthsParse: monthsParse,\n        longMonthsParse: monthsParse,\n        shortMonthsParse: monthsParse,\n        weekdays: 'domingo_lunes_martes_miércoles_jueves_viernes_sábado'.split('_'),\n        weekdaysShort: 'dom._lun._mar._mié._jue._vie._sáb.'.split('_'),\n        weekdaysMin: 'do_lu_ma_mi_ju_vi_sá'.split('_'),\n        weekdaysParseExact: true,\n        longDateFormat: {\n            LT: 'H:mm',\n            LTS: 'H:mm:ss',\n            L: 'DD/MM/YYYY',\n            LL: 'D [de] MMMM [de] YYYY',\n            LLL: 'D [de] MMMM [de] YYYY H:mm',\n            LLLL: 'dddd, D [de] MMMM [de] YYYY H:mm',\n        },\n        calendar: {\n            sameDay: function () {\n                return '[hoy a la' + (this.hours() !== 1 ? 's' : '') + '] LT';\n            },\n            nextDay: function () {\n                return '[mañana a la' + (this.hours() !== 1 ? 's' : '') + '] LT';\n            },\n            nextWeek: function () {\n                return 'dddd [a la' + (this.hours() !== 1 ? 's' : '') + '] LT';\n            },\n            lastDay: function () {\n                return '[ayer a la' + (this.hours() !== 1 ? 's' : '') + '] LT';\n            },\n            lastWeek: function () {\n                return (\n                    '[el] dddd [pasado a la' +\n                    (this.hours() !== 1 ? 's' : '') +\n                    '] LT'\n                );\n            },\n            sameElse: 'L',\n        },\n        relativeTime: {\n            future: 'en %s',\n            past: 'hace %s',\n            s: 'unos segundos',\n            ss: '%d segundos',\n            m: 'un minuto',\n            mm: '%d minutos',\n            h: 'una hora',\n            hh: '%d horas',\n            d: 'un día',\n            dd: '%d días',\n            w: 'una semana',\n            ww: '%d semanas',\n            M: 'un mes',\n            MM: '%d meses',\n            y: 'un año',\n            yy: '%d años',\n        },\n        dayOfMonthOrdinalParse: /\\d{1,2}º/,\n        ordinal: '%dº',\n        week: {\n            dow: 0, // Sunday is the first day of the week.\n            doy: 4, // The week that contains Jan 4th is the first week of the year.\n        },\n        invalidDate: 'Fecha inválida',\n    });\n\n    return esMx;\n\n})));\n"],"names":["Search","Input","abrirModal","registrar","exportar","crear","cargar","actualizar","buscador","data1","validacion","modal","setFilterText","fecha","setControlAsistencia","useContext","PlanillaContext","inputFileRef","useRef","excelFile","e","formData","FormData","append","target","files","fetch","process","method","body","excel","json","response","notificacion","status","msg","current","value","className","style","display","alignItems","width","type","ref","onChange","placeholder","onClick","firma_gerente","firma_jefe","foto","result","trabajador_asistencia","map","dat","asistencium","asistencia","newObj","Object","assign","result2","slice","i","Nro","Nombre","nombre","Dni","dni","Celular","telefono","Cargo","contratos","puesto","Área","area","handleDownloadExcel1","justifyContent","click","data","actualizarTabla","fechas","fechaId","useState","setSelectedAsistencia","filterText","search","setSearch","CrudContext","getData","data2","setData2","createData","updateData","dataToEdit","setModal","setDataToEdit","cargando","setCargando","id","setId","useEffect","prueba","filter","item","at","filtrarFechaId","getTrabajadorAsistencia","route","handleAsistencia","event","info","asistencia_id","trabajador_id","handleIngreso","obj","hora_ingreso","filtered","apellido_paterno","apellido_materno","toLowerCase","includes","columns","crearAsistencia","MainModal","title","open","closeModal","htmlFor","name","defaultValue","Buscador","Tabla","table","setData","deleteData","setFechaId","getAsistencia","useSearch","handleDelete","stopPropagation","dayjs","format","toString","Header","text","user","ruta","marginTop","height","border","borderRadius","padding","fullscreen","mode","locale","dateCellRender","date","fechaCalendario","length","handleEdit","handleDownloadExcel","dataSource","sheetName","fileName","wb","utils","ws","writeFileXLSX","headers","keys","rows","values","arr","reduce","acc","val","textAlign","s","r","c","font","bold","moment","monthsShortDot","split","monthsShort","monthsParse","monthsRegex","defineLocale","months","m","test","month","monthsShortRegex","monthsStrictRegex","monthsShortStrictRegex","longMonthsParse","shortMonthsParse","weekdays","weekdaysShort","weekdaysMin","weekdaysParseExact","longDateFormat","LT","LTS","L","LL","LLL","LLLL","calendar","sameDay","this","hours","nextDay","nextWeek","lastDay","lastWeek","sameElse","relativeTime","future","past","ss","mm","h","hh","d","dd","w","ww","M","MM","y","yy","dayOfMonthOrdinalParse","ordinal","week","dow","doy","invalidDate","factory","require"],"sourceRoot":""}