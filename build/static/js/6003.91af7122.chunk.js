"use strict";(self.webpackChunkrinconada=self.webpackChunkrinconada||[]).push([[6003],{69967:function(e,t,n){n(72791);var a=n(49998),r=n(80184);t.Z=function(e){var t=e.className,n=e.title,o=e.open,s=e.width,i=e.closeModal,c=e.children;return(0,r.jsx)(a.Z,{destroyOnClose:!0,className:t,title:n,open:o,centered:!0,onCancel:i,footer:null,width:s,children:c})}},22552:function(e,t,n){var a=n(74165),r=n(15861),o=n(72791),s=n(38411),i=n(49389),c=n(87309),l=n(99763),u=n(78820),d=(n(36752),n(80184)),f=i.Z.Search;t.Z=function(e){var t=e.abrirModal,n=e.importar,i=e.actualizarTrabajadores,p=e.registrar,m=(e.modal,e.setFilterText),h=(0,o.useContext)(s.s),v=(h.cargando,h.setCargando),x=(0,o.useRef)(null),g=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("myFile",t.target.files[0]),v(!0),e.next=5,fetch("".concat("http://13.58.131.42:3000/api/v1","/trabajador/bulk"),{method:"post",body:n});case 5:return r=e.sent,e.next=8,r.json();case 8:(o=e.sent)&&(v(!1),(0,l.q)(o.status,o.msg),i()),x.current.value=null;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"buscador-personal",children:[(0,d.jsx)("input",{type:"file",ref:x,onChange:g,style:{display:"none"},accept:".xlsx, .xls, .csv"}),(0,d.jsx)(f,{placeholder:"Ingresa un termino aqui...",onChange:function(e){return m(e.target.value)},style:{width:300}}),(0,d.jsxs)("div",{className:"button-container",children:[n&&(0,d.jsx)(c.ZP,{icon:(0,d.jsx)(u.ndd,{}),onClick:function(e){x.current.click()},children:"Importar Trabajadores"}),p?(0,d.jsx)(c.ZP,{icon:(0,d.jsx)(u.lFz,{}),onClick:function(){return t(!0)},children:"Registrar"}):""]})]})})}},28387:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(74165),r=n(15861),o=n(29439),s=n(72791),i=n(38411),c=n(83188),l=n(4808),u=n(22552),d=n(1413),f=n(4942),p=n(63998),m=n(99763),h=n(69967),v=n(17615),x=n(87309),g=n(78820),Z=n(80184),j=function(e){var t=e.actualizarTabla,n=v.Z.useForm(),c=(0,o.Z)(n,1)[0],l="socio",u={nombre:"",dni:"",telefono:"",cooperativa:""},j=(0,s.useState)(u),b=(0,o.Z)(j,2),w=b[0],y=b[1],C=(0,s.useContext)(i.s),S=C.createData,F=C.updateData,T=C.modal,E=C.setModal,k=C.setDataToEdit,D=C.dataToEdit,P=C.cargando,M=C.setCargando,Y=function(){E(!1),k(null),y(u),M(!1)},N=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==D){e.next=6;break}return M(!0),e.next=4,S(w,l);case 4:(r=e.sent)&&((0,m.q)(r.status,r.msg),Y(),t(),M(!1));case 6:if(!D){e.next=12;break}return M(!0),e.next=10,F(w,D.id,l);case 10:(o=e.sent)&&((0,m.q)(o.status,o.msg),Y(),t(),M(!1));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){D?(y(D),c.setFieldsValue(D)):y(u)}),[D]);var A=(0,p.Z5)(w,(function(e,t){if(!t&&e.target){var n=e.target,a=n.name,r=n.value;c.setFieldsValue((0,f.Z)({},a,r)),y((function(e){return(0,d.Z)((0,d.Z)({},e),{},(0,f.Z)({},a,r))}))}else c.setFieldsValue((0,f.Z)({},t,e)),y((function(n){return(0,d.Z)((0,d.Z)({},n),{},(0,f.Z)({},t,e))}))}));return(0,Z.jsx)(h.Z,{className:"modal-socio",title:D?"Editar socio":"Registrar socio",open:T,width:400,closeModal:Y,children:(0,Z.jsxs)(v.Z,{form:c,className:"modal-body",onFinish:N,layout:"horizontal",children:[A.map((function(e,t){return(0,Z.jsx)(v.Z.Item,{name:e.name,rules:e.rules,style:{marginBottom:"8px"},children:(0,Z.jsxs)(Z.Fragment,{children:[e.label,e.type]})},t)})),(0,Z.jsx)(v.Z.Item,{className:"button-container",children:(0,Z.jsx)(x.ZP,{htmlType:"submit",loading:!!P,icon:(0,Z.jsx)(g.lFz,{}),children:D?"Editar":"Registrar"})})]})})},b=n(53939),w=n(95579),y=function(){var e="socio",t=(0,s.useContext)(i.s),n=t.getData,d=t.deleteData,f=t.modal,p=t.setModal,h=t.setDataToEdit,v=(0,s.useState)([]),x=(0,o.Z)(v,2),g=x[0],y=x[1],C=((0,w.Z)(g).result,(0,s.useState)("")),S=(0,o.Z)(C,2),F=S[0],T=S[1],E=(0,s.useState)([]),k=(0,o.Z)(E,2),D=k[0],P=k[1],M=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(e);case 2:r=t.sent,y(r.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Y=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e,n);case 2:(r=t.sent)&&((0,m.q)(r.status,r.msg),M());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){var e=null===g||void 0===g?void 0:g.filter((function(e){var t,n,a,r;return(null===e||void 0===e||null===(t=e.nombre)||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.includes(F.toLowerCase()))||(null===e||void 0===e||null===(a=e.dni)||void 0===a||null===(r=a.toLowerCase())||void 0===r?void 0:r.includes(F.toLowerCase()))}));P(e)}),[F,g]),(0,s.useEffect)((function(){return function(){P([]),T("")}}),[]),(0,s.useEffect)((function(){M()}),[]);var N=(0,b.A1)((function(e){h(e),p(!0)}),Y);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(c.Z,{text:"Socios",user:"Usuario",ruta:"/personal"}),(0,Z.jsxs)("div",{className:"margenes",children:[(0,Z.jsx)(u.Z,{abrirModal:p,registrar:!0,setFilterText:T}),(0,Z.jsx)(l.Z,{columns:N,table:D})]}),f&&(0,Z.jsx)(j,{actualizarTabla:M})]})}},4808:function(e,t,n){n(72791);var a=n(43513),r=n(34664),o=(n(51279),n(80184));t.Z=function(e){var t=e.columns,n=e.table,s=e.filas,i=s?[s,2*s,3*s,4*s,5*s]:[10,20,30,40,50];return(0,o.jsx)("div",{className:"table-container",children:(0,o.jsx)(a.ZP,{columns:t,data:n,pagination:!0,striped:!0,highlightOnHover:!0,responsive:!0,paginationComponentOptions:{rowsPerPageText:"Filas por p\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!1,selectAllRowsItemText:"Todos",preserveSelectedOnPageChange:!0},paginationPerPage:s||10,paginationRowsPerPageOptions:i,noDataComponent:(0,o.jsx)(r.Z,{image:r.Z.PRESENTED_IMAGE_SIMPLE,description:(0,o.jsx)("span",{children:"No hay registros para mostrar."})})})})}},95579:function(e,t,n){var a=n(72791),r=n(38411);t.Z=function(e){var t=(0,a.useContext)(r.s),n=t.filterText,o=(t.filterTextModal,t.result),s=t.setResult;return(0,a.useEffect)((function(){if(""!==n){var t=e.filter((function(e){return Object.values(e).join("").toLowerCase().includes(n.toLowerCase())}));s(t)}else s(e)}),[n,e]),{result:o}}},35790:function(e,t,n){n.d(t,{Z:function(){return o}});var a={locale:"es_ES",today:"Hoy",now:"Ahora",backToToday:"Volver a hoy",ok:"Aceptar",clear:"Limpiar",month:"Mes",year:"A\xf1o",timeSelect:"Seleccionar hora",dateSelect:"Seleccionar fecha",monthSelect:"Elegir un mes",yearSelect:"Elegir un a\xf1o",decadeSelect:"Elegir una d\xe9cada",yearFormat:"YYYY",dateFormat:"D/M/YYYY",dayFormat:"D",dateTimeFormat:"D/M/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Mes anterior (PageUp)",nextMonth:"Mes siguiente (PageDown)",previousYear:"A\xf1o anterior (Control + left)",nextYear:"A\xf1o siguiente (Control + right)",previousDecade:"D\xe9cada anterior",nextDecade:"D\xe9cada siguiente",previousCentury:"Siglo anterior",nextCentury:"Siglo siguiente"},r={placeholder:"Seleccionar hora"},o={lang:Object.assign({placeholder:"Seleccionar fecha",rangePlaceholder:["Fecha inicial","Fecha final"]},a),timePickerLocale:Object.assign({},r)}},36752:function(){}}]);
//# sourceMappingURL=6003.91af7122.chunk.js.map