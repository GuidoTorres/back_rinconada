"use strict";(self.webpackChunkrinconada=self.webpackChunkrinconada||[]).push([[6615],{3066:function(a,n,e){e.d(n,{Z:function(){return d}});var o=e(72791),i=e(38411),r=e(49389),t=e(87309),c=e(78820),s=e(80184),l=r.Z.Search,d=function(a){var n=a.abrirModal,e=(0,o.useContext)(i.s).setFilterText;return(0,s.jsxs)("div",{className:"buscador-container",children:[(0,s.jsx)(l,{placeholder:"Ingresa un termino aqui...",onChange:function(a){return e(a.target.value)},style:{width:300}}),(0,s.jsx)("div",{className:"button-container",children:(0,s.jsx)(t.ZP,{onClick:function(){return n(!0)},icon:(0,s.jsx)(c.lFz,{}),children:"Registrar"})})]})}},65079:function(a,n,e){e.r(n),e.d(n,{default:function(){return w}});var o=e(74165),i=e(15861),r=e(29439),t=e(72791),c=e(38411),s=e(1413),l=e(4942),d=e(17615),u=e(87309),p=e(63998),h=e(16026),m=e(99763),_=e(69967),v=e(78820),f=e(80184),g=function(a){var n=a.actualizarTabla,e=d.Z.useForm(),g=(0,r.Z)(e,1)[0],x=(0,t.useContext)(c.s),j=x.createData,b=x.updateData,Z=x.setModal,k=x.dataToEdit,C=x.setDataToEdit,w=x.modal,z=x.cargando,T=x.setCargando,y=(0,t.useState)(h.FH),N=(0,r.Z)(y,2),M=N[0],q=N[1];(0,t.useEffect)((function(){k?(q(k),g.setFieldsValue(k)):q(h.FH)}),[k]);var E=function(){var a=(0,i.Z)((0,o.Z)().mark((function a(e){var i,r,t;return(0,o.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i="rol",null!==k){a.next=7;break}return T(!0),a.next=5,j(M,"rol");case 5:(r=a.sent)&&((0,m.q)(r.status,r.msg),n(),D(),T(!1));case 7:if(!k){a.next=13;break}return T(!0),a.next=11,b(M,k.id,i);case 11:(t=a.sent)&&((0,m.q)(t.status,t.msg),n(),D(),T(!1));case 13:case"end":return a.stop()}}),a)})));return function(n){return a.apply(this,arguments)}}(),D=function(){Z(!1),C(null),q(h.FH),T(!1)},P=(0,p.sY)(M,(function(a){var n=a.target,e=n.name,o=n.value;g.setFieldsValue((0,l.Z)({},e,o)),q((function(a){return(0,s.Z)((0,s.Z)({},a),{},(0,l.Z)({},e,o))}))}));return(0,f.jsx)(_.Z,{className:"modal-rol",title:k?"Editar rol":"Registrar rol",open:w,width:400,closeModal:D,children:(0,f.jsxs)(d.Z,{form:g,className:"modal-body",onFinish:E,layout:"horizontal",children:[P.map((function(a){return(0,f.jsx)(d.Z.Item,{name:a.name,rules:a.rules,style:{marginBottom:"8px"},children:(0,f.jsxs)(f.Fragment,{children:[a.label,a.type]})})})),(0,f.jsx)(d.Z.Item,{className:"button-container",children:(0,f.jsx)(u.ZP,{htmlType:"submit",icon:(0,f.jsx)(v.lFz,{}),loading:!!z,children:k?"Editar":"Registrar"})})]})})},x=e(3066),j=e(83188),b=e(4808),Z=e(95579),k=e(53939),C=e(85126),w=function(){var a=(0,t.useContext)(c.s),n=a.getData,e=a.deleteData,s=a.modal,l=a.setModal,d=a.setDataToEdit,u=a.setModal1,p=a.modal1,h=(0,t.useState)([]),_=(0,r.Z)(h,2),v=_[0],w=_[1],z=(0,Z.Z)(v).result,T=function(){var a=(0,i.Z)((0,o.Z)().mark((function a(){var e;return(0,o.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n("rol");case 2:e=a.sent,w(e.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),y=function(){var a=(0,i.Z)((0,o.Z)().mark((function a(n){var i;return(0,o.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e("rol",n);case 2:(i=a.sent)&&((0,m.q)(i.status,i.msg),T());case 4:case"end":return a.stop()}}),a)})));return function(n){return a.apply(this,arguments)}}();(0,t.useEffect)((function(){T()}),[]);var N=(0,k.uG)((function(a){d(a),l(!0)}),y,(function(a){u(!0),d(a)}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(j.Z,{text:"Roles",user:"Usuario",ruta:"/administracion"}),(0,f.jsxs)("div",{className:"margenes",children:[(0,f.jsx)(x.Z,{abrirModal:l}),(0,f.jsx)(b.Z,{columns:N,table:z})]}),s&&(0,f.jsx)(g,{actualizarTabla:T}),(0,f.jsx)(C.Z,{open:p})]})}},85126:function(a,n,e){e.d(n,{Z:function(){return g}});var o=e(4942),i=e(1413),r=e(74165),t=e(15861),c=e(29439),s=e(72791),l=e(38411),d=e(69967),u=e(32014),p=e(49389),h=e(83733),m=e(87309),_=e(78820),v=e(99763),f=e(80184),g=function(a){a.actualizarTabla;var n=(0,s.useContext)(l.s),e=n.modal1,g=n.setModal1,x=n.updateData,j=n.setDataToEdit,b=n.dataToEdit,Z=n.getData,k=n.cargando,C=n.setCargando,w=(0,s.useState)([{administracion:"",administracion_campamento:"",administracion_rol:"",administracion_usuario:"",finanzas:"",finanzas_ingreso:"",finanzas_proveedor:"",finanzas_sucursal:"",logistica:"",logistica_almacen:"",logistica_aprobacion:"",logistica_categoria:"",logistica_estadistica:"",logistica_inventario:"",logistica_requerimiento:"",logistica_transferencia:"",personal:"",personal_empresa:"",personal_grupal:"",personal_socio:"",personal_trabajador:"",planillas:"",planillas_asistencia:"",planillas_control:"",personal_contrato:"",personal_evaluacion:"",personal_trapiche:"",personal_volquete:"",planillas_programacion:"",planillas_realizar_pagos:"",planillas_historial:"",planillas_incentivos:"",planillas_casa:"",planillas_aprobacion:"",planillas_asociacion:"",logistica_aprobacion_jefe:"",logistica_aprobacion_gerente:"",logistica_aprobacion_superintendente:""}]),z=(0,c.Z)(w,2),T=z[0],y=z[1],N=function(){var a=(0,t.Z)((0,r.Z)().mark((function a(){var n;return(0,r.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Z("usuario/permiso/".concat(null===b||void 0===b?void 0:b.id));case 2:n=a.sent,y(n.data[0]);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();(0,s.useEffect)((function(){null!==b&&N()}),[b]);var M=function(){g(!1),j(null)},q=function(a){if(a.target){var n=a.target,e=n.name,r=n.checked;y((function(a){return(0,i.Z)((0,i.Z)({},a),{},(0,o.Z)({},e,r))}))}},E=function(){var a=(0,t.Z)((0,r.Z)().mark((function a(){var n;return(0,r.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return C(!0),"usuario/permisos",a.next=4,x(T,b.id,"usuario/permisos");case 4:(n=a.sent)&&((0,v.q)(n.status,n.msg),N(),M(),C(!1));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),D=[{key:"1",label:"Administraci\xf3n",children:(0,f.jsxs)("div",{className:"check-container",children:[(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.administracion,name:"administracion",onChange:q,children:"Menu administraci\xf3n"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.administracion_usuario,name:"administracion_usuario",onChange:q,children:"Usuarios"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.administracion_rol,name:"administracion_rol",onChange:q,children:"Roles"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.administracion_campamento,name:"administracion_campamento",onChange:q,children:"Campamentos"})]})},{key:"2",label:"Personal",children:(0,f.jsxs)("div",{className:"check-container",children:[(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.personal,name:"personal",onChange:q,children:"Menu personal"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.personal_trabajador,name:"personal_trabajador",onChange:q,children:"Trabajadores"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.personal_grupal,name:"personal_grupal",onChange:q,children:"Grupales"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.personal_empresa,name:"personal_empresa",onChange:q,children:"Empresa"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.personal_socio,name:"personal_socio",onChange:q,children:"Socios"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.personal_trapiche,name:"personal_trapiche",onChange:q,children:"Trapiches"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.personal_volquete,name:"personal_volquete",onChange:q,children:"Volquetes"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.personal_contrato,name:"personal_contrato",onChange:q,children:"Trabajador contrato"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.personal_evaluacion,name:"personal_evaluacion",onChange:q,children:"Trabajador evaluaci\xf3n"})]})},{key:"3",label:"Planillas",children:(0,f.jsxs)("div",{className:"check-container",children:[(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.planillas,name:"planillas",onChange:q,children:"Menu planillas"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.planillas_aprobacion,name:"planillas_aprobacion",onChange:q,children:"Aprobaci\xf3n"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.planillas_asistencia,name:"planillas_asistencia",onChange:q,children:"Lista de asistencia"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.planillas_control,name:"planillas_control",onChange:q,children:"Planillas"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.planillas_programacion,name:"planillas_programacion",onChange:q,children:"Programaci\xf3n de pagos"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.planillas_realizar_pagos,name:"planillas_realizar_pagos",onChange:q,children:"Realizar pagos"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.planillas_historial,name:"planillas_historial",onChange:q,children:"Historial de pagos"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.planillas_incentivos,name:"planillas_incentivos",onChange:q,children:"Incentivos"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.planillas_casa,name:"planillas_casa",onChange:q,children:"Casa"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.planillas_asociacion,name:"planillas_asociacion",onChange:q,children:"Asociaci\xf3n"})]})},{key:"4",label:"Log\xedstica",children:(0,f.jsxs)("div",{className:"check-container",children:[(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.logistica,name:"logistica",onChange:q,children:"Menu logistica"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.logistica_inventario,name:"logistica_inventario",onChange:q,children:"Inventario"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.logistica_almacen,name:"logistica_almacen",onChange:q,children:"Almacenes"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.logistica_requerimiento,name:"logistica_requerimiento",onChange:q,children:"Requerimientos"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.logistica_aprobacion,name:"logistica_aprobacion",onChange:q,children:"Aprobaciones"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.logistica_transferencia,name:"logistica_transferencia",onChange:q,children:"Transferencia"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.logistica_categoria,name:"logistica_categoria",onChange:q,children:"Categor\xedas"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.logistica_estadistica,name:"logistica_estadistica",onChange:q,children:"Estad\xedsticas"})]})},{key:"5",label:"Finanzas",children:(0,f.jsxs)("div",{className:"check-container",children:[(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.finanzas,name:"finanzas",onChange:q,children:"Menu finanzas"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.finanzas_ingreso,name:"finanzas_ingreso",onChange:q,children:"Ingresos/Egresos"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.finanzas_proveedor,name:"finanzas_proveedor",onChange:q,children:"Proveedores"}),(0,f.jsx)(u.Z,{checked:null===T||void 0===T?void 0:T.finanzas_sucursal,name:"finanzas_sucursal",onChange:q,children:"Sucursales"})]})}];return(0,f.jsxs)(d.Z,{className:"modal-permisos",title:"Modificar permisos",open:e,width:800,closeModal:M,children:[(0,f.jsxs)("section",{className:"modal-body",children:[(0,f.jsx)("div",{className:"header",children:(0,f.jsx)(p.Z,{disabled:!0,value:null===b||void 0===b?void 0:b.nombre,style:{width:"200px"}})}),(0,f.jsx)(h.Z,{className:"tabs",defaultActiveKey:"1",items:D,onChange:q,centered:!0})]}),(0,f.jsx)("div",{className:"button-container",children:(0,f.jsx)(m.ZP,{onClick:E,icon:(0,f.jsx)(_.JMf,{}),loading:!!k,children:"Guardar"})})]})}},69967:function(a,n,e){e(72791);var o=e(49998),i=e(80184);n.Z=function(a){var n=a.className,e=a.title,r=a.open,t=a.width,c=a.closeModal,s=a.children;return(0,i.jsx)(o.Z,{destroyOnClose:!0,className:n,title:e,open:r,centered:!0,onCancel:c,footer:null,width:t,children:s})}},4808:function(a,n,e){e(72791);var o=e(43513),i=e(34664),r=(e(51279),e(80184));n.Z=function(a){var n=a.columns,e=a.table,t=a.filas,c=t?[t,2*t,3*t,4*t,5*t]:[10,20,30,40,50];return(0,r.jsx)("div",{className:"table-container",children:(0,r.jsx)(o.ZP,{columns:n,data:e,pagination:!0,striped:!0,highlightOnHover:!0,responsive:!0,paginationComponentOptions:{rowsPerPageText:"Filas por p\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!1,selectAllRowsItemText:"Todos",preserveSelectedOnPageChange:!0},paginationPerPage:t||10,paginationRowsPerPageOptions:c,noDataComponent:(0,r.jsx)(i.Z,{image:i.Z.PRESENTED_IMAGE_SIMPLE,description:(0,r.jsx)("span",{children:"No hay registros para mostrar."})})})})}},16026:function(a,n,e){e.d(n,{Bq:function(){return m},FH:function(){return i},FN:function(){return o},JL:function(){return r},LR:function(){return l},Md:function(){return u},Oj:function(){return t},TT:function(){return v},Tc:function(){return f},XK:function(){return g},bf:function(){return Z},cB:function(){return j},d_:function(){return d},eJ:function(){return s},eT:function(){return x},g5:function(){return c},kb:function(){return h},n4:function(){return b},s:function(){return p},v2:function(){return _}});var o={nombre:"",usuario:"",contrasenia:"",estado:""},i={nombre:""},r={nombre:"",direccion:""},t=function(){return{dni:"",codigo_trabajador:"",fecha_nacimiento:"",telefono:"",nombre:"",apellido_paterno:"",apellido_materno:"",email:"",estado_civil:"",genero:"",direccion:"",asociacion_id:null,eliminar:!1}},c=function(a){return{fecha_evaluacion:"",capacitacion_sso:"",capacitacion_gema:"",evaluacion_laboral:"",presion_arterial:"",temperatura:"",saturacion:"",imc:"",pulso:"",diabetes:"",antecedentes:"",emo:"",trabajador_id:a.dni,aprobado:"",recomendado_por:"",cooperativa:"",condicion_cooperativa:"",fiscalizador:"",fiscalizador_aprobado:"no",control:"no",topico:"no",seguridad:"no",medio_ambiente:"no",recursos_humanos:"no",topico_observacion:"",control_observacion:"",seguridad_observacion:"",medio_ambiente_observacion:"",recursos_humanos_observacion:"",finalizado:!1,gerencia_id:"",area_id:"",puesto_id:"",campamento_id:""}},s=function(a,n){var e;return{fecha_inicio:"",codigo_contrato:"",tipo_contrato:"",recomendado_por:"",cooperativa:"",condicion_cooperativa:"",periodo_trabajo:"",fecha_fin:"",gerencia_id:"",area_id:"",jefe_directo:"",base:"",termino_contrato:"",campamento_id:"",nota_contrato:"",asociacion_id:a&&(null===a||void 0===a?void 0:a.id),estado:!1,evaluacion_id:n,trabajadores:null===a||void 0===a||null===(e=a.trabajador)||void 0===e?void 0:e.map((function(a){return a.dni})),tareo:""}},l=function(a){return{fecha_inicio:"",codigo_contrato:"",tipo_contrato:"",recomendado_por:"",cooperativa:"",condicion_cooperativa:"",periodo_trabajo:"",fecha_fin:"",gerencia:"",area:"",jefe_directo:"",base:"",termino_contrato:"",campamento_id:"",nota_contrato:"",puesto:"",estado:!1,empresa_id:a}},d=function(a){return{sucursal_id:a,fecha:"",movimiento:"",forma_pago:"",encargado:"",area:"",cantidad:"",medida:"",descripcion:"",monto:"",proveedor:"",comprobante:"",dni:"",sucursal_transferencia:"",precio:""}},u={nombre:""},p={nombre:"",codigo:"",descripcion:"",saldo_inicial:""},h={nombre:"",codigo:"",descripcion:""},m=function(a,n){return{codigo:parseInt(n)+1,nombre:"",codigo_interno:"",codigo_barras:"",descripcion:"",categoria_id:"",unidad_id:"",precio:"",fecha:"",observacion:"",almacen_id:"",stock:"0",costo_total:""}},_=function(a){return{codigo:"",motivo:"",fecha:"",encargado:"",codigo_compra:"",boleta:"",codigo_requerimiento:"",producto_id:"",categoria:"",cantidad:"",unidad:"",tipo:a,producto:"",almacen_id:"",codigo_pedido:"",costo:"",dni:"",costo_total:"",area_id:"",personal:"",retornable:""}},v=function(a,n){return{codigo:"",fecha_pedido:"",fecha_entrega:"",solicitante:"",area:"",celular:"",proyecto:"",producto_id:"",cantidad:"",unidad:"",estado:"",producto:"",personal:"",dni:""}},f=function(){return{id:"",nombre:"",contrato_id:"",observacion:"",fecha_pago:new Date,teletrans:"",tipo:"incentivo",trabajador_dni:""}},g=function(){return{id:"",observacion:"",fecha_pago:new Date,teletrans:"",tipo:"incentivo",trabajadores:[]}},x=function(){return{id:"",razon_social:"",contrato_id:"",observacion:"",fecha_pago:new Date,teletrans:"",volquetes:"",tipo:"casa"}},j=function(){return{id:"",nombre:"",trabajador_dni:"",observacion:"",fecha_pago:new Date,hora:new Date,placa:"",propietario:"",trapiche:"",volquetes:"",teletrans:"",tipo:"extraordinario"}},b=function(){return{id:"",hora:new Date,placa:"",propietario:"",trapiche:"",volquetes:"",teletrans:""}},Z=function(){return{id:"",observacion:"",fecha_pago:new Date,teletrans:"",volquetes:"",tipo:"asociacion",contrato_id:"",asociacion:[]}}},95579:function(a,n,e){var o=e(72791),i=e(38411);n.Z=function(a){var n=(0,o.useContext)(i.s),e=n.filterText,r=(n.filterTextModal,n.result),t=n.setResult;return(0,o.useEffect)((function(){if(""!==e){var n=a.filter((function(a){return Object.values(a).join("").toLowerCase().includes(e.toLowerCase())}));t(n)}else t(a)}),[e,a]),{result:r}}}}]);
//# sourceMappingURL=6615.e4c13398.chunk.js.map