{"version":3,"file":"static/js/797.8bb8f768.chunk.js","mappings":"oRA2FA,EAjFc,WACZ,IAAMA,GAAWC,EAAAA,EAAAA,MACjB,GAA8CC,EAAAA,EAAAA,YAAWC,EAAAA,GAAjDC,EAAU,EAAVA,WAAYC,EAAW,EAAXA,YAAaC,EAAQ,EAARA,SACjC,GAAgCC,EAAAA,EAAAA,UAAS,IAAG,eAArCC,EAAQ,KAAEC,EAAW,KAE5B,GAAsCF,EAAAA,EAAAA,UAAS,IAAG,eAA3CG,EAAW,KAAEC,EAAc,KAE5BC,EAAY,yCAAG,6GAIlB,OAHGC,EAAO,CACTC,KAAMN,EACNE,YAAaA,GACb,EAAD,OAEsBN,EAAWS,EAAM,QAAQ,KAAD,EACvB,OADlBE,EAAQ,QACDC,QACXC,aAAaC,QAAQ,OAAQC,KAAKC,UAAuB,QAAd,EAACL,EAASM,YAAI,aAAb,EAAeC,SAC3DL,aAAaC,QAAQ,QAASC,KAAKC,UAAuB,QAAd,EAACL,EAASM,YAAI,aAAb,EAAeE,WAC5DN,aAAaC,QACX,WACAC,KAAKC,UAAkB,OAARL,QAAQ,IAARA,GAAc,QAAN,EAARA,EAAUM,YAAI,OAAK,QAAL,EAAd,EAAgBG,WAAG,WAAX,EAAR,EAAqBC,SAAS,KAE/CR,aAAaC,QAAQ,QAASC,KAAKC,UAAuB,QAAd,EAACL,EAASM,YAAI,aAAb,EAAeK,OAC5DrB,EAAoB,OAARU,QAAQ,IAARA,GAAc,QAAN,EAARA,EAAUM,YAAI,OAAK,QAAL,EAAd,EAAgBG,WAAG,WAAX,EAAR,EAAqBC,WACjCE,EAAAA,EAAAA,GAAaZ,EAASC,OAAQD,EAASa,KACvCC,EAAiB,OAARd,QAAQ,IAARA,GAAc,QAAN,EAARA,EAAUM,YAAI,OAAK,QAAL,EAAd,EAAgBG,WAAG,WAAX,EAAR,EAAqBC,YAE9BE,EAAAA,EAAAA,GAAaZ,EAASC,OAAQD,EAASa,KACxC,2CACF,kBArBiB,mCAuBZC,EAAW,SAACJ,GAAc,IAAD,UAC7B,OAAoC,KAArB,QAAX,EAAAA,EAAS,UAAE,aAAX,EAAaK,gBACR9B,EAAS,oBACmB,KAAf,QAAX,EAAAyB,EAAS,UAAE,aAAX,EAAaM,UACf/B,EAAS,cACoB,KAAhB,QAAX,EAAAyB,EAAS,UAAE,aAAX,EAAaO,WACfhC,EAAS,cACoB,KAAhB,QAAX,EAAAyB,EAAS,UAAE,aAAX,EAAaQ,WACfjC,EAAS,eACmB,KAAf,QAAX,EAAAyB,EAAS,UAAE,aAAX,EAAaS,UACflC,EAAS,kBADX,CAGT,EAEA,OACE,gBAAKmC,UAAU,cAAa,UAC1B,gBAAKA,UAAU,QAAO,UACpB,qBAASA,UAAU,aAAY,WAC7B,gBAAKA,UAAU,OAAM,UACnB,gBAAKC,IAAKC,EAAUC,IAAI,QAE1B,iBAAKH,UAAU,SAAQ,WACrB,4BACE,kBAAOI,QAAQ,GAAE,SAAC,aAClB,SAAC,IAAK,CACJJ,UAAU,aACVK,KAAK,OACLC,YAAY,UACZC,SAAU,SAACC,GAAC,OAAKlC,EAAYkC,EAAEC,OAAOC,MAAM,QAGhD,4BACE,kBAAON,QAAQ,GAAE,SAAC,mBAElB,SAAC,aAAc,CACbJ,UAAU,aACVK,KAAK,cACLC,YAAY,gBACZC,SAAU,SAACC,GAAC,OAAKhC,EAAegC,EAAEC,OAAOC,MAAM,WAIrD,SAAC,KAAM,CAACC,QAASlC,EAAcmC,UAASzC,EAAwB,SAAC,4BAO3E,C","sources":["components/login/Login.jsx"],"sourcesContent":["import { Button, Input } from \"antd\";\nimport React, { useContext } from \"react\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { CrudContext } from \"../../context/CrudContext\";\nimport { notificacion } from \"../../helpers/mensajes\";\nimport cecomirl from \"../../assets/cecomirl.jpeg\";\n\nimport \"./login.css\";\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const { createData, setPermisos, cargando } = useContext(CrudContext);\n  const [userData, setUserData] = useState(\"\");\n\n  const [contrasenia, setContrasenia] = useState(\"\");\n\n  const handleSubmit = async () => {\n    let info = {\n      user: userData,\n      contrasenia: contrasenia,\n    };\n\n    const response = await createData(info, \"auth\");\n    if (response.status === 200) {\n      localStorage.setItem(\"user\", JSON.stringify(response.data?.nombre));\n      localStorage.setItem(\"cargo\", JSON.stringify(response.data?.cargo_id));\n      localStorage.setItem(\n        \"permisos\",\n        JSON.stringify(response?.data?.rol?.permisos[0])\n      );\n      localStorage.setItem(\"firma\", JSON.stringify(response.data?.foto));\n      setPermisos(response?.data?.rol?.permisos);\n      notificacion(response.status, response.msg);\n      redirect(response?.data?.rol?.permisos);\n    } else {\n      notificacion(response.status, response.msg);\n    }\n  };\n\n  const redirect = (permisos) => {\n    if (permisos[0]?.administracion === true) {\n      return navigate(\"/administracion\");\n    } else if (permisos[0]?.personal === true) {\n      return navigate(\"/personal\");\n    } else if (permisos[0]?.planillas === true) {\n      return navigate(\"/planilla\");\n    } else if (permisos[0]?.logistica === true) {\n      return navigate(\"/logistica\");\n    } else if (permisos[0]?.finanzas === true) {\n      return navigate(\"/finanzas\");\n    }\n  };\n\n  return (\n    <div className=\"fondo-login\">\n      <div className=\"login\">\n        <section className=\"login-form\">\n          <div className=\"logo\">\n            <img src={cecomirl} alt=\"\" />\n          </div>\n          <div className=\"inputs\">\n            <div>\n              <label htmlFor=\"\">Usuario</label>\n              <Input\n                className=\"input-form\"\n                name=\"user\"\n                placeholder=\"Usuario\"\n                onChange={(e) => setUserData(e.target.value)}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"\">Contraseña</label>\n\n              <Input.Password\n                className=\"input-form\"\n                name=\"contrasenia\"\n                placeholder=\"Contraseña\"\n                onChange={(e) => setContrasenia(e.target.value)}\n              />\n            </div>\n          </div>\n          <Button onClick={handleSubmit} loading={cargando ? true : false}>\n            Iniciar Sesión\n          </Button>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"names":["navigate","useNavigate","useContext","CrudContext","createData","setPermisos","cargando","useState","userData","setUserData","contrasenia","setContrasenia","handleSubmit","info","user","response","status","localStorage","setItem","JSON","stringify","data","nombre","cargo_id","rol","permisos","foto","notificacion","msg","redirect","administracion","personal","planillas","logistica","finanzas","className","src","cecomirl","alt","htmlFor","name","placeholder","onChange","e","target","value","onClick","loading"],"sourceRoot":""}